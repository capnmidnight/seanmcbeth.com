function b(t,o,e){return typeof t===o||t instanceof e}function c(t){return b(t,"string",String)}function u(t){return p(t)&&b(t,"object",Object)}function s(t){return t==null}function p(t){return!s(t)}function m(t){return t.splice(0)}var a=class{constructor(o=!0){this.autoStart=o,this.onThens=new Array,this.onCatches=new Array,this._result=void 0,this._error=void 0,this._executionState="waiting",this._resultState="none",this.resolve=e=>{if(this.running){this._result=e,this._resultState="resolved";for(let n of this.onThens)n(e);this.clear(),this._executionState="finished"}},this.reject=e=>{if(this.running){this._error=e,this._resultState="errored";for(let n of this.onCatches)n(e);this.clear(),this._executionState="finished"}},this.autoStart&&this.start()}clear(){m(this.onThens),m(this.onCatches)}start(){this._executionState="running"}resolver(o){return()=>this.resolve(o)}resolveOn(o,e,n){let i=this.resolver(n);o.addEventListener(e,i),this.finally(()=>o.removeEventListener(e,i))}get result(){if(p(this.error))throw this.error;return this._result}get error(){return this._error}get executionState(){return this._executionState}get waiting(){return this.executionState==="waiting"}get started(){return this.executionState!=="waiting"}get running(){return this.executionState==="running"}get finished(){return this.executionState==="finished"}get resultState(){return this._resultState}get resolved(){return this.resultState==="resolved"}get errored(){return this.resultState==="errored"}get[Symbol.toStringTag](){return this.toString()}project(){return new Promise((o,e)=>{this.finished?this.errored?e(this.error):o(this.result):(this.onThens.push(o),this.onCatches.push(e))})}then(o,e){return this.project().then(o,e)}catch(o){return this.project().catch(o)}finally(o){return this.project().finally(o)}reset(){this._reset(this.autoStart)}restart(){this._reset(!0)}_reset(o){this.running&&this.reject("Resetting previous invocation"),this.clear(),this._result=void 0,this._error=void 0,this._executionState="waiting",this._resultState="none",o&&this.start()}};function M(t){return u(t)?t.element instanceof Element:!1}function C(t){return M(t)?t.element:c(t)?l(t):t}function v(t,o,e=""){t=C(t),o?(t.style.removeProperty("display"),getComputedStyle(t).display==="none"&&(t.style.display=e||"block")):t.style.display="none"}function l(t){return document.querySelector(t)}function d(t){return l(t)}function g(t){return l(t)}var _=class{constructor(o){this.msgBox=o,this.task=new a(!1),this.msgBoxConfirm=this.msgBox.querySelector("button.confirm"),this.msgBoxCancel=this.msgBox.querySelector("button.cancel"),this.msgBoxConfirm.addEventListener("click",this.task.resolver(!0)),this.msgBoxCancel.addEventListener("click",this.task.resolver(!1))}async show(){return this.task.restart(),v(this.msgBox,!0,"block"),await this.task,v(this.msgBox,!1),this.task.result}};function V(t,o,e){let n=d(t),i=l(o);if(n&&i){let x=new _(i);x&&n.addEventListener("click",async()=>{n.form.action=n.form.action.replace(/handler=\w+/,`handler=${e}`),await x.show()&&n.form.submit()},!0)}}function y(t,o=1,e=1,n=.01){o*=1e3,e*=1e3,n*=1e3;let i=o+e,x=setInterval(()=>{i-=n;let h=i>e?1:i/e;t.style.opacity=`${Math.min(100,h*100)}%`,i===0&&(t.style.display="none",clearInterval(x))},n)}function X(){let t=document.querySelectorAll(".alert");for(let o of t)o.style.display!=="none"&&y(o,2,.5)}var S=d("#saveDetailButton"),I=d("#deleteDetailButton"),k=g("#nameInput")||g("#headsetName");X();if(S){let t=function(){S.disabled=k.value.length===0};V("#saveDetailButton","#saveDetailMessage","Update"),t(),k.addEventListener("input",()=>t())}I&&V("#deleteDetailButton","#deleteDetailMessage","Delete");
