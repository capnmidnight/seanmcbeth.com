var Au=Object.create;var Xi=Object.defineProperty;var Su=Object.getOwnPropertyDescriptor;var ku=Object.getOwnPropertyNames;var vu=Object.getPrototypeOf,Tu=Object.prototype.hasOwnProperty;var Ui=(o=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(o,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):o)(function(o){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+o+'" is not supported')});var rn=(o,e)=>()=>(e||o((e={exports:{}}).exports,e),e.exports),st=(o,e)=>{for(var t in e)Xi(o,t,{get:e[t],enumerable:!0})},bu=(o,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of ku(e))!Tu.call(o,i)&&i!==t&&Xi(o,i,{get:()=>e[i],enumerable:!(r=Su(e,i))||r.enumerable});return o};var yu=(o,e,t)=>(t=o!=null?Au(vu(o)):{},bu(e||!o||!o.__esModule?Xi(t,"default",{value:o,enumerable:!0}):t,o));var ma=rn(()=>{});var Jc=rn(()=>{});var $c=rn(()=>{});var Kc=rn(()=>{});var Yc=rn(()=>{});var Qc=rn(()=>{});var Zc=rn((exports,module)=>{(function(e,t){typeof exports=="object"&&typeof module=="object"?module.exports=t():typeof define=="function"&&define.amd?define("pdfjs-dist/build/pdf",[],t):typeof exports=="object"?exports["pdfjs-dist/build/pdf"]=t():e["pdfjs-dist/build/pdf"]=e.pdfjsLib=t()})(globalThis,()=>(()=>{"use strict";var __webpack_modules__=[,(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.VerbosityLevel=e.Util=e.UnknownErrorException=e.UnexpectedResponseException=e.UNSUPPORTED_FEATURES=e.TextRenderingMode=e.StreamType=e.RenderingIntentFlag=e.PermissionFlag=e.PasswordResponses=e.PasswordException=e.PageActionEventType=e.OPS=e.MissingPDFException=e.LINE_FACTOR=e.LINE_DESCENT_FACTOR=e.InvalidPDFException=e.ImageKind=e.IDENTITY_MATRIX=e.FormatError=e.FontType=e.FeatureTest=e.FONT_IDENTITY_MATRIX=e.DocumentActionEventType=e.CMapCompressionType=e.BaseException=e.AnnotationType=e.AnnotationStateModelType=e.AnnotationReviewState=e.AnnotationReplyType=e.AnnotationMode=e.AnnotationMarkedState=e.AnnotationFlag=e.AnnotationFieldFlag=e.AnnotationEditorType=e.AnnotationEditorPrefix=e.AnnotationEditorParamsType=e.AnnotationBorderStyleType=e.AnnotationActionEventType=e.AbortException=void 0,e.arrayByteLength=ue,e.arraysToBytes=pe,e.assert=P,e.bytesToString=ae,e.createPromiseCapability=_u,e.createValidAbsoluteUrl=g,e.escapeString=nn,e.getModificationDate=wu,e.getVerbosityLevel=R,e.info=_,e.isArrayBuffer=xu,e.isArrayEqual=Fu,e.isAscii=Je,e.objectFromMap=ce,e.objectSize=xe,e.setVerbosityLevel=K,e.shadow=v,e.string32=he,e.stringToBytes=ne,e.stringToPDFString=nt,e.stringToUTF16BEString=Xe,e.stringToUTF8String=Yo,e.unreachable=E,e.utf8StringToString=fu,e.warn=F,t(2);let r=[1,0,0,1,0,0];e.IDENTITY_MATRIX=r;let i=[.001,0,0,.001,0,0];e.FONT_IDENTITY_MATRIX=i;let s=1.35;e.LINE_FACTOR=s;let l=.35;e.LINE_DESCENT_FACTOR=l;let d={ANY:1,DISPLAY:2,PRINT:4,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256};e.RenderingIntentFlag=d;let u={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3};e.AnnotationMode=u;let a="pdfjs_internal_editor_";e.AnnotationEditorPrefix=a;let p={DISABLE:-1,NONE:0,FREETEXT:3,INK:15};e.AnnotationEditorType=p;let x={FREETEXT_SIZE:1,FREETEXT_COLOR:2,FREETEXT_OPACITY:3,INK_COLOR:11,INK_THICKNESS:12,INK_OPACITY:13};e.AnnotationEditorParamsType=x;let w={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048};e.PermissionFlag=w;let S={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4};e.TextRenderingMode=S;let m={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3};e.ImageKind=m;let A={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26};e.AnnotationType=A;let b={MARKED:"Marked",REVIEW:"Review"};e.AnnotationStateModelType=b;let I={MARKED:"Marked",UNMARKED:"Unmarked"};e.AnnotationMarkedState=I;let C={ACCEPTED:"Accepted",REJECTED:"Rejected",CANCELLED:"Cancelled",COMPLETED:"Completed",NONE:"None"};e.AnnotationReviewState=C;let M={GROUP:"Group",REPLY:"R"};e.AnnotationReplyType=M;let k={INVISIBLE:1,HIDDEN:2,PRINT:4,NOZOOM:8,NOROTATE:16,NOVIEW:32,READONLY:64,LOCKED:128,TOGGLENOVIEW:256,LOCKEDCONTENTS:512};e.AnnotationFlag=k;let h={READONLY:1,REQUIRED:2,NOEXPORT:4,MULTILINE:4096,PASSWORD:8192,NOTOGGLETOOFF:16384,RADIO:32768,PUSHBUTTON:65536,COMBO:131072,EDIT:262144,SORT:524288,FILESELECT:1048576,MULTISELECT:2097152,DONOTSPELLCHECK:4194304,DONOTSCROLL:8388608,COMB:16777216,RICHTEXT:33554432,RADIOSINUNISON:33554432,COMMITONSELCHANGE:67108864};e.AnnotationFieldFlag=h;let f={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5};e.AnnotationBorderStyleType=f;let T={E:"Mouse Enter",X:"Mouse Exit",D:"Mouse Down",U:"Mouse Up",Fo:"Focus",Bl:"Blur",PO:"PageOpen",PC:"PageClose",PV:"PageVisible",PI:"PageInvisible",K:"Keystroke",F:"Format",V:"Validate",C:"Calculate"};e.AnnotationActionEventType=T;let L={WC:"WillClose",WS:"WillSave",DS:"DidSave",WP:"WillPrint",DP:"DidPrint"};e.DocumentActionEventType=L;let D={O:"PageOpen",C:"PageClose"};e.PageActionEventType=D;let H={UNKNOWN:"UNKNOWN",FLATE:"FLATE",LZW:"LZW",DCT:"DCT",JPX:"JPX",JBIG:"JBIG",A85:"A85",AHX:"AHX",CCF:"CCF",RLX:"RLX"};e.StreamType=H;let N={UNKNOWN:"UNKNOWN",TYPE1:"TYPE1",TYPE1STANDARD:"TYPE1STANDARD",TYPE1C:"TYPE1C",CIDFONTTYPE0:"CIDFONTTYPE0",CIDFONTTYPE0C:"CIDFONTTYPE0C",TRUETYPE:"TRUETYPE",CIDFONTTYPE2:"CIDFONTTYPE2",TYPE3:"TYPE3",OPENTYPE:"OPENTYPE",TYPE0:"TYPE0",MMTYPE1:"MMTYPE1"};e.FontType=N;let ee={ERRORS:0,WARNINGS:1,INFOS:5};e.VerbosityLevel=ee;let te={NONE:0,BINARY:1,STREAM:2};e.CMapCompressionType=te;let X={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotations:78,endAnnotations:79,beginAnnotation:80,endAnnotation:81,paintJpegXObject:82,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91};e.OPS=X;let j={unknown:"unknown",forms:"forms",javaScript:"javaScript",signatures:"signatures",smask:"smask",shadingPattern:"shadingPattern",font:"font",errorTilingPattern:"errorTilingPattern",errorExtGState:"errorExtGState",errorXObject:"errorXObject",errorFontLoadType3:"errorFontLoadType3",errorFontState:"errorFontState",errorFontMissing:"errorFontMissing",errorFontTranslate:"errorFontTranslate",errorColorSpace:"errorColorSpace",errorOperatorList:"errorOperatorList",errorFontToUnicode:"errorFontToUnicode",errorFontLoadNative:"errorFontLoadNative",errorFontBuildPath:"errorFontBuildPath",errorFontGetPath:"errorFontGetPath",errorMarkedContent:"errorMarkedContent",errorContentSubStream:"errorContentSubStream"};e.UNSUPPORTED_FEATURES=j;let U={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};e.PasswordResponses=U;let Q=ee.WARNINGS;function K(re){Number.isInteger(re)&&(Q=re)}function R(){return Q}function _(re){Q>=ee.INFOS&&console.log(`Info: ${re}`)}function F(re){Q>=ee.WARNINGS&&console.log(`Warning: ${re}`)}function E(re){throw new Error(re)}function P(re,J){re||E(J)}function c(re){if(!re)return!1;switch(re.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function g(re,J=null,$=null){if(!re)return null;try{if($&&typeof re=="string"){if($.addDefaultProtocol&&re.startsWith("www.")){let _e=re.match(/\./g);_e&&_e.length>=2&&(re=`http://${re}`)}if($.tryConvertEncoding)try{re=Yo(re)}catch{}}let de=J?new URL(re,J):new URL(re);if(c(de))return de}catch{}return null}function v(re,J,$){return Object.defineProperty(re,J,{value:$,enumerable:!0,configurable:!0,writable:!1}),$}let y=function(){function J($,de){this.constructor===J&&E("Cannot initialize BaseException."),this.message=$,this.name=de}return J.prototype=new Error,J.constructor=J,J}();e.BaseException=y;class B extends y{constructor(J,$){super(J,"PasswordException"),this.code=$}}e.PasswordException=B;class V extends y{constructor(J,$){super(J,"UnknownErrorException"),this.details=$}}e.UnknownErrorException=V;class W extends y{constructor(J){super(J,"InvalidPDFException")}}e.InvalidPDFException=W;class z extends y{constructor(J){super(J,"MissingPDFException")}}e.MissingPDFException=z;class Y extends y{constructor(J,$){super(J,"UnexpectedResponseException"),this.status=$}}e.UnexpectedResponseException=Y;class G extends y{constructor(J){super(J,"FormatError")}}e.FormatError=G;class Z extends y{constructor(J){super(J,"AbortException")}}e.AbortException=Z;function ae(re){(typeof re!="object"||re===null||re.length===void 0)&&E("Invalid argument for bytesToString");let J=re.length,$=8192;if(J<$)return String.fromCharCode.apply(null,re);let de=[];for(let _e=0;_e<J;_e+=$){let Le=Math.min(_e+$,J),Ce=re.subarray(_e,Le);de.push(String.fromCharCode.apply(null,Ce))}return de.join("")}function ne(re){typeof re!="string"&&E("Invalid argument for stringToBytes");let J=re.length,$=new Uint8Array(J);for(let de=0;de<J;++de)$[de]=re.charCodeAt(de)&255;return $}function ue(re){if(re.length!==void 0)return re.length;if(re.byteLength!==void 0)return re.byteLength;E("Invalid argument for arrayByteLength")}function pe(re){let J=re.length;if(J===1&&re[0]instanceof Uint8Array)return re[0];let $=0;for(let Le=0;Le<J;Le++)$+=ue(re[Le]);let de=0,_e=new Uint8Array($);for(let Le=0;Le<J;Le++){let Ce=re[Le];Ce instanceof Uint8Array||(typeof Ce=="string"?Ce=ne(Ce):Ce=new Uint8Array(Ce));let zt=Ce.byteLength;_e.set(Ce,de),de+=zt}return _e}function he(re){return String.fromCharCode(re>>24&255,re>>16&255,re>>8&255,re&255)}function xe(re){return Object.keys(re).length}function ce(re){let J=Object.create(null);for(let[$,de]of re)J[$]=de;return J}function Ne(){let re=new Uint8Array(4);return re[0]=1,new Uint32Array(re.buffer,0,1)[0]===1}function qe(){try{return new Function(""),!0}catch{return!1}}class Fe{static get isLittleEndian(){return v(this,"isLittleEndian",Ne())}static get isEvalSupported(){return v(this,"isEvalSupported",qe())}static get isOffscreenCanvasSupported(){return v(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}}e.FeatureTest=Fe;let Ve=[...Array(256).keys()].map(re=>re.toString(16).padStart(2,"0"));class ze{static makeHexColor(J,$,de){return`#${Ve[J]}${Ve[$]}${Ve[de]}`}static scaleMinMax(J,$){let de;J[0]?(J[0]<0&&(de=$[0],$[0]=$[1],$[1]=de),$[0]*=J[0],$[1]*=J[0],J[3]<0&&(de=$[2],$[2]=$[3],$[3]=de),$[2]*=J[3],$[3]*=J[3]):(de=$[0],$[0]=$[2],$[2]=de,de=$[1],$[1]=$[3],$[3]=de,J[1]<0&&(de=$[2],$[2]=$[3],$[3]=de),$[2]*=J[1],$[3]*=J[1],J[2]<0&&(de=$[0],$[0]=$[1],$[1]=de),$[0]*=J[2],$[1]*=J[2]),$[0]+=J[4],$[1]+=J[4],$[2]+=J[5],$[3]+=J[5]}static transform(J,$){return[J[0]*$[0]+J[2]*$[1],J[1]*$[0]+J[3]*$[1],J[0]*$[2]+J[2]*$[3],J[1]*$[2]+J[3]*$[3],J[0]*$[4]+J[2]*$[5]+J[4],J[1]*$[4]+J[3]*$[5]+J[5]]}static applyTransform(J,$){let de=J[0]*$[0]+J[1]*$[2]+$[4],_e=J[0]*$[1]+J[1]*$[3]+$[5];return[de,_e]}static applyInverseTransform(J,$){let de=$[0]*$[3]-$[1]*$[2],_e=(J[0]*$[3]-J[1]*$[2]+$[2]*$[5]-$[4]*$[3])/de,Le=(-J[0]*$[1]+J[1]*$[0]+$[4]*$[1]-$[5]*$[0])/de;return[_e,Le]}static getAxialAlignedBoundingBox(J,$){let de=ze.applyTransform(J,$),_e=ze.applyTransform(J.slice(2,4),$),Le=ze.applyTransform([J[0],J[3]],$),Ce=ze.applyTransform([J[2],J[1]],$);return[Math.min(de[0],_e[0],Le[0],Ce[0]),Math.min(de[1],_e[1],Le[1],Ce[1]),Math.max(de[0],_e[0],Le[0],Ce[0]),Math.max(de[1],_e[1],Le[1],Ce[1])]}static inverseTransform(J){let $=J[0]*J[3]-J[1]*J[2];return[J[3]/$,-J[1]/$,-J[2]/$,J[0]/$,(J[2]*J[5]-J[4]*J[3])/$,(J[4]*J[1]-J[5]*J[0])/$]}static apply3dTransform(J,$){return[J[0]*$[0]+J[1]*$[1]+J[2]*$[2],J[3]*$[0]+J[4]*$[1]+J[5]*$[2],J[6]*$[0]+J[7]*$[1]+J[8]*$[2]]}static singularValueDecompose2dScale(J){let $=[J[0],J[2],J[1],J[3]],de=J[0]*$[0]+J[1]*$[2],_e=J[0]*$[1]+J[1]*$[3],Le=J[2]*$[0]+J[3]*$[2],Ce=J[2]*$[1]+J[3]*$[3],zt=(de+Ce)/2,yn=Math.sqrt((de+Ce)**2-4*(de*Ce-Le*_e))/2,on=zt+yn||1,it=zt-yn||1;return[Math.sqrt(on),Math.sqrt(it)]}static normalizeRect(J){let $=J.slice(0);return J[0]>J[2]&&($[0]=J[2],$[2]=J[0]),J[1]>J[3]&&($[1]=J[3],$[3]=J[1]),$}static intersect(J,$){let de=Math.max(Math.min(J[0],J[2]),Math.min($[0],$[2])),_e=Math.min(Math.max(J[0],J[2]),Math.max($[0],$[2]));if(de>_e)return null;let Le=Math.max(Math.min(J[1],J[3]),Math.min($[1],$[3])),Ce=Math.min(Math.max(J[1],J[3]),Math.max($[1],$[3]));return Le>Ce?null:[de,Le,_e,Ce]}static bezierBoundingBox(J,$,de,_e,Le,Ce,zt,yn){let on=[],it=[[],[]],En,Gt,Qo,$e,Zo,er,Ni,Hi;for(let ji=0;ji<2;++ji){if(ji===0?(Gt=6*J-12*de+6*Le,En=-3*J+9*de-9*Le+3*zt,Qo=3*de-3*J):(Gt=6*$-12*_e+6*Ce,En=-3*$+9*_e-9*Ce+3*yn,Qo=3*_e-3*$),Math.abs(En)<1e-12){if(Math.abs(Gt)<1e-12)continue;$e=-Qo/Gt,0<$e&&$e<1&&on.push($e);continue}Ni=Gt*Gt-4*Qo*En,Hi=Math.sqrt(Ni),!(Ni<0)&&(Zo=(-Gt+Hi)/(2*En),0<Zo&&Zo<1&&on.push(Zo),er=(-Gt-Hi)/(2*En),0<er&&er<1&&on.push(er))}let lo=on.length,ut,co=lo;for(;lo--;)$e=on[lo],ut=1-$e,it[0][lo]=ut*ut*ut*J+3*ut*ut*$e*de+3*ut*$e*$e*Le+$e*$e*$e*zt,it[1][lo]=ut*ut*ut*$+3*ut*ut*$e*_e+3*ut*$e*$e*Ce+$e*$e*$e*yn;return it[0][co]=J,it[1][co]=$,it[0][co+1]=zt,it[1][co+1]=yn,it[0].length=it[1].length=co+2,[Math.min(...it[0]),Math.min(...it[1]),Math.max(...it[0]),Math.max(...it[1])]}}e.Util=ze;let xt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,728,711,710,729,733,731,730,732,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,8226,8224,8225,8230,8212,8211,402,8260,8249,8250,8722,8240,8222,8220,8221,8216,8217,8218,8482,64257,64258,321,338,352,376,381,305,322,339,353,382,0,8364];function nt(re){if(re[0]>="\xEF"){let $;if(re[0]==="\xFE"&&re[1]==="\xFF"?$="utf-16be":re[0]==="\xFF"&&re[1]==="\xFE"?$="utf-16le":re[0]==="\xEF"&&re[1]==="\xBB"&&re[2]==="\xBF"&&($="utf-8"),$)try{let de=new TextDecoder($,{fatal:!0}),_e=ne(re);return de.decode(_e)}catch(de){F(`stringToPDFString: "${de}".`)}}let J=[];for(let $=0,de=re.length;$<de;$++){let _e=xt[re.charCodeAt($)];J.push(_e?String.fromCharCode(_e):re.charAt($))}return J.join("")}function nn(re){return re.replace(/([()\\\n\r])/g,J=>J===`
`?"\\n":J==="\r"?"\\r":`\\${J}`)}function Je(re){return/^[\x00-\x7F]*$/.test(re)}function Xe(re){let J=["\xFE\xFF"];for(let $=0,de=re.length;$<de;$++){let _e=re.charCodeAt($);J.push(String.fromCharCode(_e>>8&255),String.fromCharCode(_e&255))}return J.join("")}function Yo(re){return decodeURIComponent(escape(re))}function fu(re){return unescape(encodeURIComponent(re))}function xu(re){return typeof re=="object"&&re!==null&&re.byteLength!==void 0}function Fu(re,J){if(re.length!==J.length)return!1;for(let $=0,de=re.length;$<de;$++)if(re[$]!==J[$])return!1;return!0}function wu(re=new Date){return[re.getUTCFullYear().toString(),(re.getUTCMonth()+1).toString().padStart(2,"0"),re.getUTCDate().toString().padStart(2,"0"),re.getUTCHours().toString().padStart(2,"0"),re.getUTCMinutes().toString().padStart(2,"0"),re.getUTCSeconds().toString().padStart(2,"0")].join("")}function _u(){let re=Object.create(null),J=!1;return Object.defineProperty(re,"settled",{get(){return J}}),re.promise=new Promise(function($,de){re.resolve=function(_e){J=!0,$(_e)},re.reject=function(_e){J=!0,de(_e)}}),re}},(o,e,t)=>{var r=t(3)},(o,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.isNodeJS=void 0;let t=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser");e.isNodeJS=t},(__unused_webpack_module,exports,__w_pdfjs_require__)=>{Object.defineProperty(exports,"__esModule",{value:!0}),exports.build=exports.RenderTask=exports.PDFWorkerUtil=exports.PDFWorker=exports.PDFPageProxy=exports.PDFDocumentProxy=exports.PDFDocumentLoadingTask=exports.PDFDataRangeTransport=exports.LoopbackPort=exports.DefaultStandardFontDataFactory=exports.DefaultCanvasFactory=exports.DefaultCMapReaderFactory=void 0,exports.getDocument=getDocument,exports.setPDFNetworkStreamFactory=setPDFNetworkStreamFactory,exports.version=void 0;var _util=__w_pdfjs_require__(1),_annotation_storage=__w_pdfjs_require__(5),_display_utils=__w_pdfjs_require__(8),_font_loader=__w_pdfjs_require__(11),_canvas=__w_pdfjs_require__(12),_worker_options=__w_pdfjs_require__(15),_is_node=__w_pdfjs_require__(3),_message_handler=__w_pdfjs_require__(16),_metadata=__w_pdfjs_require__(17),_optional_content_config=__w_pdfjs_require__(18),_transport_stream=__w_pdfjs_require__(19),_xfa_text=__w_pdfjs_require__(20);let DEFAULT_RANGE_CHUNK_SIZE=65536,RENDERING_CANCELLED_TIMEOUT=100,DefaultCanvasFactory=_display_utils.DOMCanvasFactory;exports.DefaultCanvasFactory=DefaultCanvasFactory;let DefaultCMapReaderFactory=_display_utils.DOMCMapReaderFactory;exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory;let DefaultStandardFontDataFactory=_display_utils.DOMStandardFontDataFactory;if(exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory,_is_node.isNodeJS){let{NodeCanvasFactory:o,NodeCMapReaderFactory:e,NodeStandardFontDataFactory:t}=__w_pdfjs_require__(21);exports.DefaultCanvasFactory=DefaultCanvasFactory=o,exports.DefaultCMapReaderFactory=DefaultCMapReaderFactory=e,exports.DefaultStandardFontDataFactory=DefaultStandardFontDataFactory=t}let createPDFNetworkStream;function setPDFNetworkStreamFactory(o){createPDFNetworkStream=o}function getDocument(o){let e=new PDFDocumentLoadingTask,t;if(typeof o=="string"||o instanceof URL)t={url:o};else if((0,_util.isArrayBuffer)(o))t={data:o};else if(o instanceof PDFDataRangeTransport)t={range:o};else{if(typeof o!="object")throw new Error("Invalid parameter in getDocument, need either string, URL, TypedArray, or parameter object.");if(!o.url&&!o.data&&!o.range)throw new Error("Invalid parameter object: need either .data, .range or .url");t=o}let r=Object.create(null),i=null,s=null;for(let d in t){let u=t[d];switch(d){case"url":if(typeof window<"u")try{r[d]=new URL(u,window.location).href;continue}catch(a){(0,_util.warn)(`Cannot create valid URL: "${a}".`)}else if(typeof u=="string"||u instanceof URL){r[d]=u.toString();continue}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.");case"range":i=u;continue;case"worker":s=u;continue;case"data":if(_is_node.isNodeJS&&typeof Buffer<"u"&&u instanceof Buffer)r[d]=new Uint8Array(u);else{if(u instanceof Uint8Array)break;if(typeof u=="string")r[d]=(0,_util.stringToBytes)(u);else if(typeof u=="object"&&u!==null&&!isNaN(u.length))r[d]=new Uint8Array(u);else if((0,_util.isArrayBuffer)(u))r[d]=new Uint8Array(u);else throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}continue}r[d]=u}if(r.CMapReaderFactory=r.CMapReaderFactory||DefaultCMapReaderFactory,r.StandardFontDataFactory=r.StandardFontDataFactory||DefaultStandardFontDataFactory,r.ignoreErrors=r.stopAtErrors!==!0,r.fontExtraProperties=r.fontExtraProperties===!0,r.pdfBug=r.pdfBug===!0,r.enableXfa=r.enableXfa===!0,(!Number.isInteger(r.rangeChunkSize)||r.rangeChunkSize<1)&&(r.rangeChunkSize=DEFAULT_RANGE_CHUNK_SIZE),(typeof r.docBaseUrl!="string"||(0,_display_utils.isDataScheme)(r.docBaseUrl))&&(r.docBaseUrl=null),(!Number.isInteger(r.maxImageSize)||r.maxImageSize<-1)&&(r.maxImageSize=-1),typeof r.cMapUrl!="string"&&(r.cMapUrl=null),typeof r.standardFontDataUrl!="string"&&(r.standardFontDataUrl=null),typeof r.useWorkerFetch!="boolean"&&(r.useWorkerFetch=r.CMapReaderFactory===_display_utils.DOMCMapReaderFactory&&r.StandardFontDataFactory===_display_utils.DOMStandardFontDataFactory),typeof r.isEvalSupported!="boolean"&&(r.isEvalSupported=!0),typeof r.disableFontFace!="boolean"&&(r.disableFontFace=_is_node.isNodeJS),typeof r.useSystemFonts!="boolean"&&(r.useSystemFonts=!_is_node.isNodeJS&&!r.disableFontFace),(typeof r.ownerDocument!="object"||r.ownerDocument===null)&&(r.ownerDocument=globalThis.document),typeof r.disableRange!="boolean"&&(r.disableRange=!1),typeof r.disableStream!="boolean"&&(r.disableStream=!1),typeof r.disableAutoFetch!="boolean"&&(r.disableAutoFetch=!1),(0,_util.setVerbosityLevel)(r.verbosity),!s){let d={verbosity:r.verbosity,port:_worker_options.GlobalWorkerOptions.workerPort};s=d.port?PDFWorker.fromPort(d):new PDFWorker(d),e._worker=s}let l=e.docId;return s.promise.then(function(){if(e.destroyed)throw new Error("Loading aborted");let d=_fetchDocument(s,r,i,l),u=new Promise(function(a){let p;i?p=new _transport_stream.PDFDataTransportStream({length:r.length,initialData:r.initialData,progressiveDone:r.progressiveDone,contentDispositionFilename:r.contentDispositionFilename,disableRange:r.disableRange,disableStream:r.disableStream},i):r.data||(p=createPDFNetworkStream({url:r.url,length:r.length,httpHeaders:r.httpHeaders,withCredentials:r.withCredentials,rangeChunkSize:r.rangeChunkSize,disableRange:r.disableRange,disableStream:r.disableStream})),a(p)});return Promise.all([d,u]).then(function([a,p]){if(e.destroyed)throw new Error("Loading aborted");let x=new _message_handler.MessageHandler(l,a,s.port),w=new WorkerTransport(x,e,p,r);e._transport=w,x.send("Ready",null)})}).catch(e._capability.reject),e}async function _fetchDocument(o,e,t,r){if(o.destroyed)throw new Error("Worker was destroyed");t&&(e.length=t.length,e.initialData=t.initialData,e.progressiveDone=t.progressiveDone,e.contentDispositionFilename=t.contentDispositionFilename);let i=await o.messageHandler.sendWithPromise("GetDocRequest",{docId:r,apiVersion:"2.16.105",source:{data:e.data,url:e.url,password:e.password,disableAutoFetch:e.disableAutoFetch,rangeChunkSize:e.rangeChunkSize,length:e.length},maxImageSize:e.maxImageSize,disableFontFace:e.disableFontFace,docBaseUrl:e.docBaseUrl,ignoreErrors:e.ignoreErrors,isEvalSupported:e.isEvalSupported,fontExtraProperties:e.fontExtraProperties,enableXfa:e.enableXfa,useSystemFonts:e.useSystemFonts,cMapUrl:e.useWorkerFetch?e.cMapUrl:null,standardFontDataUrl:e.useWorkerFetch?e.standardFontDataUrl:null});if(e.data&&(e.data=null),o.destroyed)throw new Error("Worker was destroyed");return i}class PDFDocumentLoadingTask{static#e=0;constructor(){this._capability=(0,_util.createPromiseCapability)(),this._transport=null,this._worker=null,this.docId=`d${PDFDocumentLoadingTask.#e++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null,this.onUnsupportedFeature=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0,await this._transport?.destroy(),this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}exports.PDFDocumentLoadingTask=PDFDocumentLoadingTask;class PDFDataRangeTransport{constructor(e,t,r=!1,i=null){this.length=e,this.initialData=t,this.progressiveDone=r,this.contentDispositionFilename=i,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=(0,_util.createPromiseCapability)()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(let r of this._rangeListeners)r(e,t)}onDataProgress(e,t){this._readyCapability.promise.then(()=>{for(let r of this._progressListeners)r(e,t)})}onDataProgressiveRead(e){this._readyCapability.promise.then(()=>{for(let t of this._progressiveReadListeners)t(e)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(let e of this._progressiveDoneListeners)e()})}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){(0,_util.unreachable)("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}exports.PDFDataRangeTransport=PDFDataRangeTransport;class PDFDocumentProxy{constructor(e,t){this._pdfInfo=e,this._transport=t,Object.defineProperty(this,"fingerprint",{get(){return(0,_display_utils.deprecated)("`PDFDocumentProxy.fingerprint`, please use `PDFDocumentProxy.fingerprints` instead."),this.fingerprints[0]}}),Object.defineProperty(this,"getStats",{value:async()=>((0,_display_utils.deprecated)("`PDFDocumentProxy.getStats`, please use the `PDFDocumentProxy.stats`-getter instead."),this.stats||{streamTypes:{},fontTypes:{}})})}get annotationStorage(){return this._transport.annotationStorage}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get stats(){return this._transport.stats}get isPureXfa(){return!!this._transport._htmlForXfa}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJavaScript(){return this._transport.getJavaScript()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){return this._transport.getOptionalContentConfig()}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(e=!1){return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}saveDocument(){return this._transport.annotationStorage.size<=0&&(0,_display_utils.deprecated)("saveDocument called while `annotationStorage` is empty, please use the getData-method instead."),this._transport.saveDocument()}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}exports.PDFDocumentProxy=PDFDocumentProxy;class PDFPageProxy{constructor(e,t,r,i,s=!1){this._pageIndex=e,this._pageInfo=t,this._ownerDocument=i,this._transport=r,this._stats=s?new _display_utils.StatTimer:null,this._pdfBug=s,this.commonObjs=r.commonObjs,this.objs=new PDFObjects,this._bitmaps=new Set,this.cleanupAfterRender=!1,this.pendingCleanup=!1,this._intentStates=new Map,this._annotationPromises=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:e,rotation:t=this.rotate,offsetX:r=0,offsetY:i=0,dontFlip:s=!1}={}){return new _display_utils.PageViewport({viewBox:this.view,scale:e,rotation:t,offsetX:r,offsetY:i,dontFlip:s})}getAnnotations({intent:e="display"}={}){let t=this._transport.getRenderingIntent(e),r=this._annotationPromises.get(t.cacheKey);return r||(r=this._transport.getAnnotations(this._pageIndex,t.renderingIntent),this._annotationPromises.set(t.cacheKey,r),r=r.then(i=>{for(let s of i)s.titleObj!==void 0&&Object.defineProperty(s,"title",{get(){return(0,_display_utils.deprecated)("`title`-property on annotation, please use `titleObj` instead."),s.titleObj.str}}),s.contentsObj!==void 0&&Object.defineProperty(s,"contents",{get(){return(0,_display_utils.deprecated)("`contents`-property on annotation, please use `contentsObj` instead."),s.contentsObj.str}});return i})),r}getJSActions(){return this._jsActionsPromise||=this._transport.getPageJSActions(this._pageIndex)}async getXfa(){return this._transport._htmlForXfa?.children[this._pageIndex]||null}render({canvasContext:e,viewport:t,intent:r="display",annotationMode:i=_util.AnnotationMode.ENABLE,transform:s=null,imageLayer:l=null,canvasFactory:d=null,background:u=null,optionalContentConfigPromise:a=null,annotationCanvasMap:p=null,pageColors:x=null,printAnnotationStorage:w=null}){arguments[0]?.renderInteractiveForms!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `renderInteractiveForms`-option, please use the `annotationMode`-option instead."),arguments[0].renderInteractiveForms===!0&&i===_util.AnnotationMode.ENABLE&&(i=_util.AnnotationMode.ENABLE_FORMS)),arguments[0]?.includeAnnotationStorage!==void 0&&((0,_display_utils.deprecated)("render no longer accepts the `includeAnnotationStorage`-option, please use the `annotationMode`-option instead."),arguments[0].includeAnnotationStorage===!0&&i===_util.AnnotationMode.ENABLE&&(i=_util.AnnotationMode.ENABLE_STORAGE)),this._stats&&this._stats.time("Overall");let S=this._transport.getRenderingIntent(r,i,w);this.pendingCleanup=!1,a||(a=this._transport.getOptionalContentConfig());let m=this._intentStates.get(S.cacheKey);m||(m=Object.create(null),this._intentStates.set(S.cacheKey,m)),m.streamReaderCancelTimeout&&(clearTimeout(m.streamReaderCancelTimeout),m.streamReaderCancelTimeout=null);let A=d||new DefaultCanvasFactory({ownerDocument:this._ownerDocument}),b=!!(S.renderingIntent&_util.RenderingIntentFlag.PRINT);m.displayReadyCapability||(m.displayReadyCapability=(0,_util.createPromiseCapability)(),m.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(S));let I=k=>{m.renderTasks.delete(C),(this.cleanupAfterRender||b)&&(this.pendingCleanup=!0),this._tryCleanup(),k?(C.capability.reject(k),this._abortOperatorList({intentState:m,reason:k instanceof Error?k:new Error(k)})):C.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"))},C=new InternalRenderTask({callback:I,params:{canvasContext:e,viewport:t,transform:s,imageLayer:l,background:u},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:p,operatorList:m.operatorList,pageIndex:this._pageIndex,canvasFactory:A,useRequestAnimationFrame:!b,pdfBug:this._pdfBug,pageColors:x});(m.renderTasks||=new Set).add(C);let M=C.task;return Promise.all([m.displayReadyCapability.promise,a]).then(([k,h])=>{if(this.pendingCleanup){I();return}this._stats&&this._stats.time("Rendering"),C.initializeGraphics({transparency:k,optionalContentConfig:h}),C.operatorListChanged()}).catch(I),M}getOperatorList({intent:e="display",annotationMode:t=_util.AnnotationMode.ENABLE,printAnnotationStorage:r=null}={}){function i(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(d))}let s=this._transport.getRenderingIntent(e,t,r,!0),l=this._intentStates.get(s.cacheKey);l||(l=Object.create(null),this._intentStates.set(s.cacheKey,l));let d;return l.opListReadCapability||(d=Object.create(null),d.operatorListChanged=i,l.opListReadCapability=(0,_util.createPromiseCapability)(),(l.renderTasks||=new Set).add(d),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},this._stats&&this._stats.time("Page Request"),this._pumpOperatorList(s)),l.opListReadCapability.promise}streamTextContent({disableCombineTextItems:e=!1,includeMarkedContent:t=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,combineTextItems:e!==!0,includeMarkedContent:t===!0},{highWaterMark:100,size(i){return i.items.length}})}getTextContent(e={}){if(this._transport._htmlForXfa)return this.getXfa().then(r=>_xfa_text.XfaText.textContent(r));let t=this.streamTextContent(e);return new Promise(function(r,i){function s(){l.read().then(function({value:u,done:a}){if(a){r(d);return}Object.assign(d.styles,u.styles),d.items.push(...u.items),s()},i)}let l=t.getReader(),d={items:[],styles:Object.create(null)};s()})}getStructTree(){return this._structTreePromise||=this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;let e=[];for(let t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(let r of t.renderTasks)e.push(r.completed),r.cancel();this.objs.clear();for(let t of this._bitmaps)t.close();return this._bitmaps.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,this.pendingCleanup=!1,Promise.all(e)}cleanup(e=!1){return this.pendingCleanup=!0,this._tryCleanup(e)}_tryCleanup(e=!1){if(!this.pendingCleanup)return!1;for(let{renderTasks:t,operatorList:r}of this._intentStates.values())if(t.size>0||!r.lastChunk)return!1;this._intentStates.clear(),this.objs.clear(),this._annotationPromises.clear(),this._jsActionsPromise=null,this._structTreePromise=null,e&&this._stats&&(this._stats=new _display_utils.StatTimer);for(let t of this._bitmaps)t.close();return this._bitmaps.clear(),this.pendingCleanup=!1,!0}_startRenderPage(e,t){let r=this._intentStates.get(t);r&&(this._stats&&this._stats.timeEnd("Page Request"),r.displayReadyCapability&&r.displayReadyCapability.resolve(e))}_renderPageChunk(e,t){for(let r=0,i=e.length;r<i;r++)t.operatorList.fnArray.push(e.fnArray[r]),t.operatorList.argsArray.push(e.argsArray[r]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(let r of t.renderTasks)r.operatorListChanged();e.lastChunk&&this._tryCleanup()}_pumpOperatorList({renderingIntent:e,cacheKey:t,annotationStorageMap:r}){let s=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:e,cacheKey:t,annotationStorage:r}).getReader(),l=this._intentStates.get(t);l.streamReader=s;let d=()=>{s.read().then(({value:u,done:a})=>{if(a){l.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(u,l),d())},u=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(let a of l.renderTasks)a.operatorListChanged();this._tryCleanup()}if(l.displayReadyCapability)l.displayReadyCapability.reject(u);else if(l.opListReadCapability)l.opListReadCapability.reject(u);else throw u}})};d()}_abortOperatorList({intentState:e,reason:t,force:r=!1}){if(e.streamReader){if(!r){if(e.renderTasks.size>0)return;if(t instanceof _display_utils.RenderingCancelledException){e.streamReaderCancelTimeout=setTimeout(()=>{this._abortOperatorList({intentState:e,reason:t,force:!0}),e.streamReaderCancelTimeout=null},RENDERING_CANCELLED_TIMEOUT);return}}if(e.streamReader.cancel(new _util.AbortException(t.message)).catch(()=>{}),e.streamReader=null,!this._transport.destroyed){for(let[i,s]of this._intentStates)if(s===e){this._intentStates.delete(i);break}this.cleanup()}}}get stats(){return this._stats}}exports.PDFPageProxy=PDFPageProxy;class LoopbackPort{constructor(){this._listeners=[],this._deferred=Promise.resolve()}postMessage(e,t){let r={data:structuredClone(e,t)};this._deferred.then(()=>{for(let i of this._listeners)i.call(this,r)})}addEventListener(e,t){this._listeners.push(t)}removeEventListener(e,t){let r=this._listeners.indexOf(t);this._listeners.splice(r,1)}terminate(){this._listeners.length=0}}exports.LoopbackPort=LoopbackPort;let PDFWorkerUtil={isWorkerDisabled:!1,fallbackWorkerSrc:null,fakeWorkerId:0};exports.PDFWorkerUtil=PDFWorkerUtil;{if(_is_node.isNodeJS&&typeof Ui=="function")PDFWorkerUtil.isWorkerDisabled=!0,PDFWorkerUtil.fallbackWorkerSrc="./pdf.worker.js";else if(typeof document=="object"){let o=document?.currentScript?.src;o&&(PDFWorkerUtil.fallbackWorkerSrc=o.replace(/(\.(?:min\.)?js)(\?.*)?$/i,".worker$1$2"))}PDFWorkerUtil.isSameOrigin=function(o,e){let t;try{if(t=new URL(o),!t.origin||t.origin==="null")return!1}catch{return!1}let r=new URL(e,t);return t.origin===r.origin},PDFWorkerUtil.createCDNWrapper=function(o){let e=`importScripts("${o}");`;return URL.createObjectURL(new Blob([e]))}}class PDFWorker{static#workerPorts=new WeakMap;constructor({name:o=null,port:e=null,verbosity:t=(0,_util.getVerbosityLevel)()}={}){if(e&&PDFWorker.#workerPorts.has(e))throw new Error("Cannot use more than one PDFWorker per port.");if(this.name=o,this.destroyed=!1,this.verbosity=t,this._readyCapability=(0,_util.createPromiseCapability)(),this._port=null,this._webWorker=null,this._messageHandler=null,e){PDFWorker.#workerPorts.set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(o){this._port=o,this._messageHandler=new _message_handler.MessageHandler("main","worker",o),this._messageHandler.on("ready",function(){}),this._readyCapability.resolve()}_initialize(){if(!PDFWorkerUtil.isWorkerDisabled&&!PDFWorker._mainThreadWorkerMessageHandler){let{workerSrc:o}=PDFWorker;try{PDFWorkerUtil.isSameOrigin(window.location.href,o)||(o=PDFWorkerUtil.createCDNWrapper(new URL(o,window.location).href));let e=new Worker(o),t=new _message_handler.MessageHandler("main","worker",e),r=()=>{e.removeEventListener("error",i),t.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=()=>{this._webWorker||r()};e.addEventListener("error",i),t.on("test",l=>{if(e.removeEventListener("error",i),this.destroyed){r();return}l?(this._messageHandler=t,this._port=e,this._webWorker=e,this._readyCapability.resolve(),t.send("configure",{verbosity:this.verbosity})):(this._setupFakeWorker(),t.destroy(),e.terminate())}),t.on("ready",l=>{if(e.removeEventListener("error",i),this.destroyed){r();return}try{s()}catch{this._setupFakeWorker()}});let s=()=>{let l=new Uint8Array;t.send("test",l,[l.buffer])};s();return}catch{(0,_util.info)("The worker has been disabled.")}}this._setupFakeWorker()}_setupFakeWorker(){PDFWorkerUtil.isWorkerDisabled||((0,_util.warn)("Setting up fake worker."),PDFWorkerUtil.isWorkerDisabled=!0),PDFWorker._setupFakeWorkerGlobal.then(o=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}let e=new LoopbackPort;this._port=e;let t=`fake${PDFWorkerUtil.fakeWorkerId++}`,r=new _message_handler.MessageHandler(t+"_worker",t,e);o.setup(r,e);let i=new _message_handler.MessageHandler(t,t+"_worker",e);this._messageHandler=i,this._readyCapability.resolve(),i.send("configure",{verbosity:this.verbosity})}).catch(o=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${o.message}".`))})}destroy(){this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),PDFWorker.#workerPorts.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(o){if(!o?.port)throw new Error("PDFWorker.fromPort - invalid method signature.");return this.#workerPorts.has(o.port)?this.#workerPorts.get(o.port):new PDFWorker(o)}static get workerSrc(){if(_worker_options.GlobalWorkerOptions.workerSrc)return _worker_options.GlobalWorkerOptions.workerSrc;if(PDFWorkerUtil.fallbackWorkerSrc!==null)return _is_node.isNodeJS||(0,_display_utils.deprecated)('No "GlobalWorkerOptions.workerSrc" specified.'),PDFWorkerUtil.fallbackWorkerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _mainThreadWorkerMessageHandler(){try{return globalThis.pdfjsWorker?.WorkerMessageHandler||null}catch{return null}}static get _setupFakeWorkerGlobal(){let loader=async()=>{let mainWorkerMessageHandler=this._mainThreadWorkerMessageHandler;if(mainWorkerMessageHandler)return mainWorkerMessageHandler;if(_is_node.isNodeJS&&typeof Ui=="function"){let worker=eval("require")(this.workerSrc);return worker.WorkerMessageHandler}return await(0,_display_utils.loadScript)(this.workerSrc),window.pdfjsWorker.WorkerMessageHandler};return(0,_util.shadow)(this,"_setupFakeWorkerGlobal",loader())}}exports.PDFWorker=PDFWorker,PDFWorker.getWorkerSrc=function(){return(0,_display_utils.deprecated)("`PDFWorker.getWorkerSrc()`, please use `PDFWorker.workerSrc` instead."),this.workerSrc};class WorkerTransport{#e=null;#t=new Map;#r=new Map;#n=null;constructor(e,t,r,i){this.messageHandler=e,this.loadingTask=t,this.commonObjs=new PDFObjects,this.fontLoader=new _font_loader.FontLoader({docId:t.docId,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),ownerDocument:i.ownerDocument,styleElement:i.styleElement}),this._params=i,i.useWorkerFetch||(this.CMapReaderFactory=new i.CMapReaderFactory({baseUrl:i.cMapUrl,isCompressed:i.cMapPacked}),this.StandardFontDataFactory=new i.StandardFontDataFactory({baseUrl:i.standardFontDataUrl})),this.destroyed=!1,this.destroyCapability=null,this._passwordCapability=null,this._networkStream=r,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=(0,_util.createPromiseCapability)(),this.setupMessageHandler()}get annotationStorage(){return(0,_util.shadow)(this,"annotationStorage",new _annotation_storage.AnnotationStorage)}get stats(){return this.#e}getRenderingIntent(e,t=_util.AnnotationMode.ENABLE,r=null,i=!1){let s=_util.RenderingIntentFlag.DISPLAY,l=null;switch(e){case"any":s=_util.RenderingIntentFlag.ANY;break;case"display":break;case"print":s=_util.RenderingIntentFlag.PRINT;break;default:(0,_util.warn)(`getRenderingIntent - invalid intent: ${e}`)}switch(t){case _util.AnnotationMode.DISABLE:s+=_util.RenderingIntentFlag.ANNOTATIONS_DISABLE;break;case _util.AnnotationMode.ENABLE:break;case _util.AnnotationMode.ENABLE_FORMS:s+=_util.RenderingIntentFlag.ANNOTATIONS_FORMS;break;case _util.AnnotationMode.ENABLE_STORAGE:s+=_util.RenderingIntentFlag.ANNOTATIONS_STORAGE,l=(s&_util.RenderingIntentFlag.PRINT&&r instanceof _annotation_storage.PrintAnnotationStorage?r:this.annotationStorage).serializable;break;default:(0,_util.warn)(`getRenderingIntent - invalid annotationMode: ${t}`)}return i&&(s+=_util.RenderingIntentFlag.OPLIST),{renderingIntent:s,cacheKey:`${s}_${_annotation_storage.AnnotationStorage.getHash(l)}`,annotationStorageMap:l}}destroy(){if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=(0,_util.createPromiseCapability)(),this._passwordCapability&&this._passwordCapability.reject(new Error("Worker was destroyed during onPassword callback"));let e=[];for(let r of this.#t.values())e.push(r._destroy());this.#t.clear(),this.#r.clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();let t=this.messageHandler.sendWithPromise("Terminate",null);return e.push(t),Promise.all(e).then(()=>{this.commonObjs.clear(),this.fontLoader.clear(),this.#n=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null,this._networkStream&&this._networkStream.cancelAllRequests(new _util.AbortException("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){let{messageHandler:e,loadingTask:t}=this;e.on("GetReader",(r,i)=>{(0,_util.assert)(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=s=>{this._lastProgress={loaded:s.loaded,total:s.total}},i.onPull=()=>{this._fullReader.read().then(function({value:s,done:l}){if(l){i.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(s),"GetReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(s),1,[s])}).catch(s=>{i.error(s)})},i.onCancel=s=>{this._fullReader.cancel(s),i.ready.catch(l=>{if(!this.destroyed)throw l})}}),e.on("ReaderHeadersReady",r=>{let i=(0,_util.createPromiseCapability)(),s=this._fullReader;return s.headersReady.then(()=>{(!s.isStreamingSupported||!s.isRangeSupported)&&(this._lastProgress&&t.onProgress?.(this._lastProgress),s.onProgress=l=>{t.onProgress?.({loaded:l.loaded,total:l.total})}),i.resolve({isStreamingSupported:s.isStreamingSupported,isRangeSupported:s.isRangeSupported,contentLength:s.contentLength})},i.reject),i.promise}),e.on("GetRangeReader",(r,i)=>{(0,_util.assert)(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");let s=this._networkStream.getRangeReader(r.begin,r.end);if(!s){i.close();return}i.onPull=()=>{s.read().then(function({value:l,done:d}){if(d){i.close();return}(0,_util.assert)((0,_util.isArrayBuffer)(l),"GetRangeReader - expected an ArrayBuffer."),i.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{i.error(l)})},i.onCancel=l=>{s.cancel(l),i.ready.catch(d=>{if(!this.destroyed)throw d})}}),e.on("GetDoc",({pdfInfo:r})=>{this._numPages=r.numPages,this._htmlForXfa=r.htmlForXfa,delete r.htmlForXfa,t._capability.resolve(new PDFDocumentProxy(r,this))}),e.on("DocException",function(r){let i;switch(r.name){case"PasswordException":i=new _util.PasswordException(r.message,r.code);break;case"InvalidPDFException":i=new _util.InvalidPDFException(r.message);break;case"MissingPDFException":i=new _util.MissingPDFException(r.message);break;case"UnexpectedResponseException":i=new _util.UnexpectedResponseException(r.message,r.status);break;case"UnknownErrorException":i=new _util.UnknownErrorException(r.message,r.details);break;default:(0,_util.unreachable)("DocException - expected a valid Error.")}t._capability.reject(i)}),e.on("PasswordRequest",r=>{if(this._passwordCapability=(0,_util.createPromiseCapability)(),t.onPassword){let i=s=>{s instanceof Error?this._passwordCapability.reject(s):this._passwordCapability.resolve({password:s})};try{t.onPassword(i,r.code)}catch(s){this._passwordCapability.reject(s)}}else this._passwordCapability.reject(new _util.PasswordException(r.message,r.code));return this._passwordCapability.promise}),e.on("DataLoaded",r=>{t.onProgress?.({loaded:r.length,total:r.length}),this.downloadInfoCapability.resolve(r)}),e.on("StartRenderPage",r=>{if(this.destroyed)return;this.#t.get(r.pageIndex)._startRenderPage(r.transparency,r.cacheKey)}),e.on("commonobj",([r,i,s])=>{if(!this.destroyed&&!this.commonObjs.has(r))switch(i){case"Font":let l=this._params;if("error"in s){let a=s.error;(0,_util.warn)(`Error during font loading: ${a}`),this.commonObjs.resolve(r,a);break}let d=null;l.pdfBug&&globalThis.FontInspector?.enabled&&(d={registerFont(a,p){globalThis.FontInspector.fontAdded(a,p)}});let u=new _font_loader.FontFaceObject(s,{isEvalSupported:l.isEvalSupported,disableFontFace:l.disableFontFace,ignoreErrors:l.ignoreErrors,onUnsupportedFeature:this._onUnsupportedFeature.bind(this),fontRegistry:d});this.fontLoader.bind(u).catch(a=>e.sendWithPromise("FontFallback",{id:r})).finally(()=>{!l.fontExtraProperties&&u.data&&(u.data=null),this.commonObjs.resolve(r,u)});break;case"FontPath":case"Image":this.commonObjs.resolve(r,s);break;default:throw new Error(`Got unknown common object type ${i}`)}}),e.on("obj",([r,i,s,l])=>{if(this.destroyed)return;let d=this.#t.get(i);if(!d.objs.has(r))switch(s){case"Image":d.objs.resolve(r,l);let u=8e6;if(l){let a;if(l.bitmap){let{bitmap:p,width:x,height:w}=l;a=x*w*4,d._bitmaps.add(p)}else a=l.data?.length||0;a>u&&(d.cleanupAfterRender=!0)}break;case"Pattern":d.objs.resolve(r,l);break;default:throw new Error(`Got unknown object type ${s}`)}}),e.on("DocProgress",r=>{this.destroyed||t.onProgress?.({loaded:r.loaded,total:r.total})}),e.on("DocStats",r=>{this.destroyed||(this.#e=Object.freeze({streamTypes:Object.freeze(r.streamTypes),fontTypes:Object.freeze(r.fontTypes)}))}),e.on("UnsupportedFeature",this._onUnsupportedFeature.bind(this)),e.on("FetchBuiltInCMap",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.CMapReaderFactory?this.CMapReaderFactory.fetch(r):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),e.on("FetchStandardFontData",r=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.StandardFontDataFactory?this.StandardFontDataFactory.fetch(r):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}_onUnsupportedFeature({featureId:e}){this.destroyed||this.loadingTask.onUnsupportedFeature?.(e)}getData(){return this.messageHandler.sendWithPromise("GetData",null)}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));let t=e-1,r=this.#r.get(t);if(r)return r;let i=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then(s=>{if(this.destroyed)throw new Error("Transport destroyed");let l=new PDFPageProxy(t,s,this,this._params.ownerDocument,this._params.pdfBug);return this.#t.set(t,l),l});return this.#r.set(t,i),i}getPageIndex(e){return typeof e!="object"||e===null||!Number.isInteger(e.num)||e.num<0||!Number.isInteger(e.gen)||e.gen<0?Promise.reject(new Error("Invalid pageIndex request.")):this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen})}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}saveDocument(){return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:this.annotationStorage.serializable,filename:this._fullReader?.filename??null}).finally(()=>{this.annotationStorage.resetModified()})}getFieldObjects(){return this._getFieldObjectsPromise||=this.messageHandler.sendWithPromise("GetFieldObjects",null)}hasJSActions(){return this._hasJSActionsPromise||=this.messageHandler.sendWithPromise("HasJSActions",null)}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return typeof e!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getJavaScript(){return this.messageHandler.sendWithPromise("GetJavaScript",null)}getDocJSActions(){return this.messageHandler.sendWithPromise("GetDocJSActions",null)}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(){return this.messageHandler.sendWithPromise("GetOptionalContentConfig",null).then(e=>new _optional_content_config.OptionalContentConfig(e))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){return this.#n||=this.messageHandler.sendWithPromise("GetMetadata",null).then(e=>({info:e[0],metadata:e[1]?new _metadata.Metadata(e[1]):null,contentDispositionFilename:this._fullReader?.filename??null,contentLength:this._fullReader?.contentLength??null}))}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(e=!1){if(await this.messageHandler.sendWithPromise("Cleanup",null),!this.destroyed){for(let t of this.#t.values())if(!t.cleanup())throw new Error(`startCleanup: Page ${t.pageNumber} is currently rendering.`);this.commonObjs.clear(),e||this.fontLoader.clear(),this.#n=null,this._getFieldObjectsPromise=null,this._hasJSActionsPromise=null}}get loadingParams(){let e=this._params;return(0,_util.shadow)(this,"loadingParams",{disableAutoFetch:e.disableAutoFetch,enableXfa:e.enableXfa})}}class PDFObjects{#e=Object.create(null);#t(e){let t=this.#e[e];return t||(this.#e[e]={capability:(0,_util.createPromiseCapability)(),data:null})}get(e,t=null){if(t){let i=this.#t(e);return i.capability.promise.then(()=>t(i.data)),null}let r=this.#e[e];if(!r?.capability.settled)throw new Error(`Requesting object that isn't resolved yet ${e}.`);return r.data}has(e){return this.#e[e]?.capability.settled||!1}resolve(e,t=null){let r=this.#t(e);r.data=t,r.capability.resolve()}clear(){this.#e=Object.create(null)}}class RenderTask{#e=null;constructor(e){this.#e=e,this.onContinue=null}get promise(){return this.#e.capability.promise}cancel(){this.#e.cancel()}get separateAnnots(){let{separateAnnots:e}=this.#e.operatorList;if(!e)return!1;let{annotationCanvasMap:t}=this.#e;return e.form||e.canvas&&t?.size>0}}exports.RenderTask=RenderTask;class InternalRenderTask{static#e=new WeakSet;constructor({callback:e,params:t,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:l,pageIndex:d,canvasFactory:u,useRequestAnimationFrame:a=!1,pdfBug:p=!1,pageColors:x=null}){this.callback=e,this.params=t,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=d,this.canvasFactory=u,this._pdfBug=p,this.pageColors=x,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=a===!0&&typeof window<"u",this.cancelled=!1,this.capability=(0,_util.createPromiseCapability)(),this.task=new RenderTask(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=t.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:e=!1,optionalContentConfig:t}){if(this.cancelled)return;if(this._canvas){if(InternalRenderTask.#e.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");InternalRenderTask.#e.add(this._canvas)}this._pdfBug&&globalThis.StepperManager?.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());let{canvasContext:r,viewport:i,transform:s,imageLayer:l,background:d}=this.params;this.gfx=new _canvas.CanvasGraphics(r,this.commonObjs,this.objs,this.canvasFactory,l,t,this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:s,viewport:i,transparency:e,background:d}),this.operatorListIdx=0,this.graphicsReady=!0,this.graphicsReadyCallback&&this.graphicsReadyCallback()}cancel(e=null){this.running=!1,this.cancelled=!0,this.gfx&&this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#e.delete(this._canvas),this.callback(e||new _display_utils.RenderingCancelledException(`Rendering cancelled, page ${this._pageIndex+1}`,"canvas"))}operatorListChanged(){if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}this.stepper&&this.stepper.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?window.requestAnimationFrame(()=>{this._nextBound().catch(this._cancelBound)}):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),this._canvas&&InternalRenderTask.#e.delete(this._canvas),this.callback())))}}let version="2.16.105";exports.version=version;let build="172ccdbe5";exports.build=build},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PrintAnnotationStorage=e.AnnotationStorage=void 0;var r=t(1),i=t(6),s=t(10);class l{constructor(){this._storage=new Map,this._modified=!1,this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(a,p){let x=this._storage.get(a);return x===void 0?p:Object.assign(p,x)}getRawValue(a){return this._storage.get(a)}remove(a){if(this._storage.delete(a),this._storage.size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(let p of this._storage.values())if(p instanceof i.AnnotationEditor)return;this.onAnnotationEditor(null)}}setValue(a,p){let x=this._storage.get(a),w=!1;if(x!==void 0)for(let[S,m]of Object.entries(p))x[S]!==m&&(w=!0,x[S]=m);else w=!0,this._storage.set(a,p);w&&this.#e(),p instanceof i.AnnotationEditor&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(p.constructor._type)}has(a){return this._storage.has(a)}getAll(){return this._storage.size>0?(0,r.objectFromMap)(this._storage):null}get size(){return this._storage.size}#e(){this._modified||(this._modified=!0,typeof this.onSetModified=="function"&&this.onSetModified())}resetModified(){this._modified&&(this._modified=!1,typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new d(this)}get serializable(){if(this._storage.size===0)return null;let a=new Map;for(let[p,x]of this._storage){let w=x instanceof i.AnnotationEditor?x.serialize():x;w&&a.set(p,w)}return a}static getHash(a){if(!a)return"";let p=new s.MurmurHash3_64;for(let[x,w]of a)p.update(`${x}:${JSON.stringify(w)}`);return p.hexdigest()}}e.AnnotationStorage=l;class d extends l{#e=null;constructor(a){super(),this.#e=structuredClone(a.serializable)}get print(){(0,r.unreachable)("Should not call PrintAnnotationStorage.print")}get serializable(){return this.#e}}e.PrintAnnotationStorage=d},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditor=void 0;var r=t(7),i=t(1);class s{#e=this.focusin.bind(this);#t=this.focusout.bind(this);#r=!1;#n=!1;#i=!1;#u=s._zIndex++;static _colorManager=new r.ColorManager;static _zIndex=1;constructor(d){this.constructor===s&&(0,i.unreachable)("Cannot initialize AnnotationEditor."),this.parent=d.parent,this.id=d.id,this.width=this.height=null,this.pageIndex=d.parent.pageIndex,this.name=d.name,this.div=null;let[u,a]=this.parent.viewportBaseDimensions;this.x=d.x/u,this.y=d.y/a,this.rotation=this.parent.viewport.rotation,this.isAttachedToDOM=!1}static get _defaultLineColor(){return(0,i.shadow)(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=this.#u}focusin(d){this.#r?this.#r=!1:this.parent.setSelected(this)}focusout(d){!this.isAttachedToDOM||d.relatedTarget?.closest(`#${this.id}`)||(d.preventDefault(),this.parent.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.parent.addToAnnotationStorage(this)}dragstart(d){let u=this.parent.div.getBoundingClientRect();this.startX=d.clientX-u.x,this.startY=d.clientY-u.y,d.dataTransfer.setData("text/plain",this.id),d.dataTransfer.effectAllowed="move"}setAt(d,u,a,p){let[x,w]=this.parent.viewportBaseDimensions;[a,p]=this.screenToPageTranslation(a,p),this.x=(d+a)/x,this.y=(u+p)/w,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}translate(d,u){let[a,p]=this.parent.viewportBaseDimensions;[d,u]=this.screenToPageTranslation(d,u),this.x+=d/a,this.y+=u/p,this.div.style.left=`${100*this.x}%`,this.div.style.top=`${100*this.y}%`}screenToPageTranslation(d,u){let{rotation:a}=this.parent.viewport;switch(a){case 90:return[u,-d];case 180:return[-d,-u];case 270:return[-u,d];default:return[d,u]}}setDims(d,u){let[a,p]=this.parent.viewportBaseDimensions;this.div.style.width=`${100*d/a}%`,this.div.style.height=`${100*u/p}%`}getInitialTranslation(){return[0,0]}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.setAttribute("tabIndex",0),this.setInForeground(),this.div.addEventListener("focusin",this.#e),this.div.addEventListener("focusout",this.#t);let[d,u]=this.getInitialTranslation();return this.translate(d,u),(0,r.bindEvents)(this,this.div,["dragstart","pointerdown"]),this.div}pointerdown(d){let u=r.KeyboardManager.platform.isMac;if(d.button!==0||d.ctrlKey&&u){d.preventDefault();return}d.ctrlKey&&!u||d.shiftKey||d.metaKey&&u?this.parent.toggleSelected(this):this.parent.setSelected(this),this.#r=!0}getRect(d,u){let[a,p]=this.parent.viewportBaseDimensions,[x,w]=this.parent.pageDimensions,S=x*d/a,m=w*u/p,A=this.x*x,b=this.y*w,I=this.width*x,C=this.height*w;switch(this.rotation){case 0:return[A+S,w-b-m-C,A+S+I,w-b-m];case 90:return[A+m,w-b+S,A+m+C,w-b+S+I];case 180:return[A-S-I,w-b+m,A-S,w-b+m+C];case 270:return[A-m-C,w-b-S-I,A-m,w-b-S];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(d,u){let[a,p,x,w]=d,S=x-a,m=w-p;switch(this.rotation){case 0:return[a,u-w,S,m];case 90:return[a,u-p,m,S];case 180:return[x,u-p,S,m];case 270:return[x,u-w,m,S];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){this.#i=!0}disableEditMode(){this.#i=!1}isInEditMode(){return this.#i}shouldGetKeyboardEvents(){return!1}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){this.div?.addEventListener("focusin",this.#e)}serialize(){(0,i.unreachable)("An editor must be serializable")}static deserialize(d,u){let a=new this.prototype.constructor({parent:u,id:u.getNextId()});a.rotation=d.rotation;let[p,x]=u.pageDimensions,[w,S,m,A]=a.getRectInCurrentCoords(d.rect,x);return a.x=w/p,a.y=S/x,a.width=m/p,a.height=A/x,a}remove(){this.div.removeEventListener("focusin",this.#e),this.div.removeEventListener("focusout",this.#t),this.isEmpty()||this.commit(),this.parent.remove(this)}select(){this.div?.classList.add("selectedEditor")}unselect(){this.div?.classList.remove("selectedEditor")}updateParams(d,u){}disableEditing(){}enableEditing(){}get propertiesToUpdate(){return{}}get contentDiv(){return this.div}get isEditing(){return this.#n}set isEditing(d){this.#n=d,d?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null)}}e.AnnotationEditor=s},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.KeyboardManager=e.CommandManager=e.ColorManager=e.AnnotationEditorUIManager=void 0,e.bindEvents=s,e.opacityToHex=l;var r=t(1),i=t(8);function s(S,m,A){for(let b of A)m.addEventListener(b,S[b].bind(S))}function l(S){return Math.round(Math.min(255,Math.max(1,255*S))).toString(16).padStart(2,"0")}class d{#e=0;getId(){return`${r.AnnotationEditorPrefix}${this.#e++}`}}class u{#e=[];#t=!1;#r;#n=-1;constructor(m=128){this.#r=m}add({cmd:m,undo:A,mustExec:b,type:I=NaN,overwriteIfSameType:C=!1,keepUndo:M=!1}){if(b&&m(),this.#t)return;let k={cmd:m,undo:A,type:I};if(this.#n===-1){this.#e.length>0&&(this.#e.length=0),this.#n=0,this.#e.push(k);return}if(C&&this.#e[this.#n].type===I){M&&(k.undo=this.#e[this.#n].undo),this.#e[this.#n]=k;return}let h=this.#n+1;h===this.#r?this.#e.splice(0,1):(this.#n=h,h<this.#e.length&&this.#e.splice(h)),this.#e.push(k)}undo(){this.#n!==-1&&(this.#t=!0,this.#e[this.#n].undo(),this.#t=!1,this.#n-=1)}redo(){this.#n<this.#e.length-1&&(this.#n+=1,this.#t=!0,this.#e[this.#n].cmd(),this.#t=!1)}hasSomethingToUndo(){return this.#n!==-1}hasSomethingToRedo(){return this.#n<this.#e.length-1}destroy(){this.#e=null}}e.CommandManager=u;class a{constructor(m){this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;let A=a.platform.isMac;for(let[b,I]of m)for(let C of b){let M=C.startsWith("mac+");A&&M?(this.callbacks.set(C.slice(4),I),this.allKeys.add(C.split("+").at(-1))):!A&&!M&&(this.callbacks.set(C,I),this.allKeys.add(C.split("+").at(-1)))}}static get platform(){let m=typeof navigator<"u"?navigator.platform:"";return(0,r.shadow)(this,"platform",{isWin:m.includes("Win"),isMac:m.includes("Mac")})}#e(m){m.altKey&&this.buffer.push("alt"),m.ctrlKey&&this.buffer.push("ctrl"),m.metaKey&&this.buffer.push("meta"),m.shiftKey&&this.buffer.push("shift"),this.buffer.push(m.key);let A=this.buffer.join("+");return this.buffer.length=0,A}exec(m,A){if(!this.allKeys.has(A.key))return;let b=this.callbacks.get(this.#e(A));b&&(b.bind(m)(),A.stopPropagation(),A.preventDefault())}}e.KeyboardManager=a;class p{#e=null;copy(m){m&&(Array.isArray(m)?this.#e=m.map(A=>A.serialize()):this.#e=[m.serialize()],this.#e=this.#e.filter(A=>!!A),this.#e.length===0&&(this.#e=null))}paste(){return this.#e}isEmpty(){return this.#e===null}destroy(){this.#e=null}}class x{static _colorsMapping=new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]);get _colors(){let m=new Map([["CanvasText",null],["Canvas",null]]);return(0,i.getColorValues)(m),(0,r.shadow)(this,"_colors",m)}convert(m){let A=(0,i.getRGB)(m);if(!window.matchMedia("(forced-colors: active)").matches)return A;for(let[b,I]of this._colors)if(I.every((C,M)=>C===A[M]))return x._colorsMapping.get(b);return A}getHexCode(m){let A=this._colors.get(m);return A?r.Util.makeHexColor(...A):m}}e.ColorManager=x;class w{#e=null;#t=new Map;#r=new Map;#n=new p;#i=new u;#u=0;#a=null;#o=null;#d=new d;#l=!1;#c=r.AnnotationEditorType.NONE;#s=new Set;#f=this.keydown.bind(this);#m=this.onEditingAction.bind(this);#v=this.onPageChanging.bind(this);#T={isEditing:!1,isEmpty:!0,hasEmptyClipboard:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1};#F=null;static _keyboardManager=new a([[["ctrl+a","mac+meta+a"],w.prototype.selectAll],[["ctrl+c","mac+meta+c"],w.prototype.copy],[["ctrl+v","mac+meta+v"],w.prototype.paste],[["ctrl+x","mac+meta+x"],w.prototype.cut],[["ctrl+z","mac+meta+z"],w.prototype.undo],[["ctrl+y","ctrl+shift+Z","mac+meta+shift+Z"],w.prototype.redo],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete"],w.prototype.delete],[["Escape","mac+Escape"],w.prototype.unselectAll]]);constructor(m,A){this.#F=m,this.#o=A,this.#o._on("editingaction",this.#m),this.#o._on("pagechanging",this.#v)}destroy(){this.#_(),this.#o._off("editingaction",this.#m),this.#o._off("pagechanging",this.#v);for(let m of this.#r.values())m.destroy();this.#r.clear(),this.#t.clear(),this.#e=null,this.#s.clear(),this.#n.destroy(),this.#i.destroy()}onPageChanging({pageNumber:m}){this.#u=m-1}focusMainContainer(){this.#F.focus()}#b(){this.#F.addEventListener("keydown",this.#f)}#_(){this.#F.removeEventListener("keydown",this.#f)}keydown(m){this.getActive()?.shouldGetKeyboardEvents()||w._keyboardManager.exec(this,m)}onEditingAction(m){["undo","redo","cut","copy","paste","delete","selectAll"].includes(m.name)&&this[m.name]()}#p(m){Object.entries(m).some(([b,I])=>this.#T[b]!==I)&&this.#o.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(this.#T,m)})}#w(m){this.#o.dispatch("annotationeditorparamschanged",{source:this,details:m})}setEditingState(m){m?(this.#b(),this.#p({isEditing:this.#c!==r.AnnotationEditorType.NONE,isEmpty:this.#g(),hasSomethingToUndo:this.#i.hasSomethingToUndo(),hasSomethingToRedo:this.#i.hasSomethingToRedo(),hasSelectedEditor:!1,hasEmptyClipboard:this.#n.isEmpty()})):(this.#_(),this.#p({isEditing:!1}))}registerEditorTypes(m){this.#a=m;for(let A of this.#a)this.#w(A.defaultPropertiesToUpdate)}getId(){return this.#d.getId()}addLayer(m){this.#r.set(m.pageIndex,m),this.#l?m.enable():m.disable()}removeLayer(m){this.#r.delete(m.pageIndex)}updateMode(m){if(this.#c=m,m===r.AnnotationEditorType.NONE)this.setEditingState(!1),this.#h();else{this.setEditingState(!0),this.#y();for(let A of this.#r.values())A.updateMode(m)}}updateToolbar(m){m!==this.#c&&this.#o.dispatch("switchannotationeditormode",{source:this,mode:m})}updateParams(m,A){for(let b of this.#s)b.updateParams(m,A);for(let b of this.#a)b.updateDefaultParams(m,A)}#y(){if(!this.#l){this.#l=!0;for(let m of this.#r.values())m.enable()}}#h(){if(this.unselectAll(),this.#l){this.#l=!1;for(let m of this.#r.values())m.disable()}}getEditors(m){let A=[];for(let b of this.#t.values())b.pageIndex===m&&A.push(b);return A}getEditor(m){return this.#t.get(m)}addEditor(m){this.#t.set(m.id,m)}removeEditor(m){this.#t.delete(m.id),this.unselect(m)}#A(m){let A=this.#r.get(m.pageIndex);A?A.addOrRebuild(m):this.addEditor(m)}setActiveEditor(m){this.#e!==m&&(this.#e=m,m&&this.#w(m.propertiesToUpdate))}toggleSelected(m){if(this.#s.has(m)){this.#s.delete(m),m.unselect(),this.#p({hasSelectedEditor:this.hasSelection});return}this.#s.add(m),m.select(),this.#w(m.propertiesToUpdate),this.#p({hasSelectedEditor:!0})}setSelected(m){for(let A of this.#s)A!==m&&A.unselect();this.#s.clear(),this.#s.add(m),m.select(),this.#w(m.propertiesToUpdate),this.#p({hasSelectedEditor:!0})}isSelected(m){return this.#s.has(m)}unselect(m){m.unselect(),this.#s.delete(m),this.#p({hasSelectedEditor:this.hasSelection})}get hasSelection(){return this.#s.size!==0}undo(){this.#i.undo(),this.#p({hasSomethingToUndo:this.#i.hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:this.#g()})}redo(){this.#i.redo(),this.#p({hasSomethingToUndo:!0,hasSomethingToRedo:this.#i.hasSomethingToRedo(),isEmpty:this.#g()})}addCommands(m){this.#i.add(m),this.#p({hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:this.#g()})}#g(){if(this.#t.size===0)return!0;if(this.#t.size===1)for(let m of this.#t.values())return m.isEmpty();return!1}delete(){if(this.#e&&this.#e.commitOrRemove(),!this.hasSelection)return;let m=[...this.#s],A=()=>{for(let I of m)I.remove()},b=()=>{for(let I of m)this.#A(I)};this.addCommands({cmd:A,undo:b,mustExec:!0})}copy(){if(this.#e&&this.#e.commitOrRemove(),this.hasSelection){let m=[];for(let A of this.#s)A.isEmpty()||m.push(A);if(m.length===0)return;this.#n.copy(m),this.#p({hasEmptyClipboard:!1})}}cut(){this.copy(),this.delete()}paste(){if(this.#n.isEmpty())return;this.unselectAll();let m=this.#r.get(this.#u),A=this.#n.paste().map(C=>m.deserialize(C)),b=()=>{for(let C of A)this.#A(C);this.#x(A)},I=()=>{for(let C of A)C.remove()};this.addCommands({cmd:b,undo:I,mustExec:!0})}#x(m){this.#s.clear();for(let A of m)A.isEmpty()||(this.#s.add(A),A.select());this.#p({hasSelectedEditor:!0})}selectAll(){for(let m of this.#s)m.commit();this.#x(this.#t.values())}unselectAll(){if(this.#e){this.#e.commitOrRemove();return}if(this.#x.size!==0){for(let m of this.#s)m.unselect();this.#s.clear(),this.#p({hasSelectedEditor:!1})}}isActive(m){return this.#e===m}getActive(){return this.#e}getMode(){return this.#c}}e.AnnotationEditorUIManager=w},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.StatTimer=e.RenderingCancelledException=e.PixelsPerInch=e.PageViewport=e.PDFDateString=e.DOMStandardFontDataFactory=e.DOMSVGFactory=e.DOMCanvasFactory=e.DOMCMapReaderFactory=e.AnnotationPrefix=void 0,e.deprecated=f,e.getColorValues=N,e.getCurrentTransform=ee,e.getCurrentTransformInverse=te,e.getFilenameFromUrl=I,e.getPdfFilenameFromUrl=C,e.getRGB=H,e.getXfaPageViewport=D,e.isDataScheme=A,e.isPdfFile=b,e.isValidFetchUrl=k,e.loadScript=h;var r=t(9),i=t(1);let s="http://www.w3.org/2000/svg",l="pdfjs_internal_id_";e.AnnotationPrefix=l;class d{static CSS=96;static PDF=72;static PDF_TO_CSS_UNITS=this.CSS/this.PDF}e.PixelsPerInch=d;class u extends r.BaseCanvasFactory{constructor({ownerDocument:j=globalThis.document}={}){super(),this._document=j}_createCanvas(j,U){let Q=this._document.createElement("canvas");return Q.width=j,Q.height=U,Q}}e.DOMCanvasFactory=u;async function a(X,j=!1){if(k(X,document.baseURI)){let U=await fetch(X);if(!U.ok)throw new Error(U.statusText);return j?new Uint8Array(await U.arrayBuffer()):(0,i.stringToBytes)(await U.text())}return new Promise((U,Q)=>{let K=new XMLHttpRequest;K.open("GET",X,!0),j&&(K.responseType="arraybuffer"),K.onreadystatechange=()=>{if(K.readyState===XMLHttpRequest.DONE){if(K.status===200||K.status===0){let R;if(j&&K.response?R=new Uint8Array(K.response):!j&&K.responseText&&(R=(0,i.stringToBytes)(K.responseText)),R){U(R);return}}Q(new Error(K.statusText))}},K.send(null)})}class p extends r.BaseCMapReaderFactory{_fetchData(j,U){return a(j,this.isCompressed).then(Q=>({cMapData:Q,compressionType:U}))}}e.DOMCMapReaderFactory=p;class x extends r.BaseStandardFontDataFactory{_fetchData(j){return a(j,!0)}}e.DOMStandardFontDataFactory=x;class w extends r.BaseSVGFactory{_createSVG(j){return document.createElementNS(s,j)}}e.DOMSVGFactory=w;class S{constructor({viewBox:j,scale:U,rotation:Q,offsetX:K=0,offsetY:R=0,dontFlip:_=!1}){this.viewBox=j,this.scale=U,this.rotation=Q,this.offsetX=K,this.offsetY=R;let F=(j[2]+j[0])/2,E=(j[3]+j[1])/2,P,c,g,v;switch(Q%=360,Q<0&&(Q+=360),Q){case 180:P=-1,c=0,g=0,v=1;break;case 90:P=0,c=1,g=1,v=0;break;case 270:P=0,c=-1,g=-1,v=0;break;case 0:P=1,c=0,g=0,v=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}_&&(g=-g,v=-v);let y,B,V,W;P===0?(y=Math.abs(E-j[1])*U+K,B=Math.abs(F-j[0])*U+R,V=Math.abs(j[3]-j[1])*U,W=Math.abs(j[2]-j[0])*U):(y=Math.abs(F-j[0])*U+K,B=Math.abs(E-j[1])*U+R,V=Math.abs(j[2]-j[0])*U,W=Math.abs(j[3]-j[1])*U),this.transform=[P*U,c*U,g*U,v*U,y-P*U*F-g*U*E,B-c*U*F-v*U*E],this.width=V,this.height=W}clone({scale:j=this.scale,rotation:U=this.rotation,offsetX:Q=this.offsetX,offsetY:K=this.offsetY,dontFlip:R=!1}={}){return new S({viewBox:this.viewBox.slice(),scale:j,rotation:U,offsetX:Q,offsetY:K,dontFlip:R})}convertToViewportPoint(j,U){return i.Util.applyTransform([j,U],this.transform)}convertToViewportRectangle(j){let U=i.Util.applyTransform([j[0],j[1]],this.transform),Q=i.Util.applyTransform([j[2],j[3]],this.transform);return[U[0],U[1],Q[0],Q[1]]}convertToPdfPoint(j,U){return i.Util.applyInverseTransform([j,U],this.transform)}}e.PageViewport=S;class m extends i.BaseException{constructor(j,U){super(j,"RenderingCancelledException"),this.type=U}}e.RenderingCancelledException=m;function A(X){let j=X.length,U=0;for(;U<j&&X[U].trim()==="";)U++;return X.substring(U,U+5).toLowerCase()==="data:"}function b(X){return typeof X=="string"&&/\.pdf$/i.test(X)}function I(X){let j=X.indexOf("#"),U=X.indexOf("?"),Q=Math.min(j>0?j:X.length,U>0?U:X.length);return X.substring(X.lastIndexOf("/",Q)+1,Q)}function C(X,j="document.pdf"){if(typeof X!="string")return j;if(A(X))return(0,i.warn)('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),j;let U=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,Q=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,K=U.exec(X),R=Q.exec(K[1])||Q.exec(K[2])||Q.exec(K[3]);if(R&&(R=R[0],R.includes("%")))try{R=Q.exec(decodeURIComponent(R))[0]}catch{}return R||j}class M{constructor(){this.started=Object.create(null),this.times=[]}time(j){j in this.started&&(0,i.warn)(`Timer is already running for ${j}`),this.started[j]=Date.now()}timeEnd(j){j in this.started||(0,i.warn)(`Timer has not been started for ${j}`),this.times.push({name:j,start:this.started[j],end:Date.now()}),delete this.started[j]}toString(){let j=[],U=0;for(let Q of this.times){let K=Q.name;K.length>U&&(U=K.length)}for(let Q of this.times){let K=Q.end-Q.start;j.push(`${Q.name.padEnd(U)} ${K}ms
`)}return j.join("")}}e.StatTimer=M;function k(X,j){try{let{protocol:U}=j?new URL(X,j):new URL(X);return U==="http:"||U==="https:"}catch{return!1}}function h(X,j=!1){return new Promise((U,Q)=>{let K=document.createElement("script");K.src=X,K.onload=function(R){j&&K.remove(),U(R)},K.onerror=function(){Q(new Error(`Cannot load script at: ${K.src}`))},(document.head||document.documentElement).append(K)})}function f(X){console.log("Deprecated API usage: "+X)}let T;class L{static toDateObject(j){if(!j||typeof j!="string")return null;T||(T=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));let U=T.exec(j);if(!U)return null;let Q=parseInt(U[1],10),K=parseInt(U[2],10);K=K>=1&&K<=12?K-1:0;let R=parseInt(U[3],10);R=R>=1&&R<=31?R:1;let _=parseInt(U[4],10);_=_>=0&&_<=23?_:0;let F=parseInt(U[5],10);F=F>=0&&F<=59?F:0;let E=parseInt(U[6],10);E=E>=0&&E<=59?E:0;let P=U[7]||"Z",c=parseInt(U[8],10);c=c>=0&&c<=23?c:0;let g=parseInt(U[9],10)||0;return g=g>=0&&g<=59?g:0,P==="-"?(_+=c,F+=g):P==="+"&&(_-=c,F-=g),new Date(Date.UTC(Q,K,R,_,F,E))}}e.PDFDateString=L;function D(X,{scale:j=1,rotation:U=0}){let{width:Q,height:K}=X.attributes.style,R=[0,0,parseInt(Q),parseInt(K)];return new S({viewBox:R,scale:j,rotation:U})}function H(X){if(X.startsWith("#")){let j=parseInt(X.slice(1),16);return[(j&16711680)>>16,(j&65280)>>8,j&255]}return X.startsWith("rgb(")?X.slice(4,-1).split(",").map(j=>parseInt(j)):X.startsWith("rgba(")?X.slice(5,-1).split(",").map(j=>parseInt(j)).slice(0,3):((0,i.warn)(`Not a valid color format: "${X}"`),[0,0,0])}function N(X){let j=document.createElement("span");j.style.visibility="hidden",document.body.append(j);for(let U of X.keys()){j.style.color=U;let Q=window.getComputedStyle(j).color;X.set(U,H(Q))}j.remove()}function ee(X){let{a:j,b:U,c:Q,d:K,e:R,f:_}=X.getTransform();return[j,U,Q,K,R,_]}function te(X){let{a:j,b:U,c:Q,d:K,e:R,f:_}=X.getTransform().invertSelf();return[j,U,Q,K,R,_]}},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.BaseStandardFontDataFactory=e.BaseSVGFactory=e.BaseCanvasFactory=e.BaseCMapReaderFactory=void 0;var r=t(1);class i{constructor(){this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseCanvasFactory.")}create(a,p){if(a<=0||p<=0)throw new Error("Invalid canvas size");let x=this._createCanvas(a,p);return{canvas:x,context:x.getContext("2d")}}reset(a,p,x){if(!a.canvas)throw new Error("Canvas is not specified");if(p<=0||x<=0)throw new Error("Invalid canvas size");a.canvas.width=p,a.canvas.height=x}destroy(a){if(!a.canvas)throw new Error("Canvas is not specified");a.canvas.width=0,a.canvas.height=0,a.canvas=null,a.context=null}_createCanvas(a,p){(0,r.unreachable)("Abstract method `_createCanvas` called.")}}e.BaseCanvasFactory=i;class s{constructor({baseUrl:a=null,isCompressed:p=!1}){this.constructor===s&&(0,r.unreachable)("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=a,this.isCompressed=p}async fetch({name:a}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!a)throw new Error("CMap name must be specified.");let p=this.baseUrl+a+(this.isCompressed?".bcmap":""),x=this.isCompressed?r.CMapCompressionType.BINARY:r.CMapCompressionType.NONE;return this._fetchData(p,x).catch(w=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${p}`)})}_fetchData(a,p){(0,r.unreachable)("Abstract method `_fetchData` called.")}}e.BaseCMapReaderFactory=s;class l{constructor({baseUrl:a=null}){this.constructor===l&&(0,r.unreachable)("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=a}async fetch({filename:a}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!a)throw new Error("Font filename must be specified.");let p=`${this.baseUrl}${a}`;return this._fetchData(p).catch(x=>{throw new Error(`Unable to load font data at: ${p}`)})}_fetchData(a){(0,r.unreachable)("Abstract method `_fetchData` called.")}}e.BaseStandardFontDataFactory=l;class d{constructor(){this.constructor===d&&(0,r.unreachable)("Cannot initialize BaseSVGFactory.")}create(a,p,x=!1){if(a<=0||p<=0)throw new Error("Invalid SVG dimensions");let w=this._createSVG("svg:svg");return w.setAttribute("version","1.1"),x||(w.setAttribute("width",`${a}px`),w.setAttribute("height",`${p}px`)),w.setAttribute("preserveAspectRatio","none"),w.setAttribute("viewBox",`0 0 ${a} ${p}`),w}createElement(a){if(typeof a!="string")throw new Error("Invalid SVG element type");return this._createSVG(a)}_createSVG(a){(0,r.unreachable)("Abstract method `_createSVG` called.")}}e.BaseSVGFactory=d},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MurmurHash3_64=void 0;var r=t(1);let i=3285377520,s=4294901760,l=65535;class d{constructor(a){this.h1=a?a&4294967295:i,this.h2=a?a&4294967295:i}update(a){let p,x;if(typeof a=="string"){p=new Uint8Array(a.length*2),x=0;for(let T=0,L=a.length;T<L;T++){let D=a.charCodeAt(T);D<=255?p[x++]=D:(p[x++]=D>>>8,p[x++]=D&255)}}else if((0,r.isArrayBuffer)(a))p=a.slice(),x=p.byteLength;else throw new Error("Wrong data format in MurmurHash3_64_update. Input must be a string or array.");let w=x>>2,S=x-w*4,m=new Uint32Array(p.buffer,0,w),A=0,b=0,I=this.h1,C=this.h2,M=3432918353,k=461845907,h=M&l,f=k&l;for(let T=0;T<w;T++)T&1?(A=m[T],A=A*M&s|A*h&l,A=A<<15|A>>>17,A=A*k&s|A*f&l,I^=A,I=I<<13|I>>>19,I=I*5+3864292196):(b=m[T],b=b*M&s|b*h&l,b=b<<15|b>>>17,b=b*k&s|b*f&l,C^=b,C=C<<13|C>>>19,C=C*5+3864292196);switch(A=0,S){case 3:A^=p[w*4+2]<<16;case 2:A^=p[w*4+1]<<8;case 1:A^=p[w*4],A=A*M&s|A*h&l,A=A<<15|A>>>17,A=A*k&s|A*f&l,w&1?I^=A:C^=A}this.h1=I,this.h2=C}hexdigest(){let a=this.h1,p=this.h2;a^=p>>>1,a=a*3981806797&s|a*36045&l,p=p*4283543511&s|((p<<16|a>>>16)*2950163797&s)>>>16,a^=p>>>1,a=a*444984403&s|a*60499&l,p=p*3301882366&s|((p<<16|a>>>16)*3120437893&s)>>>16,a^=p>>>1;let x=(a>>>0).toString(16),w=(p>>>0).toString(16);return x.padStart(8,"0")+w.padStart(8,"0")}}e.MurmurHash3_64=d},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FontLoader=e.FontFaceObject=void 0;var r=t(1);class i{constructor({docId:u,onUnsupportedFeature:a,ownerDocument:p=globalThis.document,styleElement:x=null}){this.constructor===i&&(0,r.unreachable)("Cannot initialize BaseFontLoader."),this.docId=u,this._onUnsupportedFeature=a,this._document=p,this.nativeFontFaces=[],this.styleElement=null}addNativeFontFace(u){this.nativeFontFaces.push(u),this._document.fonts.add(u)}insertRule(u){let a=this.styleElement;a||(a=this.styleElement=this._document.createElement("style"),a.id=`PDFJS_FONT_STYLE_TAG_${this.docId}`,this._document.documentElement.getElementsByTagName("head")[0].append(a));let p=a.sheet;p.insertRule(u,p.cssRules.length)}clear(){for(let u of this.nativeFontFaces)this._document.fonts.delete(u);this.nativeFontFaces.length=0,this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async bind(u){if(u.attached||u.missingFile)return;if(u.attached=!0,this.isFontLoadingAPISupported){let p=u.createNativeFontFace();if(p){this.addNativeFontFace(p);try{await p.loaded}catch(x){throw this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontLoadNative}),(0,r.warn)(`Failed to load font '${p.family}': '${x}'.`),u.disableFontFace=!0,x}}return}let a=u.createFontFaceRule();if(a){if(this.insertRule(a),this.isSyncFontLoadingSupported)return;await new Promise(p=>{let x=this._queueLoadingCallback(p);this._prepareFontLoadEvent([a],[u],x)})}}_queueLoadingCallback(u){(0,r.unreachable)("Abstract method `_queueLoadingCallback`.")}get isFontLoadingAPISupported(){let u=!!this._document?.fonts;return(0,r.shadow)(this,"isFontLoadingAPISupported",u)}get isSyncFontLoadingSupported(){(0,r.unreachable)("Abstract method `isSyncFontLoadingSupported`.")}get _loadTestFont(){(0,r.unreachable)("Abstract method `_loadTestFont`.")}_prepareFontLoadEvent(u,a,p){(0,r.unreachable)("Abstract method `_prepareFontLoadEvent`.")}}let s;e.FontLoader=s,e.FontLoader=s=class extends i{constructor(u){super(u),this.loadingContext={requests:[],nextRequestId:0},this.loadTestFontId=0}get isSyncFontLoadingSupported(){let u=!1;return(typeof navigator>"u"||/Mozilla\/5.0.*?rv:(\d+).*? Gecko/.exec(navigator.userAgent)?.[1]>=14)&&(u=!0),(0,r.shadow)(this,"isSyncFontLoadingSupported",u)}_queueLoadingCallback(u){function a(){for((0,r.assert)(!x.done,"completeRequest() cannot be called twice."),x.done=!0;p.requests.length>0&&p.requests[0].done;){let w=p.requests.shift();setTimeout(w.callback,0)}}let p=this.loadingContext,x={id:`pdfjs-font-loading-${p.nextRequestId++}`,done:!1,complete:a,callback:u};return p.requests.push(x),x}get _loadTestFont(){let u=function(){return atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==")};return(0,r.shadow)(this,"_loadTestFont",u())}_prepareFontLoadEvent(u,a,p){function x(te,X){return te.charCodeAt(X)<<24|te.charCodeAt(X+1)<<16|te.charCodeAt(X+2)<<8|te.charCodeAt(X+3)&255}function w(te,X,j,U){let Q=te.substring(0,X),K=te.substring(X+j);return Q+U+K}let S,m,A=this._document.createElement("canvas");A.width=1,A.height=1;let b=A.getContext("2d"),I=0;function C(te,X){if(I++,I>30){(0,r.warn)("Load test font never loaded."),X();return}if(b.font="30px "+te,b.fillText(".",0,20),b.getImageData(0,0,1,1).data[3]>0){X();return}setTimeout(C.bind(null,te,X))}let M=`lt${Date.now()}${this.loadTestFontId++}`,k=this._loadTestFont;k=w(k,976,M.length,M);let f=16,T=1482184792,L=x(k,f);for(S=0,m=M.length-3;S<m;S+=4)L=L-T+x(M,S)|0;S<M.length&&(L=L-T+x(M+"XXX",S)|0),k=w(k,f,4,(0,r.string32)(L));let D=`url(data:font/opentype;base64,${btoa(k)});`,H=`@font-face {font-family:"${M}";src:${D}}`;this.insertRule(H);let N=[];for(let te of a)N.push(te.loadedName);N.push(M);let ee=this._document.createElement("div");ee.style.visibility="hidden",ee.style.width=ee.style.height="10px",ee.style.position="absolute",ee.style.top=ee.style.left="0px";for(let te of N){let X=this._document.createElement("span");X.textContent="Hi",X.style.fontFamily=te,ee.append(X)}this._document.body.append(ee),C(M,()=>{ee.remove(),p.complete()})}};class l{constructor(u,{isEvalSupported:a=!0,disableFontFace:p=!1,ignoreErrors:x=!1,onUnsupportedFeature:w,fontRegistry:S=null}){this.compiledGlyphs=Object.create(null);for(let m in u)this[m]=u[m];this.isEvalSupported=a!==!1,this.disableFontFace=p===!0,this.ignoreErrors=x===!0,this._onUnsupportedFeature=w,this.fontRegistry=S}createNativeFontFace(){if(!this.data||this.disableFontFace)return null;let u;if(!this.cssFontInfo)u=new FontFace(this.loadedName,this.data,{});else{let a={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(a.style=`oblique ${this.cssFontInfo.italicAngle}deg`),u=new FontFace(this.cssFontInfo.fontFamily,this.data,a)}return this.fontRegistry&&this.fontRegistry.registerFont(this),u}createFontFaceRule(){if(!this.data||this.disableFontFace)return null;let u=(0,r.bytesToString)(this.data),a=`url(data:${this.mimetype};base64,${btoa(u)});`,p;if(!this.cssFontInfo)p=`@font-face {font-family:"${this.loadedName}";src:${a}}`;else{let x=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(x+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),p=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${x}src:${a}}`}return this.fontRegistry&&this.fontRegistry.registerFont(this,a),p}getPathGenerator(u,a){if(this.compiledGlyphs[a]!==void 0)return this.compiledGlyphs[a];let p;try{p=u.get(this.loadedName+"_path_"+a)}catch(x){if(!this.ignoreErrors)throw x;return this._onUnsupportedFeature({featureId:r.UNSUPPORTED_FEATURES.errorFontGetPath}),(0,r.warn)(`getPathGenerator - ignoring character: "${x}".`),this.compiledGlyphs[a]=function(w,S){}}if(this.isEvalSupported&&r.FeatureTest.isEvalSupported){let x=[];for(let w of p){let S=w.args!==void 0?w.args.join(","):"";x.push("c.",w.cmd,"(",S,`);
`)}return this.compiledGlyphs[a]=new Function("c","size",x.join(""))}return this.compiledGlyphs[a]=function(x,w){for(let S of p)S.cmd==="scale"&&(S.args=[w,-w]),x[S.cmd].apply(x,S.args)}}}e.FontFaceObject=l},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.CanvasGraphics=void 0;var r=t(8),i=t(1),s=t(13),l=t(14),d=t(3);let u=16,a=100,p=4096,x=15,w=10,S=d.isNodeJS&&typeof Path2D>"u"?-1:1e3,m=16;function A(R,_){if(R._removeMirroring)throw new Error("Context is already forwarding operations.");R.__originalSave=R.save,R.__originalRestore=R.restore,R.__originalRotate=R.rotate,R.__originalScale=R.scale,R.__originalTranslate=R.translate,R.__originalTransform=R.transform,R.__originalSetTransform=R.setTransform,R.__originalResetTransform=R.resetTransform,R.__originalClip=R.clip,R.__originalMoveTo=R.moveTo,R.__originalLineTo=R.lineTo,R.__originalBezierCurveTo=R.bezierCurveTo,R.__originalRect=R.rect,R.__originalClosePath=R.closePath,R.__originalBeginPath=R.beginPath,R._removeMirroring=()=>{R.save=R.__originalSave,R.restore=R.__originalRestore,R.rotate=R.__originalRotate,R.scale=R.__originalScale,R.translate=R.__originalTranslate,R.transform=R.__originalTransform,R.setTransform=R.__originalSetTransform,R.resetTransform=R.__originalResetTransform,R.clip=R.__originalClip,R.moveTo=R.__originalMoveTo,R.lineTo=R.__originalLineTo,R.bezierCurveTo=R.__originalBezierCurveTo,R.rect=R.__originalRect,R.closePath=R.__originalClosePath,R.beginPath=R.__originalBeginPath,delete R._removeMirroring},R.save=function(){_.save(),this.__originalSave()},R.restore=function(){_.restore(),this.__originalRestore()},R.translate=function(E,P){_.translate(E,P),this.__originalTranslate(E,P)},R.scale=function(E,P){_.scale(E,P),this.__originalScale(E,P)},R.transform=function(E,P,c,g,v,y){_.transform(E,P,c,g,v,y),this.__originalTransform(E,P,c,g,v,y)},R.setTransform=function(E,P,c,g,v,y){_.setTransform(E,P,c,g,v,y),this.__originalSetTransform(E,P,c,g,v,y)},R.resetTransform=function(){_.resetTransform(),this.__originalResetTransform()},R.rotate=function(E){_.rotate(E),this.__originalRotate(E)},R.clip=function(E){_.clip(E),this.__originalClip(E)},R.moveTo=function(F,E){_.moveTo(F,E),this.__originalMoveTo(F,E)},R.lineTo=function(F,E){_.lineTo(F,E),this.__originalLineTo(F,E)},R.bezierCurveTo=function(F,E,P,c,g,v){_.bezierCurveTo(F,E,P,c,g,v),this.__originalBezierCurveTo(F,E,P,c,g,v)},R.rect=function(F,E,P,c){_.rect(F,E,P,c),this.__originalRect(F,E,P,c)},R.closePath=function(){_.closePath(),this.__originalClosePath()},R.beginPath=function(){_.beginPath(),this.__originalBeginPath()}}class b{constructor(_){this.canvasFactory=_,this.cache=Object.create(null)}getCanvas(_,F,E){let P;return this.cache[_]!==void 0?(P=this.cache[_],this.canvasFactory.reset(P,F,E)):(P=this.canvasFactory.create(F,E),this.cache[_]=P),P}delete(_){delete this.cache[_]}clear(){for(let _ in this.cache){let F=this.cache[_];this.canvasFactory.destroy(F),delete this.cache[_]}}}function I(R,_,F,E,P,c,g,v,y,B){let[V,W,z,Y,G,Z]=(0,r.getCurrentTransform)(R);if(W===0&&z===0){let ue=g*V+G,pe=Math.round(ue),he=v*Y+Z,xe=Math.round(he),ce=(g+y)*V+G,Ne=Math.abs(Math.round(ce)-pe)||1,qe=(v+B)*Y+Z,Fe=Math.abs(Math.round(qe)-xe)||1;return R.setTransform(Math.sign(V),0,0,Math.sign(Y),pe,xe),R.drawImage(_,F,E,P,c,0,0,Ne,Fe),R.setTransform(V,W,z,Y,G,Z),[Ne,Fe]}if(V===0&&Y===0){let ue=v*z+G,pe=Math.round(ue),he=g*W+Z,xe=Math.round(he),ce=(v+B)*z+G,Ne=Math.abs(Math.round(ce)-pe)||1,qe=(g+y)*W+Z,Fe=Math.abs(Math.round(qe)-xe)||1;return R.setTransform(0,Math.sign(W),Math.sign(z),0,pe,xe),R.drawImage(_,F,E,P,c,0,0,Fe,Ne),R.setTransform(V,W,z,Y,G,Z),[Fe,Ne]}R.drawImage(_,F,E,P,c,g,v,y,B);let ae=Math.hypot(V,W),ne=Math.hypot(z,Y);return[ae*y,ne*B]}function C(R){let{width:_,height:F}=R;if(_>S||F>S)return null;let E=1e3,P=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),c=_+1,g=new Uint8Array(c*(F+1)),v,y,B,V=_+7&-8,W=new Uint8Array(V*F),z=0;for(let ne of R.data){let ue=128;for(;ue>0;)W[z++]=ne&ue?0:255,ue>>=1}let Y=0;for(z=0,W[z]!==0&&(g[0]=1,++Y),y=1;y<_;y++)W[z]!==W[z+1]&&(g[y]=W[z]?2:1,++Y),z++;for(W[z]!==0&&(g[y]=2,++Y),v=1;v<F;v++){z=v*V,B=v*c,W[z-V]!==W[z]&&(g[B]=W[z]?1:8,++Y);let ne=(W[z]?4:0)+(W[z-V]?8:0);for(y=1;y<_;y++)ne=(ne>>2)+(W[z+1]?4:0)+(W[z-V+1]?8:0),P[ne]&&(g[B+y]=P[ne],++Y),z++;if(W[z-V]!==W[z]&&(g[B+y]=W[z]?2:4,++Y),Y>E)return null}for(z=V*(F-1),B=v*c,W[z]!==0&&(g[B]=8,++Y),y=1;y<_;y++)W[z]!==W[z+1]&&(g[B+y]=W[z]?4:8,++Y),z++;if(W[z]!==0&&(g[B+y]=4,++Y),Y>E)return null;let G=new Int32Array([0,c,-1,0,-c,0,0,0,1]),Z=new Path2D;for(v=0;Y&&v<=F;v++){let ne=v*c,ue=ne+_;for(;ne<ue&&!g[ne];)ne++;if(ne===ue)continue;Z.moveTo(ne%c,v);let pe=ne,he=g[ne];do{let xe=G[he];do ne+=xe;while(!g[ne]);let ce=g[ne];ce!==5&&ce!==10?(he=ce,g[ne]=0):(he=ce&51*he>>4,g[ne]&=he>>2|he<<2),Z.lineTo(ne%c,ne/c|0),g[ne]||--Y}while(pe!==ne);--v}return W=null,g=null,function(ne){ne.save(),ne.scale(1/_,-1/F),ne.translate(0,-F),ne.fill(Z),ne.beginPath(),ne.restore()}}class M{constructor(_,F){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=i.IDENTITY_MATRIX,this.textMatrixScale=1,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=i.TextRenderingMode.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps=null,this.startNewPathAndClipBox([0,0,_,F])}clone(){let _=Object.create(this);return _.clipBox=this.clipBox.slice(),_}setCurrentPoint(_,F){this.x=_,this.y=F}updatePathMinMax(_,F,E){[F,E]=i.Util.applyTransform([F,E],_),this.minX=Math.min(this.minX,F),this.minY=Math.min(this.minY,E),this.maxX=Math.max(this.maxX,F),this.maxY=Math.max(this.maxY,E)}updateRectMinMax(_,F){let E=i.Util.applyTransform(F,_),P=i.Util.applyTransform(F.slice(2),_);this.minX=Math.min(this.minX,E[0],P[0]),this.minY=Math.min(this.minY,E[1],P[1]),this.maxX=Math.max(this.maxX,E[0],P[0]),this.maxY=Math.max(this.maxY,E[1],P[1])}updateScalingPathMinMax(_,F){i.Util.scaleMinMax(_,F),this.minX=Math.min(this.minX,F[0]),this.maxX=Math.max(this.maxX,F[1]),this.minY=Math.min(this.minY,F[2]),this.maxY=Math.max(this.maxY,F[3])}updateCurvePathMinMax(_,F,E,P,c,g,v,y,B,V){let W=i.Util.bezierBoundingBox(F,E,P,c,g,v,y,B);if(V){V[0]=Math.min(V[0],W[0],W[2]),V[1]=Math.max(V[1],W[0],W[2]),V[2]=Math.min(V[2],W[1],W[3]),V[3]=Math.max(V[3],W[1],W[3]);return}this.updateRectMinMax(_,W)}getPathBoundingBox(_=s.PathType.FILL,F=null){let E=[this.minX,this.minY,this.maxX,this.maxY];if(_===s.PathType.STROKE){F||(0,i.unreachable)("Stroke bounding box must include transform.");let P=i.Util.singularValueDecompose2dScale(F),c=P[0]*this.lineWidth/2,g=P[1]*this.lineWidth/2;E[0]-=c,E[1]-=g,E[2]+=c,E[3]+=g}return E}updateClipFromPath(){let _=i.Util.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(_||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(_){this.clipBox=_,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(_=s.PathType.FILL,F=null){return i.Util.intersect(this.clipBox,this.getPathBoundingBox(_,F))}}function k(R,_,F=null){if(typeof ImageData<"u"&&_ instanceof ImageData){R.putImageData(_,0,0);return}let E=_.height,P=_.width,c=E%m,g=(E-c)/m,v=c===0?g:g+1,y=R.createImageData(P,m),B=0,V,W=_.data,z=y.data,Y,G,Z,ae,ne,ue,pe,he;if(F)switch(F.length){case 1:ne=F[0],ue=F[0],pe=F[0],he=F[0];break;case 4:ne=F[0],ue=F[1],pe=F[2],he=F[3];break}if(_.kind===i.ImageKind.GRAYSCALE_1BPP){let xe=W.byteLength,ce=new Uint32Array(z.buffer,0,z.byteLength>>2),Ne=ce.length,qe=P+7>>3,Fe=4294967295,Ve=i.FeatureTest.isLittleEndian?4278190080:255;for(he&&he[0]===255&&he[255]===0&&([Fe,Ve]=[Ve,Fe]),Y=0;Y<v;Y++){for(Z=Y<g?m:c,V=0,G=0;G<Z;G++){let ze=xe-B,xt=0,nt=ze>qe?P:ze*8-7,nn=nt&-8,Je=0,Xe=0;for(;xt<nn;xt+=8)Xe=W[B++],ce[V++]=Xe&128?Fe:Ve,ce[V++]=Xe&64?Fe:Ve,ce[V++]=Xe&32?Fe:Ve,ce[V++]=Xe&16?Fe:Ve,ce[V++]=Xe&8?Fe:Ve,ce[V++]=Xe&4?Fe:Ve,ce[V++]=Xe&2?Fe:Ve,ce[V++]=Xe&1?Fe:Ve;for(;xt<nt;xt++)Je===0&&(Xe=W[B++],Je=128),ce[V++]=Xe&Je?Fe:Ve,Je>>=1}for(;V<Ne;)ce[V++]=0;R.putImageData(y,0,Y*m)}}else if(_.kind===i.ImageKind.RGBA_32BPP){let xe=!!(ne||ue||pe);for(G=0,ae=P*m*4,Y=0;Y<g;Y++){if(z.set(W.subarray(B,B+ae)),B+=ae,xe)for(let ce=0;ce<ae;ce+=4)ne&&(z[ce+0]=ne[z[ce+0]]),ue&&(z[ce+1]=ue[z[ce+1]]),pe&&(z[ce+2]=pe[z[ce+2]]);R.putImageData(y,0,G),G+=m}if(Y<v){if(ae=P*c*4,z.set(W.subarray(B,B+ae)),xe)for(let ce=0;ce<ae;ce+=4)ne&&(z[ce+0]=ne[z[ce+0]]),ue&&(z[ce+1]=ue[z[ce+1]]),pe&&(z[ce+2]=pe[z[ce+2]]);R.putImageData(y,0,G)}}else if(_.kind===i.ImageKind.RGB_24BPP){let xe=!!(ne||ue||pe);for(Z=m,ae=P*Z,Y=0;Y<v;Y++){for(Y>=g&&(Z=c,ae=P*Z),V=0,G=ae;G--;)z[V++]=W[B++],z[V++]=W[B++],z[V++]=W[B++],z[V++]=255;if(xe)for(let ce=0;ce<V;ce+=4)ne&&(z[ce+0]=ne[z[ce+0]]),ue&&(z[ce+1]=ue[z[ce+1]]),pe&&(z[ce+2]=pe[z[ce+2]]);R.putImageData(y,0,Y*m)}}else throw new Error(`bad image kind: ${_.kind}`)}function h(R,_){if(_.bitmap){R.drawImage(_.bitmap,0,0);return}let F=_.height,E=_.width,P=F%m,c=(F-P)/m,g=P===0?c:c+1,v=R.createImageData(E,m),y=0,B=_.data,V=v.data;for(let W=0;W<g;W++){let z=W<c?m:P;({srcPos:y}=(0,l.applyMaskImageData)({src:B,srcPos:y,dest:V,width:E,height:z})),R.putImageData(v,0,W*m)}}function f(R,_){let F=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font"];for(let E=0,P=F.length;E<P;E++){let c=F[E];R[c]!==void 0&&(_[c]=R[c])}R.setLineDash!==void 0&&(_.setLineDash(R.getLineDash()),_.lineDashOffset=R.lineDashOffset)}function T(R,_){R.strokeStyle=R.fillStyle=_||"#000000",R.fillRule="nonzero",R.globalAlpha=1,R.lineWidth=1,R.lineCap="butt",R.lineJoin="miter",R.miterLimit=10,R.globalCompositeOperation="source-over",R.font="10px sans-serif",R.setLineDash!==void 0&&(R.setLineDash([]),R.lineDashOffset=0)}function L(R,_,F,E){let P=R.length;for(let c=3;c<P;c+=4){let g=R[c];if(g===0)R[c-3]=_,R[c-2]=F,R[c-1]=E;else if(g<255){let v=255-g;R[c-3]=R[c-3]*g+_*v>>8,R[c-2]=R[c-2]*g+F*v>>8,R[c-1]=R[c-1]*g+E*v>>8}}}function D(R,_,F){let E=R.length,P=1/255;for(let c=3;c<E;c+=4){let g=F?F[R[c]]:R[c];_[c]=_[c]*g*P|0}}function H(R,_,F){let E=R.length;for(let P=3;P<E;P+=4){let c=R[P-3]*77+R[P-2]*152+R[P-1]*28;_[P]=F?_[P]*F[c>>8]>>8:_[P]*c>>16}}function N(R,_,F,E,P,c,g,v,y,B,V){let W=!!c,z=W?c[0]:0,Y=W?c[1]:0,G=W?c[2]:0,Z;P==="Luminosity"?Z=H:Z=D;let ne=Math.min(E,Math.ceil(1048576/F));for(let ue=0;ue<E;ue+=ne){let pe=Math.min(ne,E-ue),he=R.getImageData(v-B,ue+(y-V),F,pe),xe=_.getImageData(v,ue+y,F,pe);W&&L(he.data,z,Y,G),Z(he.data,xe.data,g),_.putImageData(xe,v,ue+y)}}function ee(R,_,F,E){let P=E[0],c=E[1],g=E[2]-P,v=E[3]-c;g===0||v===0||(N(_.context,F,g,v,_.subtype,_.backdrop,_.transferMap,P,c,_.offsetX,_.offsetY),R.save(),R.globalAlpha=1,R.globalCompositeOperation="source-over",R.setTransform(1,0,0,1,0,0),R.drawImage(F.canvas,0,0),R.restore())}function te(R,_){let F=i.Util.singularValueDecompose2dScale(R);F[0]=Math.fround(F[0]),F[1]=Math.fround(F[1]);let E=Math.fround((globalThis.devicePixelRatio||1)*r.PixelsPerInch.PDF_TO_CSS_UNITS);return _!==void 0?_:F[0]<=E||F[1]<=E}let X=["butt","round","square"],j=["miter","round","bevel"],U={},Q={};class K{constructor(_,F,E,P,c,g,v,y){this.ctx=_,this.current=new M(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=F,this.objs=E,this.canvasFactory=P,this.imageLayer=c,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=[],this.optionalContentConfig=g,this.cachedCanvases=new b(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=v,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.backgroundColor=y?.background||null,this.foregroundColor=y?.foreground||null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(_,F=null){return typeof _=="string"?_.startsWith("g_")?this.commonObjs.get(_):this.objs.get(_):F}beginDrawing({transform:_,viewport:F,transparency:E=!1,background:P=null}){let c=this.ctx.canvas.width,g=this.ctx.canvas.height,v=P||"#ffffff";if(this.ctx.save(),this.foregroundColor&&this.backgroundColor){this.ctx.fillStyle=this.foregroundColor;let y=this.foregroundColor=this.ctx.fillStyle;this.ctx.fillStyle=this.backgroundColor;let B=this.backgroundColor=this.ctx.fillStyle,V=!0,W=v;if(this.ctx.fillStyle=v,W=this.ctx.fillStyle,V=typeof W=="string"&&/^#[0-9A-Fa-f]{6}$/.test(W),y==="#000000"&&B==="#ffffff"||y===B||!V)this.foregroundColor=this.backgroundColor=null;else{let[z,Y,G]=(0,r.getRGB)(W),Z=ne=>(ne/=255,ne<=.03928?ne/12.92:((ne+.055)/1.055)**2.4),ae=Math.round(.2126*Z(z)+.7152*Z(Y)+.0722*Z(G));this.selectColor=(ne,ue,pe)=>{let he=.2126*Z(ne)+.7152*Z(ue)+.0722*Z(pe);return Math.round(he)===ae?B:y}}}if(this.ctx.fillStyle=this.backgroundColor||v,this.ctx.fillRect(0,0,c,g),this.ctx.restore(),E){let y=this.cachedCanvases.getCanvas("transparent",c,g);this.compositeCtx=this.ctx,this.transparentCanvas=y.canvas,this.ctx=y.context,this.ctx.save(),this.ctx.transform(...(0,r.getCurrentTransform)(this.compositeCtx))}this.ctx.save(),T(this.ctx,this.foregroundColor),_&&(this.ctx.transform(..._),this.outputScaleX=_[0],this.outputScaleY=_[0]),this.ctx.transform(...F.transform),this.viewportScale=F.scale,this.baseTransform=(0,r.getCurrentTransform)(this.ctx),this.imageLayer&&((0,r.deprecated)("The `imageLayer` functionality will be removed in the future."),this.imageLayer.beginLayout())}executeOperatorList(_,F,E,P){let c=_.argsArray,g=_.fnArray,v=F||0,y=c.length;if(y===v)return v;let B=y-v>w&&typeof E=="function",V=B?Date.now()+x:0,W=0,z=this.commonObjs,Y=this.objs,G;for(;;){if(P!==void 0&&v===P.nextBreakPoint)return P.breakIt(v,E),v;if(G=g[v],G!==i.OPS.dependency)this[G].apply(this,c[v]);else for(let Z of c[v]){let ae=Z.startsWith("g_")?z:Y;if(!ae.has(Z))return ae.get(Z,E),v}if(v++,v===y)return v;if(B&&++W>w){if(Date.now()>V)return E(),v;W=0}}}#e(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}endDrawing(){this.#e(),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(let _ of this._cachedBitmapsMap.values()){for(let F of _.values())typeof HTMLCanvasElement<"u"&&F instanceof HTMLCanvasElement&&(F.width=F.height=0);_.clear()}this._cachedBitmapsMap.clear(),this.imageLayer&&this.imageLayer.endLayout()}_scaleImage(_,F){let E=_.width,P=_.height,c=Math.max(Math.hypot(F[0],F[1]),1),g=Math.max(Math.hypot(F[2],F[3]),1),v=E,y=P,B="prescale1",V,W;for(;c>2&&v>1||g>2&&y>1;){let z=v,Y=y;c>2&&v>1&&(z=Math.ceil(v/2),c/=v/z),g>2&&y>1&&(Y=Math.ceil(y/2),g/=y/Y),V=this.cachedCanvases.getCanvas(B,z,Y),W=V.context,W.clearRect(0,0,z,Y),W.drawImage(_,0,0,v,y,0,0,z,Y),_=V.canvas,v=z,y=Y,B=B==="prescale1"?"prescale2":"prescale1"}return{img:_,paintWidth:v,paintHeight:y}}_createMaskCanvas(_){let F=this.ctx,{width:E,height:P}=_,c=this.current.fillColor,g=this.current.patternFill,v=(0,r.getCurrentTransform)(F),y,B,V,W;if((_.bitmap||_.data)&&_.count>1){let Ne=_.bitmap||_.data.buffer,qe=v.slice(0,4);B=JSON.stringify(g?qe:[qe,c]),y=this._cachedBitmapsMap.get(Ne),y||(y=new Map,this._cachedBitmapsMap.set(Ne,y));let Fe=y.get(B);if(Fe&&!g){let Ve=Math.round(Math.min(v[0],v[2])+v[4]),ze=Math.round(Math.min(v[1],v[3])+v[5]);return{canvas:Fe,offsetX:Ve,offsetY:ze}}V=Fe}V||(W=this.cachedCanvases.getCanvas("maskCanvas",E,P),h(W.context,_));let z=i.Util.transform(v,[1/E,0,0,-1/P,0,0]);z=i.Util.transform(z,[1,0,0,1,0,-P]);let Y=i.Util.applyTransform([0,0],z),G=i.Util.applyTransform([E,P],z),Z=i.Util.normalizeRect([Y[0],Y[1],G[0],G[1]]),ae=Math.round(Z[2]-Z[0])||1,ne=Math.round(Z[3]-Z[1])||1,ue=this.cachedCanvases.getCanvas("fillCanvas",ae,ne),pe=ue.context,he=Math.min(Y[0],G[0]),xe=Math.min(Y[1],G[1]);pe.translate(-he,-xe),pe.transform(...z),V||(V=this._scaleImage(W.canvas,(0,r.getCurrentTransformInverse)(pe)),V=V.img,y&&g&&y.set(B,V)),pe.imageSmoothingEnabled=te((0,r.getCurrentTransform)(pe),_.interpolate),I(pe,V,0,0,V.width,V.height,0,0,E,P),pe.globalCompositeOperation="source-in";let ce=i.Util.transform((0,r.getCurrentTransformInverse)(pe),[1,0,0,1,-he,-xe]);return pe.fillStyle=g?c.getPattern(F,this,ce,s.PathType.FILL):c,pe.fillRect(0,0,E,P),y&&!g&&(this.cachedCanvases.delete("fillCanvas"),y.set(B,ue.canvas)),{canvas:ue.canvas,offsetX:Math.round(he),offsetY:Math.round(xe)}}setLineWidth(_){_!==this.current.lineWidth&&(this._cachedScaleForStroking=null),this.current.lineWidth=_,this.ctx.lineWidth=_}setLineCap(_){this.ctx.lineCap=X[_]}setLineJoin(_){this.ctx.lineJoin=j[_]}setMiterLimit(_){this.ctx.miterLimit=_}setDash(_,F){let E=this.ctx;E.setLineDash!==void 0&&(E.setLineDash(_),E.lineDashOffset=F)}setRenderingIntent(_){}setFlatness(_){}setGState(_){for(let F=0,E=_.length;F<E;F++){let P=_[F],c=P[0],g=P[1];switch(c){case"LW":this.setLineWidth(g);break;case"LC":this.setLineCap(g);break;case"LJ":this.setLineJoin(g);break;case"ML":this.setMiterLimit(g);break;case"D":this.setDash(g[0],g[1]);break;case"RI":this.setRenderingIntent(g);break;case"FL":this.setFlatness(g);break;case"Font":this.setFont(g[0],g[1]);break;case"CA":this.current.strokeAlpha=P[1];break;case"ca":this.current.fillAlpha=P[1],this.ctx.globalAlpha=P[1];break;case"BM":this.ctx.globalCompositeOperation=g;break;case"SMask":this.current.activeSMask=g?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.current.transferMaps=g}}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){let _=this.inSMaskMode;this.current.activeSMask&&!_?this.beginSMaskMode():!this.current.activeSMask&&_&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");let _=this.ctx.canvas.width,F=this.ctx.canvas.height,E="smaskGroupAt"+this.groupLevel,P=this.cachedCanvases.getCanvas(E,_,F);this.suspendedCtx=this.ctx,this.ctx=P.context;let c=this.ctx;c.setTransform(...(0,r.getCurrentTransform)(this.suspendedCtx)),f(this.suspendedCtx,c),A(c,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),f(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(_){if(!this.current.activeSMask)return;_?(_[0]=Math.floor(_[0]),_[1]=Math.floor(_[1]),_[2]=Math.ceil(_[2]),_[3]=Math.ceil(_[3])):_=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];let F=this.current.activeSMask,E=this.suspendedCtx;ee(E,F,this.ctx,_),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}save(){this.inSMaskMode?(f(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();let _=this.current;this.stateStack.push(_),this.current=_.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),f(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null)}transform(_,F,E,P,c,g){this.ctx.transform(_,F,E,P,c,g),this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null}constructPath(_,F,E){let P=this.ctx,c=this.current,g=c.x,v=c.y,y,B,V=(0,r.getCurrentTransform)(P),W=V[0]===0&&V[3]===0||V[1]===0&&V[2]===0,z=W?E.slice(0):null;for(let Y=0,G=0,Z=_.length;Y<Z;Y++)switch(_[Y]|0){case i.OPS.rectangle:g=F[G++],v=F[G++];let ae=F[G++],ne=F[G++],ue=g+ae,pe=v+ne;P.moveTo(g,v),ae===0||ne===0?P.lineTo(ue,pe):(P.lineTo(ue,v),P.lineTo(ue,pe),P.lineTo(g,pe)),W||c.updateRectMinMax(V,[g,v,ue,pe]),P.closePath();break;case i.OPS.moveTo:g=F[G++],v=F[G++],P.moveTo(g,v),W||c.updatePathMinMax(V,g,v);break;case i.OPS.lineTo:g=F[G++],v=F[G++],P.lineTo(g,v),W||c.updatePathMinMax(V,g,v);break;case i.OPS.curveTo:y=g,B=v,g=F[G+4],v=F[G+5],P.bezierCurveTo(F[G],F[G+1],F[G+2],F[G+3],g,v),c.updateCurvePathMinMax(V,y,B,F[G],F[G+1],F[G+2],F[G+3],g,v,z),G+=6;break;case i.OPS.curveTo2:y=g,B=v,P.bezierCurveTo(g,v,F[G],F[G+1],F[G+2],F[G+3]),c.updateCurvePathMinMax(V,y,B,g,v,F[G],F[G+1],F[G+2],F[G+3],z),g=F[G+2],v=F[G+3],G+=4;break;case i.OPS.curveTo3:y=g,B=v,g=F[G+2],v=F[G+3],P.bezierCurveTo(F[G],F[G+1],g,v,g,v),c.updateCurvePathMinMax(V,y,B,F[G],F[G+1],g,v,g,v,z),G+=4;break;case i.OPS.closePath:P.closePath();break}W&&c.updateScalingPathMinMax(V,z),c.setCurrentPoint(g,v)}closePath(){this.ctx.closePath()}stroke(_){_=typeof _<"u"?_:!0;let F=this.ctx,E=this.current.strokeColor;F.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof E=="object"&&E?.getPattern?(F.save(),F.strokeStyle=E.getPattern(F,this,(0,r.getCurrentTransformInverse)(F),s.PathType.STROKE),this.rescaleAndStroke(!1),F.restore()):this.rescaleAndStroke(!0)),_&&this.consumePath(this.current.getClippedPathBoundingBox()),F.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(_){_=typeof _<"u"?_:!0;let F=this.ctx,E=this.current.fillColor,P=this.current.patternFill,c=!1;P&&(F.save(),F.fillStyle=E.getPattern(F,this,(0,r.getCurrentTransformInverse)(F),s.PathType.FILL),c=!0);let g=this.current.getClippedPathBoundingBox();this.contentVisible&&g!==null&&(this.pendingEOFill?(F.fill("evenodd"),this.pendingEOFill=!1):F.fill()),c&&F.restore(),_&&this.consumePath(g)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=U}eoClip(){this.pendingClip=Q}beginText(){this.current.textMatrix=i.IDENTITY_MATRIX,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){let _=this.pendingTextPaths,F=this.ctx;if(_===void 0){F.beginPath();return}F.save(),F.beginPath();for(let E of _)F.setTransform(...E.transform),F.translate(E.x,E.y),E.addToPath(F,E.fontSize);F.restore(),F.clip(),F.beginPath(),delete this.pendingTextPaths}setCharSpacing(_){this.current.charSpacing=_}setWordSpacing(_){this.current.wordSpacing=_}setHScale(_){this.current.textHScale=_/100}setLeading(_){this.current.leading=-_}setFont(_,F){let E=this.commonObjs.get(_),P=this.current;if(!E)throw new Error(`Can't find font for ${_}`);if(P.fontMatrix=E.fontMatrix||i.FONT_IDENTITY_MATRIX,(P.fontMatrix[0]===0||P.fontMatrix[3]===0)&&(0,i.warn)("Invalid font matrix for font "+_),F<0?(F=-F,P.fontDirection=-1):P.fontDirection=1,this.current.font=E,this.current.fontSize=F,E.isType3Font)return;let c=E.loadedName||"sans-serif",g="normal";E.black?g="900":E.bold&&(g="bold");let v=E.italic?"italic":"normal",y=`"${c}", ${E.fallbackName}`,B=F;F<u?B=u:F>a&&(B=a),this.current.fontSizeScale=F/B,this.ctx.font=`${v} ${g} ${B}px ${y}`}setTextRenderingMode(_){this.current.textRenderingMode=_}setTextRise(_){this.current.textRise=_}moveText(_,F){this.current.x=this.current.lineX+=_,this.current.y=this.current.lineY+=F}setLeadingMoveText(_,F){this.setLeading(-F),this.moveText(_,F)}setTextMatrix(_,F,E,P,c,g){this.current.textMatrix=[_,F,E,P,c,g],this.current.textMatrixScale=Math.hypot(_,F),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(_,F,E,P){let c=this.ctx,g=this.current,v=g.font,y=g.textRenderingMode,B=g.fontSize/g.fontSizeScale,V=y&i.TextRenderingMode.FILL_STROKE_MASK,W=!!(y&i.TextRenderingMode.ADD_TO_PATH_FLAG),z=g.patternFill&&!v.missingFile,Y;(v.disableFontFace||W||z)&&(Y=v.getPathGenerator(this.commonObjs,_)),v.disableFontFace||z?(c.save(),c.translate(F,E),c.beginPath(),Y(c,B),P&&c.setTransform(...P),(V===i.TextRenderingMode.FILL||V===i.TextRenderingMode.FILL_STROKE)&&c.fill(),(V===i.TextRenderingMode.STROKE||V===i.TextRenderingMode.FILL_STROKE)&&c.stroke(),c.restore()):((V===i.TextRenderingMode.FILL||V===i.TextRenderingMode.FILL_STROKE)&&c.fillText(_,F,E),(V===i.TextRenderingMode.STROKE||V===i.TextRenderingMode.FILL_STROKE)&&c.strokeText(_,F,E)),W&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:(0,r.getCurrentTransform)(c),x:F,y:E,fontSize:B,addToPath:Y})}get isFontSubpixelAAEnabled(){let{context:_}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);_.scale(1.5,1),_.fillText("I",0,10);let F=_.getImageData(0,0,10,10).data,E=!1;for(let P=3;P<F.length;P+=4)if(F[P]>0&&F[P]<255){E=!0;break}return(0,i.shadow)(this,"isFontSubpixelAAEnabled",E)}showText(_){let F=this.current,E=F.font;if(E.isType3Font)return this.showType3Text(_);let P=F.fontSize;if(P===0)return;let c=this.ctx,g=F.fontSizeScale,v=F.charSpacing,y=F.wordSpacing,B=F.fontDirection,V=F.textHScale*B,W=_.length,z=E.vertical,Y=z?1:-1,G=E.defaultVMetrics,Z=P*F.fontMatrix[0],ae=F.textRenderingMode===i.TextRenderingMode.FILL&&!E.disableFontFace&&!F.patternFill;c.save(),c.transform(...F.textMatrix),c.translate(F.x,F.y+F.textRise),B>0?c.scale(V,-1):c.scale(V,1);let ne;if(F.patternFill){c.save();let ce=F.fillColor.getPattern(c,this,(0,r.getCurrentTransformInverse)(c),s.PathType.FILL);ne=(0,r.getCurrentTransform)(c),c.restore(),c.fillStyle=ce}let ue=F.lineWidth,pe=F.textMatrixScale;if(pe===0||ue===0){let ce=F.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;(ce===i.TextRenderingMode.STROKE||ce===i.TextRenderingMode.FILL_STROKE)&&(ue=this.getSinglePixelWidth())}else ue/=pe;g!==1&&(c.scale(g,g),ue/=g),c.lineWidth=ue;let he=0,xe;for(xe=0;xe<W;++xe){let ce=_[xe];if(typeof ce=="number"){he+=Y*ce*P/1e3;continue}let Ne=!1,qe=(ce.isSpace?y:0)+v,Fe=ce.fontChar,Ve=ce.accent,ze,xt,nt=ce.width;if(z){let Je=ce.vmetric||G,Xe=-(ce.vmetric?Je[1]:nt*.5)*Z,Yo=Je[2]*Z;nt=Je?-Je[0]:nt,ze=Xe/g,xt=(he+Yo)/g}else ze=he/g,xt=0;if(E.remeasure&&nt>0){let Je=c.measureText(Fe).width*1e3/P*g;if(nt<Je&&this.isFontSubpixelAAEnabled){let Xe=nt/Je;Ne=!0,c.save(),c.scale(Xe,1),ze/=Xe}else nt!==Je&&(ze+=(nt-Je)/2e3*P/g)}if(this.contentVisible&&(ce.isInFont||E.missingFile)){if(ae&&!Ve)c.fillText(Fe,ze,xt);else if(this.paintChar(Fe,ze,xt,ne),Ve){let Je=ze+P*Ve.offset.x/g,Xe=xt-P*Ve.offset.y/g;this.paintChar(Ve.fontChar,Je,Xe,ne)}}let nn;z?nn=nt*Z-qe*B:nn=nt*Z+qe*B,he+=nn,Ne&&c.restore()}z?F.y-=he:F.x+=he*V,c.restore(),this.compose()}showType3Text(_){let F=this.ctx,E=this.current,P=E.font,c=E.fontSize,g=E.fontDirection,v=P.vertical?1:-1,y=E.charSpacing,B=E.wordSpacing,V=E.textHScale*g,W=E.fontMatrix||i.FONT_IDENTITY_MATRIX,z=_.length,Y=E.textRenderingMode===i.TextRenderingMode.INVISIBLE,G,Z,ae,ne;if(!(Y||c===0)){for(this._cachedScaleForStroking=null,this._cachedGetSinglePixelWidth=null,F.save(),F.transform(...E.textMatrix),F.translate(E.x,E.y),F.scale(V,g),G=0;G<z;++G){if(Z=_[G],typeof Z=="number"){ne=v*Z*c/1e3,this.ctx.translate(ne,0),E.x+=ne*V;continue}let ue=(Z.isSpace?B:0)+y,pe=P.charProcOperatorList[Z.operatorListId];if(!pe){(0,i.warn)(`Type3 character "${Z.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=Z,this.save(),F.scale(c,c),F.transform(...W),this.executeOperatorList(pe),this.restore()),ae=i.Util.applyTransform([Z.width,0],W)[0]*c+ue,F.translate(ae,0),E.x+=ae*V}F.restore(),this.processingType3=null}}setCharWidth(_,F){}setCharWidthAndBounds(_,F,E,P,c,g){this.ctx.rect(E,P,c-E,g-P),this.ctx.clip(),this.endPath()}getColorN_Pattern(_){let F;if(_[0]==="TilingPattern"){let E=_[1],P=this.baseTransform||(0,r.getCurrentTransform)(this.ctx),c={createCanvasGraphics:g=>new K(g,this.commonObjs,this.objs,this.canvasFactory)};F=new s.TilingPattern(_,E,this.ctx,c,P)}else F=this._getPattern(_[1],_[2]);return F}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(_,F,E){let P=this.selectColor?.(_,F,E)||i.Util.makeHexColor(_,F,E);this.ctx.strokeStyle=P,this.current.strokeColor=P}setFillRGBColor(_,F,E){let P=this.selectColor?.(_,F,E)||i.Util.makeHexColor(_,F,E);this.ctx.fillStyle=P,this.current.fillColor=P,this.current.patternFill=!1}_getPattern(_,F=null){let E;return this.cachedPatterns.has(_)?E=this.cachedPatterns.get(_):(E=(0,s.getShadingPattern)(this.objs.get(_)),this.cachedPatterns.set(_,E)),F&&(E.matrix=F),E}shadingFill(_){if(!this.contentVisible)return;let F=this.ctx;this.save();let E=this._getPattern(_);F.fillStyle=E.getPattern(F,this,(0,r.getCurrentTransformInverse)(F),s.PathType.SHADING);let P=(0,r.getCurrentTransformInverse)(F);if(P){let c=F.canvas,g=c.width,v=c.height,y=i.Util.applyTransform([0,0],P),B=i.Util.applyTransform([0,v],P),V=i.Util.applyTransform([g,0],P),W=i.Util.applyTransform([g,v],P),z=Math.min(y[0],B[0],V[0],W[0]),Y=Math.min(y[1],B[1],V[1],W[1]),G=Math.max(y[0],B[0],V[0],W[0]),Z=Math.max(y[1],B[1],V[1],W[1]);this.ctx.fillRect(z,Y,G-z,Z-Y)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){(0,i.unreachable)("Should not call beginInlineImage")}beginImageData(){(0,i.unreachable)("Should not call beginImageData")}paintFormXObjectBegin(_,F){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),Array.isArray(_)&&_.length===6&&this.transform(..._),this.baseTransform=(0,r.getCurrentTransform)(this.ctx),F)){let E=F[2]-F[0],P=F[3]-F[1];this.ctx.rect(F[0],F[1],E,P),this.current.updateRectMinMax((0,r.getCurrentTransform)(this.ctx),F),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(_){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);let F=this.ctx;_.isolated||(0,i.info)("TODO: Support non-isolated groups."),_.knockout&&(0,i.warn)("Knockout groups not supported.");let E=(0,r.getCurrentTransform)(F);if(_.matrix&&F.transform(..._.matrix),!_.bbox)throw new Error("Bounding box is required.");let P=i.Util.getAxialAlignedBoundingBox(_.bbox,(0,r.getCurrentTransform)(F)),c=[0,0,F.canvas.width,F.canvas.height];P=i.Util.intersect(P,c)||[0,0,0,0];let g=Math.floor(P[0]),v=Math.floor(P[1]),y=Math.max(Math.ceil(P[2])-g,1),B=Math.max(Math.ceil(P[3])-v,1),V=1,W=1;y>p&&(V=y/p,y=p),B>p&&(W=B/p,B=p),this.current.startNewPathAndClipBox([0,0,y,B]);let z="groupAt"+this.groupLevel;_.smask&&(z+="_smask_"+this.smaskCounter++%2);let Y=this.cachedCanvases.getCanvas(z,y,B),G=Y.context;G.scale(1/V,1/W),G.translate(-g,-v),G.transform(...E),_.smask?this.smaskStack.push({canvas:Y.canvas,context:G,offsetX:g,offsetY:v,scaleX:V,scaleY:W,subtype:_.smask.subtype,backdrop:_.smask.backdrop,transferMap:_.smask.transferMap||null,startTransformInverse:null}):(F.setTransform(1,0,0,1,0,0),F.translate(g,v),F.scale(V,W),F.save()),f(F,G),this.ctx=G,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(F),this.groupLevel++}endGroup(_){if(!this.contentVisible)return;this.groupLevel--;let F=this.ctx,E=this.groupStack.pop();if(this.ctx=E,this.ctx.imageSmoothingEnabled=!1,_.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();let P=(0,r.getCurrentTransform)(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...P);let c=i.Util.getAxialAlignedBoundingBox([0,0,F.canvas.width,F.canvas.height],P);this.ctx.drawImage(F.canvas,0,0),this.ctx.restore(),this.compose(c)}}beginAnnotation(_,F,E,P,c){if(this.#e(),T(this.ctx,this.foregroundColor),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),Array.isArray(F)&&F.length===4){let g=F[2]-F[0],v=F[3]-F[1];if(c&&this.annotationCanvasMap){E=E.slice(),E[4]-=F[0],E[5]-=F[1],F=F.slice(),F[0]=F[1]=0,F[2]=g,F[3]=v;let[y,B]=i.Util.singularValueDecompose2dScale((0,r.getCurrentTransform)(this.ctx)),{viewportScale:V}=this,W=Math.ceil(g*this.outputScaleX*V),z=Math.ceil(v*this.outputScaleY*V);this.annotationCanvas=this.canvasFactory.create(W,z);let{canvas:Y,context:G}=this.annotationCanvas;this.annotationCanvasMap.set(_,Y),this.annotationCanvas.savedCtx=this.ctx,this.ctx=G,this.ctx.setTransform(y,0,0,-B,0,v*B),T(this.ctx,this.foregroundColor)}else T(this.ctx,this.foregroundColor),this.ctx.rect(F[0],F[1],g,v),this.ctx.clip(),this.endPath()}this.current=new M(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...E),this.transform(...P)}endAnnotation(){this.annotationCanvas&&(this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(_){if(!this.contentVisible)return;let F=_.count;_=this.getObject(_.data,_),_.count=F;let E=this.ctx,P=this.processingType3;if(P&&(P.compiled===void 0&&(P.compiled=C(_)),P.compiled)){P.compiled(E);return}let c=this._createMaskCanvas(_),g=c.canvas;E.save(),E.setTransform(1,0,0,1,0,0),E.drawImage(g,c.offsetX,c.offsetY),E.restore(),this.compose()}paintImageMaskXObjectRepeat(_,F,E=0,P=0,c,g){if(!this.contentVisible)return;_=this.getObject(_.data,_);let v=this.ctx;v.save();let y=(0,r.getCurrentTransform)(v);v.transform(F,E,P,c,0,0);let B=this._createMaskCanvas(_);v.setTransform(1,0,0,1,0,0);for(let V=0,W=g.length;V<W;V+=2){let z=i.Util.transform(y,[F,E,P,c,g[V],g[V+1]]),[Y,G]=i.Util.applyTransform([0,0],z);v.drawImage(B.canvas,Y,G)}v.restore(),this.compose()}paintImageMaskXObjectGroup(_){if(!this.contentVisible)return;let F=this.ctx,E=this.current.fillColor,P=this.current.patternFill;for(let c of _){let{data:g,width:v,height:y,transform:B}=c,V=this.cachedCanvases.getCanvas("maskCanvas",v,y),W=V.context;W.save();let z=this.getObject(g,c);h(W,z),W.globalCompositeOperation="source-in",W.fillStyle=P?E.getPattern(W,this,(0,r.getCurrentTransformInverse)(F),s.PathType.FILL):E,W.fillRect(0,0,v,y),W.restore(),F.save(),F.transform(...B),F.scale(1,-1),I(F,V.canvas,0,0,v,y,0,-1,1,1),F.restore()}this.compose()}paintImageXObject(_){if(!this.contentVisible)return;let F=this.getObject(_);if(!F){(0,i.warn)("Dependent image isn't ready yet");return}this.paintInlineImageXObject(F)}paintImageXObjectRepeat(_,F,E,P){if(!this.contentVisible)return;let c=this.getObject(_);if(!c){(0,i.warn)("Dependent image isn't ready yet");return}let g=c.width,v=c.height,y=[];for(let B=0,V=P.length;B<V;B+=2)y.push({transform:[F,0,0,E,P[B],P[B+1]],x:0,y:0,w:g,h:v});this.paintInlineImageXObjectGroup(c,y)}paintInlineImageXObject(_){if(!this.contentVisible)return;let F=_.width,E=_.height,P=this.ctx;this.save(),P.scale(1/F,-1/E);let c;if(typeof HTMLElement=="function"&&_ instanceof HTMLElement||!_.data)c=_;else{let B=this.cachedCanvases.getCanvas("inlineImage",F,E),V=B.context;k(V,_,this.current.transferMaps),c=B.canvas}let g=this._scaleImage(c,(0,r.getCurrentTransformInverse)(P));P.imageSmoothingEnabled=te((0,r.getCurrentTransform)(P),_.interpolate);let[v,y]=I(P,g.img,0,0,g.paintWidth,g.paintHeight,0,-E,F,E);if(this.imageLayer){let[B,V]=i.Util.applyTransform([0,-E],(0,r.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:_,left:B,top:V,width:v,height:y})}this.compose(),this.restore()}paintInlineImageXObjectGroup(_,F){if(!this.contentVisible)return;let E=this.ctx,P=_.width,c=_.height,g=this.cachedCanvases.getCanvas("inlineImage",P,c),v=g.context;k(v,_,this.current.transferMaps);for(let y of F){if(E.save(),E.transform(...y.transform),E.scale(1,-1),I(E,g.canvas,y.x,y.y,y.w,y.h,0,-1,1,1),this.imageLayer){let[B,V]=i.Util.applyTransform([y.x,y.y],(0,r.getCurrentTransform)(this.ctx));this.imageLayer.appendImage({imgData:_,left:B,top:V,width:P,height:c})}E.restore()}this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(_){}markPointProps(_,F){}beginMarkedContent(_){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(_,F){_==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(F)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(_){let F=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(_);let E=this.ctx;this.pendingClip&&(F||(this.pendingClip===Q?E.clip("evenodd"):E.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),E.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){let _=(0,r.getCurrentTransform)(this.ctx);if(_[1]===0&&_[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(_[0]),Math.abs(_[3]));else{let F=Math.abs(_[0]*_[3]-_[2]*_[1]),E=Math.hypot(_[0],_[2]),P=Math.hypot(_[1],_[3]);this._cachedGetSinglePixelWidth=Math.max(E,P)/F}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(!this._cachedScaleForStroking){let{lineWidth:_}=this.current,F=(0,r.getCurrentTransform)(this.ctx),E,P;if(F[1]===0&&F[2]===0){let c=Math.abs(F[0]),g=Math.abs(F[3]);if(_===0)E=1/c,P=1/g;else{let v=c*_,y=g*_;E=v<1?1/v:1,P=y<1?1/y:1}}else{let c=Math.abs(F[0]*F[3]-F[2]*F[1]),g=Math.hypot(F[0],F[1]),v=Math.hypot(F[2],F[3]);if(_===0)E=v/c,P=g/c;else{let y=_*c;E=v>y?v/y:1,P=g>y?g/y:1}}this._cachedScaleForStroking=[E,P]}return this._cachedScaleForStroking}rescaleAndStroke(_){let{ctx:F}=this,{lineWidth:E}=this.current,[P,c]=this.getScaleForStroking();if(F.lineWidth=E||1,P===1&&c===1){F.stroke();return}let g,v,y;_&&(g=(0,r.getCurrentTransform)(F),v=F.getLineDash().slice(),y=F.lineDashOffset),F.scale(P,c);let B=Math.max(P,c);F.setLineDash(F.getLineDash().map(V=>V/B)),F.lineDashOffset/=B,F.stroke(),_&&(F.setTransform(...g),F.setLineDash(v),F.lineDashOffset=y)}isContentVisible(){for(let _=this.markedContentStack.length-1;_>=0;_--)if(!this.markedContentStack[_].visible)return!1;return!0}}e.CanvasGraphics=K;for(let R in i.OPS)K.prototype[R]!==void 0&&(K.prototype[i.OPS[R]]=K.prototype[R])},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TilingPattern=e.PathType=void 0,e.getShadingPattern=m;var r=t(1),i=t(8),s=t(3);let l={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};e.PathType=l;function d(I,C){if(!C||s.isNodeJS)return;let M=C[2]-C[0],k=C[3]-C[1],h=new Path2D;h.rect(C[0],C[1],M,k),I.clip(h)}class u{constructor(){this.constructor===u&&(0,r.unreachable)("Cannot initialize BaseShadingPattern.")}getPattern(){(0,r.unreachable)("Abstract method `getPattern` called.")}}class a extends u{constructor(C){super(),this._type=C[1],this._bbox=C[2],this._colorStops=C[3],this._p0=C[4],this._p1=C[5],this._r0=C[6],this._r1=C[7],this.matrix=null}_createGradient(C){let M;this._type==="axial"?M=C.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(M=C.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(let k of this._colorStops)M.addColorStop(k[0],k[1]);return M}getPattern(C,M,k,h){let f;if(h===l.STROKE||h===l.FILL){let T=M.current.getClippedPathBoundingBox(h,(0,i.getCurrentTransform)(C))||[0,0,0,0],L=Math.ceil(T[2]-T[0])||1,D=Math.ceil(T[3]-T[1])||1,H=M.cachedCanvases.getCanvas("pattern",L,D,!0),N=H.context;N.clearRect(0,0,N.canvas.width,N.canvas.height),N.beginPath(),N.rect(0,0,N.canvas.width,N.canvas.height),N.translate(-T[0],-T[1]),k=r.Util.transform(k,[1,0,0,1,T[0],T[1]]),N.transform(...M.baseTransform),this.matrix&&N.transform(...this.matrix),d(N,this._bbox),N.fillStyle=this._createGradient(N),N.fill(),f=C.createPattern(H.canvas,"no-repeat");let ee=new DOMMatrix(k);try{f.setTransform(ee)}catch(te){(0,r.warn)(`RadialAxialShadingPattern.getPattern: "${te?.message}".`)}}else d(C,this._bbox),f=this._createGradient(C);return f}}function p(I,C,M,k,h,f,T,L){let D=C.coords,H=C.colors,N=I.data,ee=I.width*4,te;D[M+1]>D[k+1]&&(te=M,M=k,k=te,te=f,f=T,T=te),D[k+1]>D[h+1]&&(te=k,k=h,h=te,te=T,T=L,L=te),D[M+1]>D[k+1]&&(te=M,M=k,k=te,te=f,f=T,T=te);let X=(D[M]+C.offsetX)*C.scaleX,j=(D[M+1]+C.offsetY)*C.scaleY,U=(D[k]+C.offsetX)*C.scaleX,Q=(D[k+1]+C.offsetY)*C.scaleY,K=(D[h]+C.offsetX)*C.scaleX,R=(D[h+1]+C.offsetY)*C.scaleY;if(j>=R)return;let _=H[f],F=H[f+1],E=H[f+2],P=H[T],c=H[T+1],g=H[T+2],v=H[L],y=H[L+1],B=H[L+2],V=Math.round(j),W=Math.round(R),z,Y,G,Z,ae,ne,ue,pe;for(let he=V;he<=W;he++){if(he<Q){let Fe;he<j?Fe=0:Fe=(j-he)/(j-Q),z=X-(X-U)*Fe,Y=_-(_-P)*Fe,G=F-(F-c)*Fe,Z=E-(E-g)*Fe}else{let Fe;he>R?Fe=1:Q===R?Fe=0:Fe=(Q-he)/(Q-R),z=U-(U-K)*Fe,Y=P-(P-v)*Fe,G=c-(c-y)*Fe,Z=g-(g-B)*Fe}let xe;he<j?xe=0:he>R?xe=1:xe=(j-he)/(j-R),ae=X-(X-K)*xe,ne=_-(_-v)*xe,ue=F-(F-y)*xe,pe=E-(E-B)*xe;let ce=Math.round(Math.min(z,ae)),Ne=Math.round(Math.max(z,ae)),qe=ee*he+ce*4;for(let Fe=ce;Fe<=Ne;Fe++)xe=(z-Fe)/(z-ae),xe<0?xe=0:xe>1&&(xe=1),N[qe++]=Y-(Y-ne)*xe|0,N[qe++]=G-(G-ue)*xe|0,N[qe++]=Z-(Z-pe)*xe|0,N[qe++]=255}}function x(I,C,M){let k=C.coords,h=C.colors,f,T;switch(C.type){case"lattice":let L=C.verticesPerRow,D=Math.floor(k.length/L)-1,H=L-1;for(f=0;f<D;f++){let N=f*L;for(let ee=0;ee<H;ee++,N++)p(I,M,k[N],k[N+1],k[N+L],h[N],h[N+1],h[N+L]),p(I,M,k[N+L+1],k[N+1],k[N+L],h[N+L+1],h[N+1],h[N+L])}break;case"triangles":for(f=0,T=k.length;f<T;f+=3)p(I,M,k[f],k[f+1],k[f+2],h[f],h[f+1],h[f+2]);break;default:throw new Error("illegal figure")}}class w extends u{constructor(C){super(),this._coords=C[2],this._colors=C[3],this._figures=C[4],this._bounds=C[5],this._bbox=C[7],this._background=C[8],this.matrix=null}_createMeshCanvas(C,M,k){let L=Math.floor(this._bounds[0]),D=Math.floor(this._bounds[1]),H=Math.ceil(this._bounds[2])-L,N=Math.ceil(this._bounds[3])-D,ee=Math.min(Math.ceil(Math.abs(H*C[0]*1.1)),3e3),te=Math.min(Math.ceil(Math.abs(N*C[1]*1.1)),3e3),X=H/ee,j=N/te,U={coords:this._coords,colors:this._colors,offsetX:-L,offsetY:-D,scaleX:1/X,scaleY:1/j},Q=ee+2*2,K=te+2*2,R=k.getCanvas("mesh",Q,K,!1),_=R.context,F=_.createImageData(ee,te);if(M){let P=F.data;for(let c=0,g=P.length;c<g;c+=4)P[c]=M[0],P[c+1]=M[1],P[c+2]=M[2],P[c+3]=255}for(let P of this._figures)x(F,P,U);return _.putImageData(F,2,2),{canvas:R.canvas,offsetX:L-2*X,offsetY:D-2*j,scaleX:X,scaleY:j}}getPattern(C,M,k,h){d(C,this._bbox);let f;if(h===l.SHADING)f=r.Util.singularValueDecompose2dScale((0,i.getCurrentTransform)(C));else if(f=r.Util.singularValueDecompose2dScale(M.baseTransform),this.matrix){let L=r.Util.singularValueDecompose2dScale(this.matrix);f=[f[0]*L[0],f[1]*L[1]]}let T=this._createMeshCanvas(f,h===l.SHADING?null:this._background,M.cachedCanvases);return h!==l.SHADING&&(C.setTransform(...M.baseTransform),this.matrix&&C.transform(...this.matrix)),C.translate(T.offsetX,T.offsetY),C.scale(T.scaleX,T.scaleY),C.createPattern(T.canvas,"no-repeat")}}class S extends u{getPattern(){return"hotpink"}}function m(I){switch(I[0]){case"RadialAxial":return new a(I);case"Mesh":return new w(I);case"Dummy":return new S}throw new Error(`Unknown IR type: ${I[0]}`)}let A={COLORED:1,UNCOLORED:2};class b{static get MAX_PATTERN_SIZE(){return(0,r.shadow)(this,"MAX_PATTERN_SIZE",3e3)}constructor(C,M,k,h,f){this.operatorList=C[2],this.matrix=C[3]||[1,0,0,1,0,0],this.bbox=C[4],this.xstep=C[5],this.ystep=C[6],this.paintType=C[7],this.tilingType=C[8],this.color=M,this.ctx=k,this.canvasGraphicsFactory=h,this.baseTransform=f}createPatternCanvas(C){let M=this.operatorList,k=this.bbox,h=this.xstep,f=this.ystep,T=this.paintType,L=this.tilingType,D=this.color,H=this.canvasGraphicsFactory;(0,r.info)("TilingType: "+L);let N=k[0],ee=k[1],te=k[2],X=k[3],j=r.Util.singularValueDecompose2dScale(this.matrix),U=r.Util.singularValueDecompose2dScale(this.baseTransform),Q=[j[0]*U[0],j[1]*U[1]],K=this.getSizeAndScale(h,this.ctx.canvas.width,Q[0]),R=this.getSizeAndScale(f,this.ctx.canvas.height,Q[1]),_=C.cachedCanvases.getCanvas("pattern",K.size,R.size,!0),F=_.context,E=H.createCanvasGraphics(F);E.groupLevel=C.groupLevel,this.setFillAndStrokeStyleToContext(E,T,D);let P=N,c=ee,g=te,v=X;return N<0&&(P=0,g+=Math.abs(N)),ee<0&&(c=0,v+=Math.abs(ee)),F.translate(-(K.scale*P),-(R.scale*c)),E.transform(K.scale,0,0,R.scale,0,0),F.save(),this.clipBbox(E,P,c,g,v),E.baseTransform=(0,i.getCurrentTransform)(E.ctx),E.executeOperatorList(M),E.endDrawing(),{canvas:_.canvas,scaleX:K.scale,scaleY:R.scale,offsetX:P,offsetY:c}}getSizeAndScale(C,M,k){C=Math.abs(C);let h=Math.max(b.MAX_PATTERN_SIZE,M),f=Math.ceil(C*k);return f>=h?f=h:k=f/C,{scale:k,size:f}}clipBbox(C,M,k,h,f){let T=h-M,L=f-k;C.ctx.rect(M,k,T,L),C.current.updateRectMinMax((0,i.getCurrentTransform)(C.ctx),[M,k,h,f]),C.clip(),C.endPath()}setFillAndStrokeStyleToContext(C,M,k){let h=C.ctx,f=C.current;switch(M){case A.COLORED:let T=this.ctx;h.fillStyle=T.fillStyle,h.strokeStyle=T.strokeStyle,f.fillColor=T.fillStyle,f.strokeColor=T.strokeStyle;break;case A.UNCOLORED:let L=r.Util.makeHexColor(k[0],k[1],k[2]);h.fillStyle=L,h.strokeStyle=L,f.fillColor=L,f.strokeColor=L;break;default:throw new r.FormatError(`Unsupported paint type: ${M}`)}}getPattern(C,M,k,h){let f=k;h!==l.SHADING&&(f=r.Util.transform(f,M.baseTransform),this.matrix&&(f=r.Util.transform(f,this.matrix)));let T=this.createPatternCanvas(M),L=new DOMMatrix(f);L=L.translate(T.offsetX,T.offsetY),L=L.scale(1/T.scaleX,1/T.scaleY);let D=C.createPattern(T.canvas,"repeat");try{D.setTransform(L)}catch(H){(0,r.warn)(`TilingPattern.getPattern: "${H?.message}".`)}return D}}e.TilingPattern=b},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.applyMaskImageData=i;var r=t(1);function i({src:s,srcPos:l=0,dest:d,destPos:u=0,width:a,height:p,inverseDecode:x=!1}){let w=r.FeatureTest.isLittleEndian?4278190080:255,[S,m]=x?[0,w]:[w,0],A=a>>3,b=a&7,I=s.length;d=new Uint32Array(d.buffer);for(let C=0;C<p;C++){for(let k=l+A;l<k;l++){let h=l<I?s[l]:255;d[u++]=h&128?m:S,d[u++]=h&64?m:S,d[u++]=h&32?m:S,d[u++]=h&16?m:S,d[u++]=h&8?m:S,d[u++]=h&4?m:S,d[u++]=h&2?m:S,d[u++]=h&1?m:S}if(b===0)continue;let M=l<I?s[l++]:255;for(let k=0;k<b;k++)d[u++]=M&1<<7-k?m:S}return{srcPos:l,destPos:u}}},(o,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.GlobalWorkerOptions=void 0;let t=Object.create(null);e.GlobalWorkerOptions=t,t.workerPort=t.workerPort===void 0?null:t.workerPort,t.workerSrc=t.workerSrc===void 0?"":t.workerSrc},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.MessageHandler=void 0;var r=t(1);let i={UNKNOWN:0,DATA:1,ERROR:2},s={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function l(u){switch(u instanceof Error||typeof u=="object"&&u!==null||(0,r.unreachable)('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),u.name){case"AbortException":return new r.AbortException(u.message);case"MissingPDFException":return new r.MissingPDFException(u.message);case"PasswordException":return new r.PasswordException(u.message,u.code);case"UnexpectedResponseException":return new r.UnexpectedResponseException(u.message,u.status);case"UnknownErrorException":return new r.UnknownErrorException(u.message,u.details);default:return new r.UnknownErrorException(u.message,u.toString())}}class d{constructor(a,p,x){this.sourceName=a,this.targetName=p,this.comObj=x,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=w=>{let S=w.data;if(S.targetName!==this.sourceName)return;if(S.stream){this._processStreamMessage(S);return}if(S.callback){let A=S.callbackId,b=this.callbackCapabilities[A];if(!b)throw new Error(`Cannot resolve callback ${A}`);if(delete this.callbackCapabilities[A],S.callback===i.DATA)b.resolve(S.data);else if(S.callback===i.ERROR)b.reject(l(S.reason));else throw new Error("Unexpected callback case");return}let m=this.actionHandler[S.action];if(!m)throw new Error(`Unknown action from worker: ${S.action}`);if(S.callbackId){let A=this.sourceName,b=S.sourceName;new Promise(function(I){I(m(S.data))}).then(function(I){x.postMessage({sourceName:A,targetName:b,callback:i.DATA,callbackId:S.callbackId,data:I})},function(I){x.postMessage({sourceName:A,targetName:b,callback:i.ERROR,callbackId:S.callbackId,reason:l(I)})});return}if(S.streamId){this._createStreamSink(S);return}m(S.data)},x.addEventListener("message",this._onComObjOnMessage)}on(a,p){let x=this.actionHandler;if(x[a])throw new Error(`There is already an actionName called "${a}"`);x[a]=p}send(a,p,x){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,data:p},x)}sendWithPromise(a,p,x){let w=this.callbackId++,S=(0,r.createPromiseCapability)();this.callbackCapabilities[w]=S;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:a,callbackId:w,data:p},x)}catch(m){S.reject(m)}return S.promise}sendWithStream(a,p,x,w){let S=this.streamId++,m=this.sourceName,A=this.targetName,b=this.comObj;return new ReadableStream({start:I=>{let C=(0,r.createPromiseCapability)();return this.streamControllers[S]={controller:I,startCall:C,pullCall:null,cancelCall:null,isClosed:!1},b.postMessage({sourceName:m,targetName:A,action:a,streamId:S,data:p,desiredSize:I.desiredSize},w),C.promise},pull:I=>{let C=(0,r.createPromiseCapability)();return this.streamControllers[S].pullCall=C,b.postMessage({sourceName:m,targetName:A,stream:s.PULL,streamId:S,desiredSize:I.desiredSize}),C.promise},cancel:I=>{(0,r.assert)(I instanceof Error,"cancel must have a valid reason");let C=(0,r.createPromiseCapability)();return this.streamControllers[S].cancelCall=C,this.streamControllers[S].isClosed=!0,b.postMessage({sourceName:m,targetName:A,stream:s.CANCEL,streamId:S,reason:l(I)}),C.promise}},x)}_createStreamSink(a){let p=a.streamId,x=this.sourceName,w=a.sourceName,S=this.comObj,m=this,A=this.actionHandler[a.action],b={enqueue(I,C=1,M){if(this.isCancelled)return;let k=this.desiredSize;this.desiredSize-=C,k>0&&this.desiredSize<=0&&(this.sinkCapability=(0,r.createPromiseCapability)(),this.ready=this.sinkCapability.promise),S.postMessage({sourceName:x,targetName:w,stream:s.ENQUEUE,streamId:p,chunk:I},M)},close(){this.isCancelled||(this.isCancelled=!0,S.postMessage({sourceName:x,targetName:w,stream:s.CLOSE,streamId:p}),delete m.streamSinks[p])},error(I){(0,r.assert)(I instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,S.postMessage({sourceName:x,targetName:w,stream:s.ERROR,streamId:p,reason:l(I)}))},sinkCapability:(0,r.createPromiseCapability)(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:a.desiredSize,ready:null};b.sinkCapability.resolve(),b.ready=b.sinkCapability.promise,this.streamSinks[p]=b,new Promise(function(I){I(A(a.data,b))}).then(function(){S.postMessage({sourceName:x,targetName:w,stream:s.START_COMPLETE,streamId:p,success:!0})},function(I){S.postMessage({sourceName:x,targetName:w,stream:s.START_COMPLETE,streamId:p,reason:l(I)})})}_processStreamMessage(a){let p=a.streamId,x=this.sourceName,w=a.sourceName,S=this.comObj,m=this.streamControllers[p],A=this.streamSinks[p];switch(a.stream){case s.START_COMPLETE:a.success?m.startCall.resolve():m.startCall.reject(l(a.reason));break;case s.PULL_COMPLETE:a.success?m.pullCall.resolve():m.pullCall.reject(l(a.reason));break;case s.PULL:if(!A){S.postMessage({sourceName:x,targetName:w,stream:s.PULL_COMPLETE,streamId:p,success:!0});break}A.desiredSize<=0&&a.desiredSize>0&&A.sinkCapability.resolve(),A.desiredSize=a.desiredSize,new Promise(function(b){b(A.onPull&&A.onPull())}).then(function(){S.postMessage({sourceName:x,targetName:w,stream:s.PULL_COMPLETE,streamId:p,success:!0})},function(b){S.postMessage({sourceName:x,targetName:w,stream:s.PULL_COMPLETE,streamId:p,reason:l(b)})});break;case s.ENQUEUE:if((0,r.assert)(m,"enqueue should have stream controller"),m.isClosed)break;m.controller.enqueue(a.chunk);break;case s.CLOSE:if((0,r.assert)(m,"close should have stream controller"),m.isClosed)break;m.isClosed=!0,m.controller.close(),this._deleteStreamController(m,p);break;case s.ERROR:(0,r.assert)(m,"error should have stream controller"),m.controller.error(l(a.reason)),this._deleteStreamController(m,p);break;case s.CANCEL_COMPLETE:a.success?m.cancelCall.resolve():m.cancelCall.reject(l(a.reason)),this._deleteStreamController(m,p);break;case s.CANCEL:if(!A)break;new Promise(function(b){b(A.onCancel&&A.onCancel(l(a.reason)))}).then(function(){S.postMessage({sourceName:x,targetName:w,stream:s.CANCEL_COMPLETE,streamId:p,success:!0})},function(b){S.postMessage({sourceName:x,targetName:w,stream:s.CANCEL_COMPLETE,streamId:p,reason:l(b)})}),A.sinkCapability.reject(l(a.reason)),A.isCancelled=!0,delete this.streamSinks[p];break;default:throw new Error("Unexpected stream case")}}async _deleteStreamController(a,p){await Promise.allSettled([a.startCall&&a.startCall.promise,a.pullCall&&a.pullCall.promise,a.cancelCall&&a.cancelCall.promise]),delete this.streamControllers[p]}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}e.MessageHandler=d},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.Metadata=void 0;var r=t(1);class i{#e;#t;constructor({parsedData:l,rawData:d}){this.#e=l,this.#t=d}getRaw(){return this.#t}get(l){return this.#e.get(l)??null}getAll(){return(0,r.objectFromMap)(this.#e)}has(l){return this.#e.has(l)}}e.Metadata=i},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.OptionalContentConfig=void 0;var r=t(1);let i=Symbol("INTERNAL");class s{#e=!0;constructor(u,a){this.name=u,this.intent=a}get visible(){return this.#e}_setVisible(u,a){u!==i&&(0,r.unreachable)("Internal method `_setVisible` called."),this.#e=a}}class l{#e=!0;#t=new Map;#r=null;#n=null;constructor(u){if(this.name=null,this.creator=null,u!==null){this.name=u.name,this.creator=u.creator,this.#n=u.order;for(let a of u.groups)this.#t.set(a.id,new s(a.name,a.intent));if(u.baseState==="OFF")for(let a of this.#t.values())a._setVisible(i,!1);for(let a of u.on)this.#t.get(a)._setVisible(i,!0);for(let a of u.off)this.#t.get(a)._setVisible(i,!1);this.#r=new Map;for(let[a,p]of this.#t)this.#r.set(a,p.visible)}}#i(u){let a=u.length;if(a<2)return!0;let p=u[0];for(let x=1;x<a;x++){let w=u[x],S;if(Array.isArray(w))S=this.#i(w);else if(this.#t.has(w))S=this.#t.get(w).visible;else return(0,r.warn)(`Optional content group not found: ${w}`),!0;switch(p){case"And":if(!S)return!1;break;case"Or":if(S)return!0;break;case"Not":return!S;default:return!0}}return p==="And"}isVisible(u){if(this.#t.size===0)return!0;if(!u)return(0,r.warn)("Optional content group not defined."),!0;if(u.type==="OCG")return this.#t.has(u.id)?this.#t.get(u.id).visible:((0,r.warn)(`Optional content group not found: ${u.id}`),!0);if(u.type==="OCMD"){if(u.expression)return this.#i(u.expression);if(!u.policy||u.policy==="AnyOn"){for(let a of u.ids){if(!this.#t.has(a))return(0,r.warn)(`Optional content group not found: ${a}`),!0;if(this.#t.get(a).visible)return!0}return!1}else if(u.policy==="AllOn"){for(let a of u.ids){if(!this.#t.has(a))return(0,r.warn)(`Optional content group not found: ${a}`),!0;if(!this.#t.get(a).visible)return!1}return!0}else if(u.policy==="AnyOff"){for(let a of u.ids){if(!this.#t.has(a))return(0,r.warn)(`Optional content group not found: ${a}`),!0;if(!this.#t.get(a).visible)return!0}return!1}else if(u.policy==="AllOff"){for(let a of u.ids){if(!this.#t.has(a))return(0,r.warn)(`Optional content group not found: ${a}`),!0;if(this.#t.get(a).visible)return!1}return!0}return(0,r.warn)(`Unknown optional content policy ${u.policy}.`),!0}return(0,r.warn)(`Unknown group type ${u.type}.`),!0}setVisibility(u,a=!0){if(!this.#t.has(u)){(0,r.warn)(`Optional content group not found: ${u}`);return}this.#t.get(u)._setVisible(i,!!a),this.#e=null}get hasInitialVisibility(){if(this.#e!==null)return this.#e;for(let[u,a]of this.#t){let p=this.#r.get(u);if(a.visible!==p)return this.#e=!1}return this.#e=!0}getOrder(){return this.#t.size?this.#n?this.#n.slice():[...this.#t.keys()]:null}getGroups(){return this.#t.size>0?(0,r.objectFromMap)(this.#t):null}getGroup(u){return this.#t.get(u)||null}}e.OptionalContentConfig=l},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFDataTransportStream=void 0;var r=t(1),i=t(8);class s{constructor(a,p){(0,r.assert)(p,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.'),this._queuedChunks=[],this._progressiveDone=a.progressiveDone||!1,this._contentDispositionFilename=a.contentDispositionFilename||null;let x=a.initialData;if(x?.length>0){let w=new Uint8Array(x).buffer;this._queuedChunks.push(w)}this._pdfDataRangeTransport=p,this._isStreamingSupported=!a.disableStream,this._isRangeSupported=!a.disableRange,this._contentLength=a.length,this._fullRequestReader=null,this._rangeReaders=[],this._pdfDataRangeTransport.addRangeListener((w,S)=>{this._onReceiveData({begin:w,chunk:S})}),this._pdfDataRangeTransport.addProgressListener((w,S)=>{this._onProgress({loaded:w,total:S})}),this._pdfDataRangeTransport.addProgressiveReadListener(w=>{this._onReceiveData({chunk:w})}),this._pdfDataRangeTransport.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),this._pdfDataRangeTransport.transportReady()}_onReceiveData(a){let p=new Uint8Array(a.chunk).buffer;if(a.begin===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(p):this._queuedChunks.push(p);else{let x=this._rangeReaders.some(function(w){return w._begin!==a.begin?!1:(w._enqueue(p),!0)});(0,r.assert)(x,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}_onProgress(a){if(a.total===void 0){let p=this._rangeReaders[0];p?.onProgress&&p.onProgress({loaded:a.loaded})}else{let p=this._fullRequestReader;p?.onProgress&&p.onProgress({loaded:a.loaded,total:a.total})}}_onProgressiveDone(){this._fullRequestReader&&this._fullRequestReader.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(a){let p=this._rangeReaders.indexOf(a);p>=0&&this._rangeReaders.splice(p,1)}getFullReader(){(0,r.assert)(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");let a=this._queuedChunks;return this._queuedChunks=null,new l(this,a,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(a,p){if(p<=this._progressiveDataLength)return null;let x=new d(this,a,p);return this._pdfDataRangeTransport.requestDataRange(a,p),this._rangeReaders.push(x),x}cancelAllRequests(a){this._fullRequestReader&&this._fullRequestReader.cancel(a);for(let p of this._rangeReaders.slice(0))p.cancel(a);this._pdfDataRangeTransport.abort()}}e.PDFDataTransportStream=s;class l{constructor(a,p,x=!1,w=null){this._stream=a,this._done=x||!1,this._filename=(0,i.isPdfFile)(w)?w:null,this._queuedChunks=p||[],this._loaded=0;for(let S of this._queuedChunks)this._loaded+=S.byteLength;this._requests=[],this._headersReady=Promise.resolve(),a._fullRequestReader=this,this.onProgress=null}_enqueue(a){this._done||(this._requests.length>0?this._requests.shift().resolve({value:a,done:!1}):this._queuedChunks.push(a),this._loaded+=a.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let a=(0,r.createPromiseCapability)();return this._requests.push(a),a.promise}cancel(a){this._done=!0;for(let p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class d{constructor(a,p,x){this._stream=a,this._begin=p,this._end=x,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(a){if(!this._done){if(this._requests.length===0)this._queuedChunk=a;else{this._requests.shift().resolve({value:a,done:!1});for(let x of this._requests)x.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){let p=this._queuedChunk;return this._queuedChunk=null,{value:p,done:!1}}if(this._done)return{value:void 0,done:!0};let a=(0,r.createPromiseCapability)();return this._requests.push(a),a.promise}cancel(a){this._done=!0;for(let p of this._requests)p.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}},(o,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaText=void 0;class t{static textContent(i){let s=[],l={items:s,styles:Object.create(null)};function d(u){if(!u)return;let a=null,p=u.name;if(p==="#text")a=u.value;else if(t.shouldBuildText(p))u?.attributes?.textContent?a=u.attributes.textContent:u.value&&(a=u.value);else return;if(a!==null&&s.push({str:a}),!!u.children)for(let x of u.children)d(x)}return d(i),l}static shouldBuildText(i){return!(i==="textarea"||i==="input"||i==="option"||i==="select")}}e.XfaText=t},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.NodeStandardFontDataFactory=e.NodeCanvasFactory=e.NodeCMapReaderFactory=void 0;var r=t(9);let i=function(u){return new Promise((a,p)=>{ma().readFile(u,(w,S)=>{if(w||!S){p(new Error(w));return}a(new Uint8Array(S))})})};class s extends r.BaseCanvasFactory{_createCanvas(a,p){return Jc().createCanvas(a,p)}}e.NodeCanvasFactory=s;class l extends r.BaseCMapReaderFactory{_fetchData(a,p){return i(a).then(x=>({cMapData:x,compressionType:p}))}}e.NodeCMapReaderFactory=l;class d extends r.BaseStandardFontDataFactory{_fetchData(a){return i(a)}}e.NodeStandardFontDataFactory=d},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationEditorLayer=void 0;var r=t(7),i=t(1),s=t(23),l=t(24);class d{#e;#t=!1;#r=this.pointerup.bind(this);#n=this.pointerdown.bind(this);#i=new Map;#u=!1;#a=!1;#o;static _initialized=!1;constructor(a){d._initialized||(d._initialized=!0,s.FreeTextEditor.initialize(a.l10n),l.InkEditor.initialize(a.l10n),a.uiManager.registerEditorTypes([s.FreeTextEditor,l.InkEditor])),this.#o=a.uiManager,this.annotationStorage=a.annotationStorage,this.pageIndex=a.pageIndex,this.div=a.div,this.#e=a.accessibilityManager,this.#o.addLayer(this)}updateToolbar(a){this.#o.updateToolbar(a)}updateMode(a=this.#o.getMode()){this.#s(),a===i.AnnotationEditorType.INK?(this.addInkEditorIfNeeded(!1),this.disableClick()):this.enableClick(),this.#o.unselectAll()}addInkEditorIfNeeded(a){if(!a&&this.#o.getMode()!==i.AnnotationEditorType.INK)return;if(!a){for(let x of this.#i.values())if(x.isEmpty()){x.setInBackground();return}}this.#c({offsetX:0,offsetY:0}).setInBackground()}setEditingState(a){this.#o.setEditingState(a)}addCommands(a){this.#o.addCommands(a)}enable(){this.div.style.pointerEvents="auto";for(let a of this.#i.values())a.enableEditing()}disable(){this.div.style.pointerEvents="none";for(let a of this.#i.values())a.disableEditing()}setActiveEditor(a){this.#o.getActive()!==a&&this.#o.setActiveEditor(a)}enableClick(){this.div.addEventListener("pointerdown",this.#n),this.div.addEventListener("pointerup",this.#r)}disableClick(){this.div.removeEventListener("pointerdown",this.#n),this.div.removeEventListener("pointerup",this.#r)}attach(a){this.#i.set(a.id,a)}detach(a){this.#i.delete(a.id),this.#e?.removePointerInTextLayer(a.contentDiv)}remove(a){this.#o.removeEditor(a),this.detach(a),this.annotationStorage.remove(a.id),a.div.style.display="none",setTimeout(()=>{a.div.style.display="",a.div.remove(),a.isAttachedToDOM=!1,document.activeElement===document.body&&this.#o.focusMainContainer()},0),this.#a||this.addInkEditorIfNeeded(!1)}#d(a){a.parent!==this&&(this.attach(a),a.pageIndex=this.pageIndex,a.parent?.detach(a),a.parent=this,a.div&&a.isAttachedToDOM&&(a.div.remove(),this.div.append(a.div)))}add(a){if(this.#d(a),this.#o.addEditor(a),this.attach(a),!a.isAttachedToDOM){let p=a.render();this.div.append(p),a.isAttachedToDOM=!0}this.moveEditorInDOM(a),a.onceAdded(),this.addToAnnotationStorage(a)}moveEditorInDOM(a){this.#e?.moveElementInDOM(this.div,a.div,a.contentDiv,!0)}addToAnnotationStorage(a){!a.isEmpty()&&!this.annotationStorage.has(a.id)&&this.annotationStorage.setValue(a.id,a)}addOrRebuild(a){a.needsToBeRebuilt()?a.rebuild():this.add(a)}addANewEditor(a){let p=()=>{this.addOrRebuild(a)},x=()=>{a.remove()};this.addCommands({cmd:p,undo:x,mustExec:!0})}addUndoableEditor(a){let p=()=>{this.addOrRebuild(a)},x=()=>{a.remove()};this.addCommands({cmd:p,undo:x,mustExec:!1})}getNextId(){return this.#o.getId()}#l(a){switch(this.#o.getMode()){case i.AnnotationEditorType.FREETEXT:return new s.FreeTextEditor(a);case i.AnnotationEditorType.INK:return new l.InkEditor(a)}return null}deserialize(a){switch(a.annotationType){case i.AnnotationEditorType.FREETEXT:return s.FreeTextEditor.deserialize(a,this);case i.AnnotationEditorType.INK:return l.InkEditor.deserialize(a,this)}return null}#c(a){let p=this.getNextId(),x=this.#l({parent:this,id:p,x:a.offsetX,y:a.offsetY});return x&&this.add(x),x}setSelected(a){this.#o.setSelected(a)}toggleSelected(a){this.#o.toggleSelected(a)}isSelected(a){return this.#o.isSelected(a)}unselect(a){this.#o.unselect(a)}pointerup(a){let p=r.KeyboardManager.platform.isMac;if(!(a.button!==0||a.ctrlKey&&p)&&a.target===this.div&&this.#u){if(this.#u=!1,!this.#t){this.#t=!0;return}this.#c(a)}}pointerdown(a){let p=r.KeyboardManager.platform.isMac;if(a.button!==0||a.ctrlKey&&p||a.target!==this.div)return;this.#u=!0;let x=this.#o.getActive();this.#t=!x||x.isEmpty()}drop(a){let p=a.dataTransfer.getData("text/plain"),x=this.#o.getEditor(p);if(!x)return;a.preventDefault(),a.dataTransfer.dropEffect="move",this.#d(x);let w=this.div.getBoundingClientRect(),S=a.clientX-w.x,m=a.clientY-w.y;x.translate(S-x.startX,m-x.startY),this.moveEditorInDOM(x),x.div.focus()}dragover(a){a.preventDefault()}destroy(){this.#o.getActive()?.parent===this&&this.#o.setActiveEditor(null);for(let a of this.#i.values())this.#e?.removePointerInTextLayer(a.contentDiv),a.isAttachedToDOM=!1,a.div.remove(),a.parent=null;this.div=null,this.#i.clear(),this.#o.removeLayer(this)}#s(){this.#a=!0;for(let a of this.#i.values())a.isEmpty()&&a.remove();this.#a=!1}render(a){this.viewport=a.viewport,(0,r.bindEvents)(this,this.div,["dragover","drop"]),this.setDimensions();for(let p of this.#o.getEditors(this.pageIndex))this.add(p);this.updateMode()}update(a){this.viewport=a.viewport,this.setDimensions(),this.updateMode()}get scaleFactor(){return this.viewport.scale}get pageDimensions(){let[a,p,x,w]=this.viewport.viewBox,S=x-a,m=w-p;return[S,m]}get viewportBaseDimensions(){let{width:a,height:p,rotation:x}=this.viewport;return x%180===0?[a,p]:[p,a]}setDimensions(){let{width:a,height:p,rotation:x}=this.viewport,w=x%180!==0,S=Math.floor(a)+"px",m=Math.floor(p)+"px";this.div.style.width=w?m:S,this.div.style.height=w?S:m,this.div.setAttribute("data-main-rotation",x)}}e.AnnotationEditorLayer=d},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.FreeTextEditor=void 0;var r=t(1),i=t(7),s=t(6);class l extends s.AnnotationEditor{#e=this.editorDivBlur.bind(this);#t=this.editorDivFocus.bind(this);#r=this.editorDivKeydown.bind(this);#n;#i="";#u=!1;#a;static _freeTextDefaultContent="";static _l10nPromise;static _internalPadding=0;static _defaultColor=null;static _defaultFontSize=10;static _keyboardManager=new i.KeyboardManager([[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],l.prototype.commitOrRemove]]);static _type="freetext";constructor(u){super({...u,name:"freeTextEditor"}),this.#n=u.color||l._defaultColor||s.AnnotationEditor._defaultLineColor,this.#a=u.fontSize||l._defaultFontSize}static initialize(u){this._l10nPromise=new Map(["free_text_default_content","editor_free_text_aria_label"].map(p=>[p,u.get(p)]));let a=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(a.getPropertyValue("--freetext-padding"))}static updateDefaultParams(u,a){switch(u){case r.AnnotationEditorParamsType.FREETEXT_SIZE:l._defaultFontSize=a;break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:l._defaultColor=a;break}}updateParams(u,a){switch(u){case r.AnnotationEditorParamsType.FREETEXT_SIZE:this.#o(a);break;case r.AnnotationEditorParamsType.FREETEXT_COLOR:this.#d(a);break}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,l._defaultFontSize],[r.AnnotationEditorParamsType.FREETEXT_COLOR,l._defaultColor||s.AnnotationEditor._defaultLineColor]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.FREETEXT_SIZE,this.#a],[r.AnnotationEditorParamsType.FREETEXT_COLOR,this.#n]]}#o(u){let a=x=>{this.editorDiv.style.fontSize=`calc(${x}px * var(--scale-factor))`,this.translate(0,-(x-this.#a)*this.parent.scaleFactor),this.#a=x,this.#c()},p=this.#a;this.parent.addCommands({cmd:()=>{a(u)},undo:()=>{a(p)},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}#d(u){let a=this.#n;this.parent.addCommands({cmd:()=>{this.#n=u,this.editorDiv.style.color=u},undo:()=>{this.#n=a,this.editorDiv.style.color=a},mustExec:!0,type:r.AnnotationEditorParamsType.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}getInitialTranslation(){return[-l._internalPadding*this.parent.scaleFactor,-(l._internalPadding+this.#a)*this.parent.scaleFactor]}rebuild(){super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this))}enableEditMode(){this.isInEditMode()||(this.parent.setEditingState(!1),this.parent.updateToolbar(r.AnnotationEditorType.FREETEXT),super.enableEditMode(),this.enableEditing(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this.div.draggable=!1,this.editorDiv.addEventListener("keydown",this.#r),this.editorDiv.addEventListener("focus",this.#t),this.editorDiv.addEventListener("blur",this.#e))}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.disableEditing(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.draggable=!0,this.editorDiv.removeEventListener("keydown",this.#r),this.editorDiv.removeEventListener("focus",this.#t),this.editorDiv.removeEventListener("blur",this.#e),this.div.focus(),this.isEditing=!1)}focusin(u){super.focusin(u),u.target!==this.editorDiv&&this.editorDiv.focus()}onceAdded(){this.width||(this.enableEditMode(),this.editorDiv.focus())}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent.setEditingState(!0),super.remove()}#l(){let u=this.editorDiv.getElementsByTagName("div");if(u.length===0)return this.editorDiv.innerText;let a=[];for(let p=0,x=u.length;p<x;p++){let S=u[p].firstChild;S?.nodeName==="#text"?a.push(S.data):a.push("")}return a.join(`
`)}#c(){let[u,a]=this.parent.viewportBaseDimensions,p=this.div.getBoundingClientRect();this.width=p.width/u,this.height=p.height/a}commit(){super.commit(),this.#u||(this.#u=!0,this.parent.addUndoableEditor(this)),this.disableEditMode(),this.#i=this.#l().trimEnd(),this.#c()}shouldGetKeyboardEvents(){return this.isInEditMode()}dblclick(u){this.enableEditMode(),this.editorDiv.focus()}keydown(u){u.target===this.div&&u.key==="Enter"&&(this.enableEditMode(),this.editorDiv.focus())}editorDivKeydown(u){l._keyboardManager.exec(this,u)}editorDivFocus(u){this.isEditing=!0}editorDivBlur(u){this.isEditing=!1}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let u,a;this.width&&(u=this.x,a=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",`${this.id}-editor`),this.enableEditing(),l._l10nPromise.get("editor_free_text_aria_label").then(x=>this.editorDiv?.setAttribute("aria-label",x)),l._l10nPromise.get("free_text_default_content").then(x=>this.editorDiv?.setAttribute("default-content",x)),this.editorDiv.contentEditable=!0;let{style:p}=this.editorDiv;if(p.fontSize=`calc(${this.#a}px * var(--scale-factor))`,p.color=this.#n,this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),(0,i.bindEvents)(this,this.div,["dblclick","keydown"]),this.width){let[x,w]=this.parent.viewportBaseDimensions;this.setAt(u*x,a*w,this.width*x,this.height*w);for(let S of this.#i.split(`
`)){let m=document.createElement("div");m.append(S?document.createTextNode(S):document.createElement("br")),this.editorDiv.append(m)}this.div.draggable=!0,this.editorDiv.contentEditable=!1}else this.div.draggable=!1,this.editorDiv.contentEditable=!0;return this.div}get contentDiv(){return this.editorDiv}static deserialize(u,a){let p=super.deserialize(u,a);return p.#a=u.fontSize,p.#n=r.Util.makeHexColor(...u.color),p.#i=u.value,p}serialize(){if(this.isEmpty())return null;let u=l._internalPadding*this.parent.scaleFactor,a=this.getRect(u,u),p=s.AnnotationEditor._colorManager.convert(getComputedStyle(this.editorDiv).color);return{annotationType:r.AnnotationEditorType.FREETEXT,color:p,fontSize:this.#a,value:this.#i,pageIndex:this.parent.pageIndex,rect:a,rotation:this.rotation}}}e.FreeTextEditor=l},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.InkEditor=void 0,Object.defineProperty(e,"fitCurve",{enumerable:!0,get:function(){return s.fitCurve}});var r=t(1),i=t(6),s=t(25),l=t(7);let d=16;class u extends i.AnnotationEditor{#e=0;#t=0;#r=0;#n=this.canvasPointermove.bind(this);#i=this.canvasPointerleave.bind(this);#u=this.canvasPointerup.bind(this);#a=this.canvasPointerdown.bind(this);#o=!1;#d=!1;#l=null;#c=null;#s=0;#f=0;#m=null;static _defaultColor=null;static _defaultOpacity=1;static _defaultThickness=1;static _l10nPromise;static _type="ink";constructor(p){super({...p,name:"inkEditor"}),this.color=p.color||null,this.thickness=p.thickness||null,this.opacity=p.opacity||null,this.paths=[],this.bezierPath2D=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0}static initialize(p){this._l10nPromise=new Map(["editor_ink_canvas_aria_label","editor_ink_aria_label"].map(x=>[x,p.get(x)]))}static updateDefaultParams(p,x){switch(p){case r.AnnotationEditorParamsType.INK_THICKNESS:u._defaultThickness=x;break;case r.AnnotationEditorParamsType.INK_COLOR:u._defaultColor=x;break;case r.AnnotationEditorParamsType.INK_OPACITY:u._defaultOpacity=x/100;break}}updateParams(p,x){switch(p){case r.AnnotationEditorParamsType.INK_THICKNESS:this.#v(x);break;case r.AnnotationEditorParamsType.INK_COLOR:this.#T(x);break;case r.AnnotationEditorParamsType.INK_OPACITY:this.#F(x);break}}static get defaultPropertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,u._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,u._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(u._defaultOpacity*100)]]}get propertiesToUpdate(){return[[r.AnnotationEditorParamsType.INK_THICKNESS,this.thickness||u._defaultThickness],[r.AnnotationEditorParamsType.INK_COLOR,this.color||u._defaultColor||i.AnnotationEditor._defaultLineColor],[r.AnnotationEditorParamsType.INK_OPACITY,Math.round(100*(this.opacity??u._defaultOpacity))]]}#v(p){let x=this.thickness;this.parent.addCommands({cmd:()=>{this.thickness=p,this.#k()},undo:()=>{this.thickness=x,this.#k()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}#T(p){let x=this.color;this.parent.addCommands({cmd:()=>{this.color=p,this.#h()},undo:()=>{this.color=x,this.#h()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}#F(p){p/=100;let x=this.opacity;this.parent.addCommands({cmd:()=>{this.opacity=p,this.#h()},undo:()=>{this.opacity=x,this.#h()},mustExec:!0,type:r.AnnotationEditorParamsType.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}rebuild(){super.rebuild(),this.div!==null&&(this.canvas||(this.#g(),this.#x()),this.isAttachedToDOM||(this.parent.add(this),this.#S()),this.#k())}remove(){this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,this.#c.disconnect(),this.#c=null,super.remove())}enableEditMode(){this.#o||this.canvas===null||(super.enableEditMode(),this.div.draggable=!1,this.canvas.addEventListener("pointerdown",this.#a),this.canvas.addEventListener("pointerup",this.#u))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this.div.draggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",this.#a),this.canvas.removeEventListener("pointerup",this.#u))}onceAdded(){this.div.draggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}#b(){let{width:p,height:x,rotation:w}=this.parent.viewport;switch(w){case 90:return[0,p,p,x];case 180:return[p,x,p,x];case 270:return[x,0,p,x];default:return[0,0,p,x]}}#_(){this.ctx.lineWidth=this.thickness*this.parent.scaleFactor/this.scaleFactor,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.miterLimit=10,this.ctx.strokeStyle=`${this.color}${(0,l.opacityToHex)(this.opacity)}`}#p(p,x){this.isEditing=!0,this.#d||(this.#d=!0,this.#S(),this.thickness||=u._defaultThickness,this.color||=u._defaultColor||i.AnnotationEditor._defaultLineColor,this.opacity??=u._defaultOpacity),this.currentPath.push([p,x]),this.#l=null,this.#_(),this.ctx.beginPath(),this.ctx.moveTo(p,x),this.#m=()=>{this.#m&&(this.#l&&(this.isEmpty()?(this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.canvas.width,this.canvas.height)):this.#h(),this.ctx.lineTo(...this.#l),this.#l=null,this.ctx.stroke()),window.requestAnimationFrame(this.#m))},window.requestAnimationFrame(this.#m)}#w(p,x){let[w,S]=this.currentPath.at(-1);p===w&&x===S||(this.currentPath.push([p,x]),this.#l=[p,x])}#y(p,x){this.ctx.closePath(),this.#m=null,p=Math.min(Math.max(p,0),this.canvas.width),x=Math.min(Math.max(x,0),this.canvas.height);let[w,S]=this.currentPath.at(-1);(p!==w||x!==S)&&this.currentPath.push([p,x]);let m;if(this.currentPath.length!==1)m=(0,s.fitCurve)(this.currentPath,30,null);else{let C=[p,x];m=[[C,C.slice(),C.slice(),C]]}let A=u.#C(m);this.currentPath.length=0;let b=()=>{this.paths.push(m),this.bezierPath2D.push(A),this.rebuild()},I=()=>{this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(this.#g(),this.#x()),this.#k())};this.parent.addCommands({cmd:b,undo:I,mustExec:!0})}#h(){if(this.isEmpty()){this.#E();return}this.#_();let{canvas:p,ctx:x}=this;x.setTransform(1,0,0,1,0,0),x.clearRect(0,0,p.width,p.height),this.#E();for(let w of this.bezierPath2D)x.stroke(w)}commit(){this.#o||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),this.#o=!0,this.div.classList.add("disabled"),this.#k(!0),this.parent.addInkEditorIfNeeded(!0),this.parent.moveEditorInDOM(this),this.div.focus())}focusin(p){super.focusin(p),this.enableEditMode()}canvasPointerdown(p){p.button!==0||!this.isInEditMode()||this.#o||(this.setInForeground(),p.type!=="mouse"&&this.div.focus(),p.stopPropagation(),this.canvas.addEventListener("pointerleave",this.#i),this.canvas.addEventListener("pointermove",this.#n),this.#p(p.offsetX,p.offsetY))}canvasPointermove(p){p.stopPropagation(),this.#w(p.offsetX,p.offsetY)}canvasPointerup(p){p.button===0&&this.isInEditMode()&&this.currentPath.length!==0&&(p.stopPropagation(),this.#A(p),this.setInBackground())}canvasPointerleave(p){this.#A(p),this.setInBackground()}#A(p){this.#y(p.offsetX,p.offsetY),this.canvas.removeEventListener("pointerleave",this.#i),this.canvas.removeEventListener("pointermove",this.#n),this.parent.addToAnnotationStorage(this)}#g(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",u._l10nPromise.get("editor_ink_canvas_aria_label").then(p=>this.canvas?.setAttribute("aria-label",p)),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}#x(){this.#c=new ResizeObserver(p=>{let x=p[0].contentRect;x.width&&x.height&&this.setDimensions(x.width,x.height)}),this.#c.observe(this.div)}render(){if(this.div)return this.div;let p,x;this.width&&(p=this.x,x=this.y),super.render(),u._l10nPromise.get("editor_ink_aria_label").then(b=>this.div?.setAttribute("aria-label",b));let[w,S,m,A]=this.#b();if(this.setAt(w,S,0,0),this.setDims(m,A),this.#g(),this.width){let[b,I]=this.parent.viewportBaseDimensions;this.setAt(p*b,x*I,this.width*b,this.height*I),this.#d=!0,this.#S(),this.setDims(this.width*b,this.height*I),this.#h(),this.#B(),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return this.#x(),this.div}#S(){if(!this.#d)return;let[p,x]=this.parent.viewportBaseDimensions;this.canvas.width=Math.ceil(this.width*p),this.canvas.height=Math.ceil(this.height*x),this.#E()}setDimensions(p,x){let w=Math.round(p),S=Math.round(x);if(this.#s===w&&this.#f===S)return;this.#s=w,this.#f=S,this.canvas.style.visibility="hidden",this.#e&&Math.abs(this.#e-p/x)>.01&&(x=Math.ceil(p/this.#e),this.setDims(p,x));let[m,A]=this.parent.viewportBaseDimensions;this.width=p/m,this.height=x/A,this.#o&&this.#M(p,x),this.#S(),this.#h(),this.canvas.style.visibility="visible"}#M(p,x){let w=this.#D(),S=(p-w)/this.#r,m=(x-w)/this.#t;this.scaleFactor=Math.min(S,m)}#E(){let p=this.#D()/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+p,this.translationY*this.scaleFactor+p)}static#C(p){let x=new Path2D;for(let w=0,S=p.length;w<S;w++){let[m,A,b,I]=p[w];w===0&&x.moveTo(...m),x.bezierCurveTo(A[0],A[1],b[0],b[1],I[0],I[1])}return x}#P(p,x,w,S){let A=[],b=this.thickness/2,I,C;for(let M of this.paths){I=[],C=[];for(let k=0,h=M.length;k<h;k++){let[f,T,L,D]=M[k],H=p*(f[0]+x)+b,N=S-p*(f[1]+w)-b,ee=p*(T[0]+x)+b,te=S-p*(T[1]+w)-b,X=p*(L[0]+x)+b,j=S-p*(L[1]+w)-b,U=p*(D[0]+x)+b,Q=S-p*(D[1]+w)-b;k===0&&(I.push(H,N),C.push(H,N)),I.push(ee,te,X,j,U,Q),this.#R(H,N,ee,te,X,j,U,Q,4,C)}A.push({bezier:I,points:C})}return A}#R(p,x,w,S,m,A,b,I,C,M){if(this.#V(p,x,w,S,m,A,b,I)){M.push(b,I);return}for(let k=1;k<C-1;k++){let h=k/C,f=1-h,T=h*p+f*w,L=h*x+f*S,D=h*w+f*m,H=h*S+f*A,N=h*m+f*b,ee=h*A+f*I;T=h*T+f*D,L=h*L+f*H,D=h*D+f*N,H=h*H+f*ee,T=h*T+f*D,L=h*L+f*H,M.push(T,L)}M.push(b,I)}#V(p,x,w,S,m,A,b,I){let M=(3*w-2*p-b)**2,k=(3*S-2*x-I)**2,h=(3*m-p-2*b)**2,f=(3*A-x-2*I)**2;return Math.max(M,h)+Math.max(k,f)<=10}#L(){let p=1/0,x=-1/0,w=1/0,S=-1/0;for(let m of this.paths)for(let[A,b,I,C]of m){let M=r.Util.bezierBoundingBox(...A,...b,...I,...C);p=Math.min(p,M[0]),w=Math.min(w,M[1]),x=Math.max(x,M[2]),S=Math.max(S,M[3])}return[p,w,x,S]}#D(){return this.#o?Math.ceil(this.thickness*this.parent.scaleFactor):0}#k(p=!1){if(this.isEmpty())return;if(!this.#o){this.#h();return}let x=this.#L(),w=this.#D();this.#r=Math.max(d,x[2]-x[0]),this.#t=Math.max(d,x[3]-x[1]);let S=Math.ceil(w+this.#r*this.scaleFactor),m=Math.ceil(w+this.#t*this.scaleFactor),[A,b]=this.parent.viewportBaseDimensions;this.width=S/A,this.height=m/b,this.#e=S/m,this.#B();let I=this.translationX,C=this.translationY;this.translationX=-x[0],this.translationY=-x[1],this.#S(),this.#h(),this.#s=S,this.#f=m,this.setDims(S,m);let M=p?w/this.scaleFactor/2:0;this.translate(I-this.translationX-M,C-this.translationY-M)}#B(){let{style:p}=this.div;this.#e>=1?(p.minHeight=`${d}px`,p.minWidth=`${Math.round(this.#e*d)}px`):(p.minWidth=`${d}px`,p.minHeight=`${Math.round(d/this.#e)}px`)}static deserialize(p,x){let w=super.deserialize(p,x);w.thickness=p.thickness,w.color=r.Util.makeHexColor(...p.color),w.opacity=p.opacity;let[S,m]=x.pageDimensions,A=w.width*S,b=w.height*m,I=x.scaleFactor,C=p.thickness/2;w.#e=A/b,w.#o=!0,w.#s=Math.round(A),w.#f=Math.round(b);for(let{bezier:k}of p.paths){let h=[];w.paths.push(h);let f=I*(k[0]-C),T=I*(b-k[1]-C);for(let D=2,H=k.length;D<H;D+=6){let N=I*(k[D]-C),ee=I*(b-k[D+1]-C),te=I*(k[D+2]-C),X=I*(b-k[D+3]-C),j=I*(k[D+4]-C),U=I*(b-k[D+5]-C);h.push([[f,T],[N,ee],[te,X],[j,U]]),f=j,T=U}let L=this.#C(h);w.bezierPath2D.push(L)}let M=w.#L();return w.#r=Math.max(d,M[2]-M[0]),w.#t=Math.max(d,M[3]-M[1]),w.#M(A,b),w}serialize(){if(this.isEmpty())return null;let p=this.getRect(0,0),x=this.rotation%180===0?p[3]-p[1]:p[2]-p[0],w=i.AnnotationEditor._colorManager.convert(this.ctx.strokeStyle);return{annotationType:r.AnnotationEditorType.INK,color:w,thickness:this.thickness,opacity:this.opacity,paths:this.#P(this.scaleFactor/this.parent.scaleFactor,this.translationX,this.translationY,x),pageIndex:this.parent.pageIndex,rect:p,rotation:this.rotation}}}e.InkEditor=u},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.fitCurve=void 0;let r=t(26);e.fitCurve=r},o=>{function e(m,A,b){if(!Array.isArray(m))throw new TypeError("First argument should be an array");if(m.forEach(k=>{if(!Array.isArray(k)||k.some(h=>typeof h!="number")||k.length!==m[0].length)throw Error("Each point should be an array of numbers. Each point should have the same amount of numbers.")}),m=m.filter((k,h)=>h===0||!k.every((f,T)=>f===m[h-1][T])),m.length<2)return[];let I=m.length,C=x(m[1],m[0]),M=x(m[I-2],m[I-1]);return t(m,C,M,A,b)}function t(m,A,b,I,C){var k,h,f,T,L,D,H,N,ee,te,X,j,U;if(m.length===2)return j=w.vectorLen(w.subtract(m[0],m[1]))/3,k=[m[0],w.addArrays(m[0],w.mulItems(A,j)),w.addArrays(m[1],w.mulItems(b,j)),m[1]],[k];if(h=d(m),[k,T,D]=r(m,h,h,A,b,C),T===0||T<I)return[k];if(T<I*I)for(f=h,L=T,H=D,U=0;U<20;U++){if(f=s(k,m,f),[k,T,D]=r(m,h,f,A,b,C),T<I)return[k];if(D===H){let Q=T/L;if(Q>.9999&&Q<1.0001)break}L=T,H=D}return X=[],N=w.subtract(m[D-1],m[D+1]),N.every(Q=>Q===0)&&(N=w.subtract(m[D-1],m[D]),[N[0],N[1]]=[-N[1],N[0]]),ee=w.normalize(N),te=w.mulItems(ee,-1),X=X.concat(t(m.slice(0,D+1),A,ee,I,C)),X=X.concat(t(m.slice(D),te,b,I,C)),X}function r(m,A,b,I,C,M){var k,h,f;return k=i(m,b,I,C,M),[h,f]=u(m,k,A),M&&M({bez:k,points:m,params:A,maxErr:h,maxPoint:f}),[k,h,f]}function i(m,A,b,I){var C,M,k,h,f,T,L,D,H,N,ee,te,X,j,U,Q,K,R=m[0],_=m[m.length-1];for(C=[R,null,null,_],M=w.zeros_Xx2x2(A.length),X=0,j=A.length;X<j;X++)Q=A[X],K=1-Q,k=M[X],k[0]=w.mulItems(b,3*Q*(K*K)),k[1]=w.mulItems(I,3*K*(Q*Q));for(h=[[0,0],[0,0]],f=[0,0],X=0,j=m.length;X<j;X++)Q=A[X],k=M[X],h[0][0]+=w.dot(k[0],k[0]),h[0][1]+=w.dot(k[0],k[1]),h[1][0]+=w.dot(k[0],k[1]),h[1][1]+=w.dot(k[1],k[1]),U=w.subtract(m[X],S.q([R,R,_,_],Q)),f[0]+=w.dot(k[0],U),f[1]+=w.dot(k[1],U);return T=h[0][0]*h[1][1]-h[1][0]*h[0][1],L=h[0][0]*f[1]-h[1][0]*f[0],D=f[0]*h[1][1]-f[1]*h[0][1],H=T===0?0:D/T,N=T===0?0:L/T,te=w.vectorLen(w.subtract(R,_)),ee=1e-6*te,H<ee||N<ee?(C[1]=w.addArrays(R,w.mulItems(b,te/3)),C[2]=w.addArrays(_,w.mulItems(I,te/3))):(C[1]=w.addArrays(R,w.mulItems(b,H)),C[2]=w.addArrays(_,w.mulItems(I,N))),C}function s(m,A,b){return b.map((I,C)=>l(m,A[C],I))}function l(m,A,b){var I=w.subtract(S.q(m,b),A),C=S.qprime(m,b),M=w.mulMatrix(I,C),k=w.sum(w.squareItems(C))+2*w.mulMatrix(I,S.qprimeprime(m,b));return k===0?b:b-M/k}function d(m){var A=[],b,I,C;return m.forEach((M,k)=>{b=k?I+w.vectorLen(w.subtract(M,C)):0,A.push(b),I=b,C=M}),A=A.map(M=>M/I),A}function u(m,A,b){var I,C,M,k,h,f,T,L;C=0,M=Math.floor(m.length/2);let D=a(A,10);for(h=0,f=m.length;h<f;h++)T=m[h],L=p(A,b[h],D,10),k=w.subtract(S.q(A,L),T),I=k[0]*k[0]+k[1]*k[1],I>C&&(C=I,M=h);return[C,M]}var a=function(m,A){for(var b,I=[0],C=m[0],M=0,k=1;k<=A;k++)b=S.q(m,k/A),M+=w.vectorLen(w.subtract(b,C)),I.push(M),C=b;return I=I.map(h=>h/M),I};function p(m,A,b,I){if(A<0)return 0;if(A>1)return 1;for(var C,M,k,h,f,T=1;T<=I;T++)if(A<=b[T]){h=(T-1)/I,k=T/I,M=b[T-1],C=b[T],f=(A-M)/(C-M)*(k-h)+h;break}return f}function x(m,A){return w.normalize(w.subtract(m,A))}class w{static zeros_Xx2x2(A){for(var b=[];A--;)b.push([0,0]);return b}static mulItems(A,b){return A.map(I=>I*b)}static mulMatrix(A,b){return A.reduce((I,C,M)=>I+C*b[M],0)}static subtract(A,b){return A.map((I,C)=>I-b[C])}static addArrays(A,b){return A.map((I,C)=>I+b[C])}static addItems(A,b){return A.map(I=>I+b)}static sum(A){return A.reduce((b,I)=>b+I)}static dot(A,b){return w.mulMatrix(A,b)}static vectorLen(A){return Math.hypot(...A)}static divItems(A,b){return A.map(I=>I/b)}static squareItems(A){return A.map(b=>b*b)}static normalize(A){return this.divItems(A,this.vectorLen(A))}}class S{static q(A,b){var I=1-b,C=w.mulItems(A[0],I*I*I),M=w.mulItems(A[1],3*I*I*b),k=w.mulItems(A[2],3*I*b*b),h=w.mulItems(A[3],b*b*b);return w.addArrays(w.addArrays(C,M),w.addArrays(k,h))}static qprime(A,b){var I=1-b,C=w.mulItems(w.subtract(A[1],A[0]),3*I*I),M=w.mulItems(w.subtract(A[2],A[1]),6*I*b),k=w.mulItems(w.subtract(A[3],A[2]),3*b*b);return w.addArrays(w.addArrays(C,M),k)}static qprimeprime(A,b){return w.addArrays(w.mulItems(w.addArrays(w.subtract(A[2],w.mulItems(A[1],2)),A[0]),6*(1-b)),w.mulItems(w.addArrays(w.subtract(A[3],w.mulItems(A[2],2)),A[1]),6*b))}}o.exports=e,o.exports.fitCubic=t,o.exports.createTangent=x},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.AnnotationLayer=void 0;var r=t(1),i=t(8),s=t(5),l=t(28),d=t(29);let u=1e3,a=9,p=new WeakSet;function x(P){return{width:P[2]-P[0],height:P[3]-P[1]}}class w{static create(c){switch(c.data.annotationType){case r.AnnotationType.LINK:return new m(c);case r.AnnotationType.TEXT:return new A(c);case r.AnnotationType.WIDGET:switch(c.data.fieldType){case"Tx":return new I(c);case"Btn":return c.data.radioButton?new M(c):c.data.checkBox?new C(c):new k(c);case"Ch":return new h(c)}return new b(c);case r.AnnotationType.POPUP:return new f(c);case r.AnnotationType.FREETEXT:return new L(c);case r.AnnotationType.LINE:return new D(c);case r.AnnotationType.SQUARE:return new H(c);case r.AnnotationType.CIRCLE:return new N(c);case r.AnnotationType.POLYLINE:return new ee(c);case r.AnnotationType.CARET:return new X(c);case r.AnnotationType.INK:return new j(c);case r.AnnotationType.POLYGON:return new te(c);case r.AnnotationType.HIGHLIGHT:return new U(c);case r.AnnotationType.UNDERLINE:return new Q(c);case r.AnnotationType.SQUIGGLY:return new K(c);case r.AnnotationType.STRIKEOUT:return new R(c);case r.AnnotationType.STAMP:return new _(c);case r.AnnotationType.FILEATTACHMENT:return new F(c);default:return new S(c)}}}class S{constructor(c,{isRenderable:g=!1,ignoreBorder:v=!1,createQuadrilaterals:y=!1}={}){this.isRenderable=g,this.data=c.data,this.layer=c.layer,this.page=c.page,this.viewport=c.viewport,this.linkService=c.linkService,this.downloadManager=c.downloadManager,this.imageResourcesPath=c.imageResourcesPath,this.renderForms=c.renderForms,this.svgFactory=c.svgFactory,this.annotationStorage=c.annotationStorage,this.enableScripting=c.enableScripting,this.hasJSActions=c.hasJSActions,this._fieldObjects=c.fieldObjects,this._mouseState=c.mouseState,g&&(this.container=this._createContainer(v)),y&&(this.quadrilaterals=this._createQuadrilaterals(v))}_createContainer(c=!1){let g=this.data,v=this.page,y=this.viewport,B=document.createElement("section"),{width:V,height:W}=x(g.rect),[z,Y,G,Z]=y.viewBox,ae=G-z,ne=Z-Y;B.setAttribute("data-annotation-id",g.id);let ue=r.Util.normalizeRect([g.rect[0],v.view[3]-g.rect[1]+v.view[1],g.rect[2],v.view[3]-g.rect[3]+v.view[1]]);if(!c&&g.borderStyle.width>0){B.style.borderWidth=`${g.borderStyle.width}px`;let he=g.borderStyle.horizontalCornerRadius,xe=g.borderStyle.verticalCornerRadius;if(he>0||xe>0){let Ne=`calc(${he}px * var(--scale-factor)) / calc(${xe}px * var(--scale-factor))`;B.style.borderRadius=Ne}else if(this instanceof M){let Ne=`calc(${V}px * var(--scale-factor)) / calc(${W}px * var(--scale-factor))`;B.style.borderRadius=Ne}switch(g.borderStyle.style){case r.AnnotationBorderStyleType.SOLID:B.style.borderStyle="solid";break;case r.AnnotationBorderStyleType.DASHED:B.style.borderStyle="dashed";break;case r.AnnotationBorderStyleType.BEVELED:(0,r.warn)("Unimplemented border style: beveled");break;case r.AnnotationBorderStyleType.INSET:(0,r.warn)("Unimplemented border style: inset");break;case r.AnnotationBorderStyleType.UNDERLINE:B.style.borderBottomStyle="solid";break;default:break}let ce=g.borderColor||null;ce?B.style.borderColor=r.Util.makeHexColor(ce[0]|0,ce[1]|0,ce[2]|0):B.style.borderWidth=0}B.style.left=`${100*(ue[0]-z)/ae}%`,B.style.top=`${100*(ue[1]-Y)/ne}%`;let{rotation:pe}=g;return g.hasOwnCanvas||pe===0?(B.style.width=`${100*V/ae}%`,B.style.height=`${100*W/ne}%`):this.setRotation(pe,B),B}setRotation(c,g=this.container){let[v,y,B,V]=this.viewport.viewBox,W=B-v,z=V-y,{width:Y,height:G}=x(this.data.rect),Z,ae;c%180===0?(Z=100*Y/W,ae=100*G/z):(Z=100*G/W,ae=100*Y/z),g.style.width=`${Z}%`,g.style.height=`${ae}%`,g.setAttribute("data-main-rotation",(360-c)%360)}get _commonActions(){let c=(g,v,y)=>{let B=y.detail[g];y.target.style[v]=l.ColorConverters[`${B[0]}_HTML`](B.slice(1))};return(0,r.shadow)(this,"_commonActions",{display:g=>{let v=g.detail.display%2===1;this.container.style.visibility=v?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:v,print:g.detail.display===0||g.detail.display===3})},print:g=>{this.annotationStorage.setValue(this.data.id,{print:g.detail.print})},hidden:g=>{this.container.style.visibility=g.detail.hidden?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{hidden:g.detail.hidden})},focus:g=>{setTimeout(()=>g.target.focus({preventScroll:!1}),0)},userName:g=>{g.target.title=g.detail.userName},readonly:g=>{g.detail.readonly?g.target.setAttribute("readonly",""):g.target.removeAttribute("readonly")},required:g=>{this._setRequired(g.target,g.detail.required)},bgColor:g=>{c("bgColor","backgroundColor",g)},fillColor:g=>{c("fillColor","backgroundColor",g)},fgColor:g=>{c("fgColor","color",g)},textColor:g=>{c("textColor","color",g)},borderColor:g=>{c("borderColor","borderColor",g)},strokeColor:g=>{c("strokeColor","borderColor",g)},rotation:g=>{let v=g.detail.rotation;this.setRotation(v),this.annotationStorage.setValue(this.data.id,{rotation:v})}})}_dispatchEventFromSandbox(c,g){let v=this._commonActions;for(let y of Object.keys(g.detail)){let B=c[y]||v[y];B&&B(g)}}_setDefaultPropertiesFromJS(c){if(!this.enableScripting)return;let g=this.annotationStorage.getRawValue(this.data.id);if(!g)return;let v=this._commonActions;for(let[y,B]of Object.entries(g)){let V=v[y];if(V){let W={detail:{[y]:B},target:c};V(W),delete g[y]}}}_createQuadrilaterals(c=!1){if(!this.data.quadPoints)return null;let g=[],v=this.data.rect;for(let y of this.data.quadPoints)this.data.rect=[y[2].x,y[2].y,y[1].x,y[1].y],g.push(this._createContainer(c));return this.data.rect=v,g}_createPopup(c,g){let v=this.container;this.quadrilaterals&&(c=c||this.quadrilaterals,v=this.quadrilaterals[0]),c||(c=document.createElement("div"),c.className="popupTriggerArea",v.append(c));let B=new T({container:v,trigger:c,color:g.color,titleObj:g.titleObj,modificationDate:g.modificationDate,contentsObj:g.contentsObj,richText:g.richText,hideWrapper:!0}).render();B.style.left="100%",v.append(B)}_renderQuadrilaterals(c){for(let g of this.quadrilaterals)g.className=c;return this.quadrilaterals}render(){(0,r.unreachable)("Abstract method `AnnotationElement.render` called")}_getElementsByName(c,g=null){let v=[];if(this._fieldObjects){let y=this._fieldObjects[c];if(y)for(let{page:B,id:V,exportValues:W}of y){if(B===-1||V===g)continue;let z=typeof W=="string"?W:null,Y=document.querySelector(`[data-element-id="${V}"]`);if(Y&&!p.has(Y)){(0,r.warn)(`_getElementsByName - element not allowed: ${V}`);continue}v.push({id:V,exportValue:z,domElement:Y})}return v}for(let y of document.getElementsByName(c)){let{id:B,exportValue:V}=y;B!==g&&p.has(y)&&v.push({id:B,exportValue:V,domElement:y})}return v}static get platform(){let c=typeof navigator<"u"?navigator.platform:"";return(0,r.shadow)(this,"platform",{isWin:c.includes("Win"),isMac:c.includes("Mac")})}}class m extends S{constructor(c,g=null){super(c,{isRenderable:!0,ignoreBorder:!!g?.ignoreBorder,createQuadrilaterals:!0}),this.isTooltipOnly=c.data.isTooltipOnly}render(){let{data:c,linkService:g}=this,v=document.createElement("a");v.setAttribute("data-element-id",c.id);let y=!1;return c.url?(g.addLinkAttributes(v,c.url,c.newWindow),y=!0):c.action?(this._bindNamedAction(v,c.action),y=!0):c.dest?(this._bindLink(v,c.dest),y=!0):(c.actions&&(c.actions.Action||c.actions["Mouse Up"]||c.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(v,c),y=!0),c.resetForm?(this._bindResetFormAction(v,c.resetForm),y=!0):this.isTooltipOnly&&!y&&(this._bindLink(v,""),y=!0)),this.quadrilaterals?this._renderQuadrilaterals("linkAnnotation").map((B,V)=>{let W=V===0?v:v.cloneNode();return B.append(W),B}):(this.container.className="linkAnnotation",y&&this.container.append(v),this.container)}_bindLink(c,g){c.href=this.linkService.getDestinationHash(g),c.onclick=()=>(g&&this.linkService.goToDestination(g),!1),(g||g==="")&&(c.className="internalLink")}_bindNamedAction(c,g){c.href=this.linkService.getAnchorUrl(""),c.onclick=()=>(this.linkService.executeNamedAction(g),!1),c.className="internalLink"}_bindJSAction(c,g){c.href=this.linkService.getAnchorUrl("");let v=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(let y of Object.keys(g.actions)){let B=v.get(y);B&&(c[B]=()=>(this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:g.id,name:y}}),!1))}c.onclick||(c.onclick=()=>!1),c.className="internalLink"}_bindResetFormAction(c,g){let v=c.onclick;if(v||(c.href=this.linkService.getAnchorUrl("")),c.className="internalLink",!this._fieldObjects){(0,r.warn)('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),v||(c.onclick=()=>!1);return}c.onclick=()=>{v&&v();let{fields:y,refs:B,include:V}=g,W=[];if(y.length!==0||B.length!==0){let G=new Set(B);for(let Z of y){let ae=this._fieldObjects[Z]||[];for(let{id:ne}of ae)G.add(ne)}for(let Z of Object.values(this._fieldObjects))for(let ae of Z)G.has(ae.id)===V&&W.push(ae)}else for(let G of Object.values(this._fieldObjects))W.push(...G);let z=this.annotationStorage,Y=[];for(let G of W){let{id:Z}=G;switch(Y.push(Z),G.type){case"text":{let ne=G.defaultValue||"";z.setValue(Z,{value:ne});break}case"checkbox":case"radiobutton":{let ne=G.defaultValue===G.exportValues;z.setValue(Z,{value:ne});break}case"combobox":case"listbox":{let ne=G.defaultValue||"";z.setValue(Z,{value:ne});break}default:continue}let ae=document.querySelector(`[data-element-id="${Z}"]`);if(ae){if(!p.has(ae)){(0,r.warn)(`_bindResetFormAction - element not allowed: ${Z}`);continue}}else continue;ae.dispatchEvent(new Event("resetform"))}return this.enableScripting&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:Y,name:"ResetForm"}}),!1}}}class A extends S{constructor(c){let g=!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str);super(c,{isRenderable:g})}render(){this.container.className="textAnnotation";let c=document.createElement("img");return c.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",c.alt="[{{type}} Annotation]",c.dataset.l10nId="text_annotation_type",c.dataset.l10nArgs=JSON.stringify({type:this.data.name}),this.data.hasPopup||this._createPopup(c,this.data),this.container.append(c),this.container}}class b extends S{render(){return this.data.alternativeText&&(this.container.title=this.data.alternativeText),this.container}_getKeyModifier(c){let{isWin:g,isMac:v}=S.platform;return g&&c.ctrlKey||v&&c.metaKey}_setEventListener(c,g,v,y){g.includes("mouse")?c.addEventListener(g,B=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:v,value:y(B),shift:B.shiftKey,modifier:this._getKeyModifier(B)}})}):c.addEventListener(g,B=>{this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:v,value:y(B)}})})}_setEventListeners(c,g,v){for(let[y,B]of g)(B==="Action"||this.data.actions?.[B])&&this._setEventListener(c,y,B,v)}_setBackgroundColor(c){let g=this.data.backgroundColor||null;c.style.backgroundColor=g===null?"transparent":r.Util.makeHexColor(g[0],g[1],g[2])}_setTextStyle(c){let g=["left","center","right"],{fontColor:v}=this.data.defaultAppearanceData,y=this.data.defaultAppearanceData.fontSize||a,B=c.style,V;if(this.data.multiLine){let W=Math.abs(this.data.rect[3]-this.data.rect[1]),z=Math.round(W/(r.LINE_FACTOR*y))||1,Y=W/z;V=Math.min(y,Math.round(Y/r.LINE_FACTOR))}else{let W=Math.abs(this.data.rect[3]-this.data.rect[1]);V=Math.min(y,Math.round(W/r.LINE_FACTOR))}B.fontSize=`calc(${V}px * var(--scale-factor))`,B.color=r.Util.makeHexColor(v[0],v[1],v[2]),this.data.textAlignment!==null&&(B.textAlign=g[this.data.textAlignment])}_setRequired(c,g){g?c.setAttribute("required",!0):c.removeAttribute("required"),c.setAttribute("aria-required",g)}}class I extends b{constructor(c){let g=c.renderForms||!c.data.hasAppearance&&!!c.data.fieldValue;super(c,{isRenderable:g})}setPropertyOnSiblings(c,g,v,y){let B=this.annotationStorage;for(let V of this._getElementsByName(c.name,c.id))V.domElement&&(V.domElement[g]=v),B.setValue(V.id,{[y]:v})}render(){let c=this.annotationStorage,g=this.data.id;this.container.className="textWidgetAnnotation";let v=null;if(this.renderForms){let y=c.getValue(g,{value:this.data.fieldValue}),B=y.formattedValue||y.value||"",V=c.getValue(g,{charLimit:this.data.maxLen}).charLimit;V&&B.length>V&&(B=B.slice(0,V));let W={userValue:B,formattedValue:null,valueOnFocus:""};this.data.multiLine?(v=document.createElement("textarea"),v.textContent=B,this.data.doNotScroll&&(v.style.overflowY="hidden")):(v=document.createElement("input"),v.type="text",v.setAttribute("value",B),this.data.doNotScroll&&(v.style.overflowX="hidden")),p.add(v),v.setAttribute("data-element-id",g),v.disabled=this.data.readOnly,v.name=this.data.fieldName,v.tabIndex=u,this._setRequired(v,this.data.required),V&&(v.maxLength=V),v.addEventListener("input",Y=>{c.setValue(g,{value:Y.target.value}),this.setPropertyOnSiblings(v,"value",Y.target.value,"value")}),v.addEventListener("resetform",Y=>{let G=this.data.defaultFieldValue??"";v.value=W.userValue=G,W.formattedValue=null});let z=Y=>{let{formattedValue:G}=W;G!=null&&(Y.target.value=G),Y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){v.addEventListener("focus",G=>{W.userValue&&(G.target.value=W.userValue),W.valueOnFocus=G.target.value}),v.addEventListener("updatefromsandbox",G=>{let Z={value(ae){W.userValue=ae.detail.value??"",c.setValue(g,{value:W.userValue.toString()}),ae.target.value=W.userValue},formattedValue(ae){let{formattedValue:ne}=ae.detail;W.formattedValue=ne,ne!=null&&ae.target!==document.activeElement&&(ae.target.value=ne),c.setValue(g,{formattedValue:ne})},selRange(ae){ae.target.setSelectionRange(...ae.detail.selRange)},charLimit:ae=>{let{charLimit:ne}=ae.detail,{target:ue}=ae;if(ne===0){ue.removeAttribute("maxLength");return}ue.setAttribute("maxLength",ne);let pe=W.userValue;!pe||pe.length<=ne||(pe=pe.slice(0,ne),ue.value=W.userValue=pe,c.setValue(g,{value:pe}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:g,name:"Keystroke",value:pe,willCommit:!0,commitKey:1,selStart:ue.selectionStart,selEnd:ue.selectionEnd}}))}};this._dispatchEventFromSandbox(Z,G)}),v.addEventListener("keydown",G=>{let Z=-1;if(G.key==="Escape"?Z=0:G.key==="Enter"?Z=2:G.key==="Tab"&&(Z=3),Z===-1)return;let{value:ae}=G.target;W.valueOnFocus!==ae&&(W.userValue=ae,this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:g,name:"Keystroke",value:ae,willCommit:!0,commitKey:Z,selStart:G.target.selectionStart,selEnd:G.target.selectionEnd}}))});let Y=z;z=null,v.addEventListener("blur",G=>{let{value:Z}=G.target;W.userValue=Z,this._mouseState.isDown&&W.valueOnFocus!==Z&&this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:g,name:"Keystroke",value:Z,willCommit:!0,commitKey:1,selStart:G.target.selectionStart,selEnd:G.target.selectionEnd}}),Y(G)}),this.data.actions?.Keystroke&&v.addEventListener("beforeinput",G=>{let{data:Z,target:ae}=G,{value:ne,selectionStart:ue,selectionEnd:pe}=ae,he=ue,xe=pe;switch(G.inputType){case"deleteWordBackward":{let ce=ne.substring(0,ue).match(/\w*[^\w]*$/);ce&&(he-=ce[0].length);break}case"deleteWordForward":{let ce=ne.substring(ue).match(/^[^\w]*\w*/);ce&&(xe+=ce[0].length);break}case"deleteContentBackward":ue===pe&&(he-=1);break;case"deleteContentForward":ue===pe&&(xe+=1);break}G.preventDefault(),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:g,name:"Keystroke",value:ne,change:Z||"",willCommit:!1,selStart:he,selEnd:xe}})}),this._setEventListeners(v,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],G=>G.target.value)}if(z&&v.addEventListener("blur",z),this.data.comb){let G=(this.data.rect[2]-this.data.rect[0])/V;v.classList.add("comb"),v.style.letterSpacing=`calc(${G}px * var(--scale-factor) - 1ch)`}}else v=document.createElement("div"),v.textContent=this.data.fieldValue,v.style.verticalAlign="middle",v.style.display="table-cell";return this._setTextStyle(v),this._setBackgroundColor(v),this._setDefaultPropertiesFromJS(v),this.container.append(v),this.container}}class C extends b{constructor(c){super(c,{isRenderable:c.renderForms})}render(){let c=this.annotationStorage,g=this.data,v=g.id,y=c.getValue(v,{value:g.exportValue===g.fieldValue}).value;typeof y=="string"&&(y=y!=="Off",c.setValue(v,{value:y})),this.container.className="buttonWidgetAnnotation checkBox";let B=document.createElement("input");return p.add(B),B.setAttribute("data-element-id",v),B.disabled=g.readOnly,this._setRequired(B,this.data.required),B.type="checkbox",B.name=g.fieldName,y&&B.setAttribute("checked",!0),B.setAttribute("exportValue",g.exportValue),B.tabIndex=u,B.addEventListener("change",V=>{let{name:W,checked:z}=V.target;for(let Y of this._getElementsByName(W,v)){let G=z&&Y.exportValue===g.exportValue;Y.domElement&&(Y.domElement.checked=G),c.setValue(Y.id,{value:G})}c.setValue(v,{value:z})}),B.addEventListener("resetform",V=>{let W=g.defaultFieldValue||"Off";V.target.checked=W===g.exportValue}),this.enableScripting&&this.hasJSActions&&(B.addEventListener("updatefromsandbox",V=>{let W={value(z){z.target.checked=z.detail.value!=="Off",c.setValue(v,{value:z.target.checked})}};this._dispatchEventFromSandbox(W,V)}),this._setEventListeners(B,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],V=>V.target.checked)),this._setBackgroundColor(B),this._setDefaultPropertiesFromJS(B),this.container.append(B),this.container}}class M extends b{constructor(c){super(c,{isRenderable:c.renderForms})}render(){this.container.className="buttonWidgetAnnotation radioButton";let c=this.annotationStorage,g=this.data,v=g.id,y=c.getValue(v,{value:g.fieldValue===g.buttonValue}).value;typeof y=="string"&&(y=y!==g.buttonValue,c.setValue(v,{value:y}));let B=document.createElement("input");if(p.add(B),B.setAttribute("data-element-id",v),B.disabled=g.readOnly,this._setRequired(B,this.data.required),B.type="radio",B.name=g.fieldName,y&&B.setAttribute("checked",!0),B.tabIndex=u,B.addEventListener("change",V=>{let{name:W,checked:z}=V.target;for(let Y of this._getElementsByName(W,v))c.setValue(Y.id,{value:!1});c.setValue(v,{value:z})}),B.addEventListener("resetform",V=>{let W=g.defaultFieldValue;V.target.checked=W!=null&&W===g.buttonValue}),this.enableScripting&&this.hasJSActions){let V=g.buttonValue;B.addEventListener("updatefromsandbox",W=>{let z={value:Y=>{let G=V===Y.detail.value;for(let Z of this._getElementsByName(Y.target.name)){let ae=G&&Z.id===v;Z.domElement&&(Z.domElement.checked=ae),c.setValue(Z.id,{value:ae})}}};this._dispatchEventFromSandbox(z,W)}),this._setEventListeners(B,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],W=>W.target.checked)}return this._setBackgroundColor(B),this._setDefaultPropertiesFromJS(B),this.container.append(B),this.container}}class k extends m{constructor(c){super(c,{ignoreBorder:c.data.hasAppearance})}render(){let c=super.render();c.className="buttonWidgetAnnotation pushButton",this.data.alternativeText&&(c.title=this.data.alternativeText);let g=c.lastChild;return this.enableScripting&&this.hasJSActions&&g&&(this._setDefaultPropertiesFromJS(g),g.addEventListener("updatefromsandbox",v=>{this._dispatchEventFromSandbox({},v)})),c}}class h extends b{constructor(c){super(c,{isRenderable:c.renderForms})}render(){this.container.className="choiceWidgetAnnotation";let c=this.annotationStorage,g=this.data.id,v=c.getValue(g,{value:this.data.fieldValue}),y=document.createElement("select");p.add(y),y.setAttribute("data-element-id",g),y.disabled=this.data.readOnly,this._setRequired(y,this.data.required),y.name=this.data.fieldName,y.tabIndex=u;let B=this.data.combo&&this.data.options.length>0;this.data.combo||(y.size=this.data.options.length,this.data.multiSelect&&(y.multiple=!0)),y.addEventListener("resetform",Y=>{let G=this.data.defaultFieldValue;for(let Z of y.options)Z.selected=Z.value===G});for(let Y of this.data.options){let G=document.createElement("option");G.textContent=Y.displayValue,G.value=Y.exportValue,v.value.includes(Y.exportValue)&&(G.setAttribute("selected",!0),B=!1),y.append(G)}let V=null;if(B){let Y=document.createElement("option");Y.value=" ",Y.setAttribute("hidden",!0),Y.setAttribute("selected",!0),y.prepend(Y),V=()=>{Y.remove(),y.removeEventListener("input",V),V=null},y.addEventListener("input",V)}let W=(Y,G)=>{let Z=G?"value":"textContent",ae=Y.target.options;return Y.target.multiple?Array.prototype.filter.call(ae,ne=>ne.selected).map(ne=>ne[Z]):ae.selectedIndex===-1?null:ae[ae.selectedIndex][Z]},z=Y=>{let G=Y.target.options;return Array.prototype.map.call(G,Z=>({displayValue:Z.textContent,exportValue:Z.value}))};return this.enableScripting&&this.hasJSActions?(y.addEventListener("updatefromsandbox",Y=>{let G={value(Z){V?.();let ae=Z.detail.value,ne=new Set(Array.isArray(ae)?ae:[ae]);for(let ue of y.options)ue.selected=ne.has(ue.value);c.setValue(g,{value:W(Z,!0)})},multipleSelection(Z){y.multiple=!0},remove(Z){let ae=y.options,ne=Z.detail.remove;ae[ne].selected=!1,y.remove(ne),ae.length>0&&Array.prototype.findIndex.call(ae,pe=>pe.selected)===-1&&(ae[0].selected=!0),c.setValue(g,{value:W(Z,!0),items:z(Z)})},clear(Z){for(;y.length!==0;)y.remove(0);c.setValue(g,{value:null,items:[]})},insert(Z){let{index:ae,displayValue:ne,exportValue:ue}=Z.detail.insert,pe=y.children[ae],he=document.createElement("option");he.textContent=ne,he.value=ue,pe?pe.before(he):y.append(he),c.setValue(g,{value:W(Z,!0),items:z(Z)})},items(Z){let{items:ae}=Z.detail;for(;y.length!==0;)y.remove(0);for(let ne of ae){let{displayValue:ue,exportValue:pe}=ne,he=document.createElement("option");he.textContent=ue,he.value=pe,y.append(he)}y.options.length>0&&(y.options[0].selected=!0),c.setValue(g,{value:W(Z,!0),items:z(Z)})},indices(Z){let ae=new Set(Z.detail.indices);for(let ne of Z.target.options)ne.selected=ae.has(ne.index);c.setValue(g,{value:W(Z,!0)})},editable(Z){Z.target.disabled=!Z.detail.editable}};this._dispatchEventFromSandbox(G,Y)}),y.addEventListener("input",Y=>{let G=W(Y,!0),Z=W(Y,!1);c.setValue(g,{value:G}),this.linkService.eventBus?.dispatch("dispatcheventinsandbox",{source:this,detail:{id:g,name:"Keystroke",value:Z,changeEx:G,willCommit:!0,commitKey:1,keyDown:!1}})}),this._setEventListeners(y,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"]],Y=>Y.target.checked)):y.addEventListener("input",function(Y){c.setValue(g,{value:W(Y,!0)})}),this.data.combo&&this._setTextStyle(y),this._setBackgroundColor(y),this._setDefaultPropertiesFromJS(y),this.container.append(y),this.container}}class f extends S{constructor(c){let g=!!(c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str);super(c,{isRenderable:g})}render(){let c=["Line","Square","Circle","PolyLine","Polygon","Ink"];if(this.container.className="popupAnnotation",c.includes(this.data.parentType))return this.container;let g=`[data-annotation-id="${this.data.parentId}"]`,v=this.layer.querySelectorAll(g);if(v.length===0)return this.container;let y=new T({container:this.container,trigger:Array.from(v),color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText}),B=this.page,V=r.Util.normalizeRect([this.data.parentRect[0],B.view[3]-this.data.parentRect[1]+B.view[1],this.data.parentRect[2],B.view[3]-this.data.parentRect[3]+B.view[1]]),W=V[0]+this.data.parentRect[2]-this.data.parentRect[0],z=V[1],[Y,G,Z,ae]=this.viewport.viewBox,ne=Z-Y,ue=ae-G;return this.container.style.left=`${100*(W-Y)/ne}%`,this.container.style.top=`${100*(z-G)/ue}%`,this.container.append(y.render()),this.container}}class T{constructor(c){this.container=c.container,this.trigger=c.trigger,this.color=c.color,this.titleObj=c.titleObj,this.modificationDate=c.modificationDate,this.contentsObj=c.contentsObj,this.richText=c.richText,this.hideWrapper=c.hideWrapper||!1,this.pinned=!1}render(){let g=document.createElement("div");g.className="popupWrapper",this.hideElement=this.hideWrapper?g:this.container,this.hideElement.hidden=!0;let v=document.createElement("div");v.className="popup";let y=this.color;if(y){let W=.7*(255-y[0])+y[0],z=.7*(255-y[1])+y[1],Y=.7*(255-y[2])+y[2];v.style.backgroundColor=r.Util.makeHexColor(W|0,z|0,Y|0)}let B=document.createElement("h1");B.dir=this.titleObj.dir,B.textContent=this.titleObj.str,v.append(B);let V=i.PDFDateString.toDateObject(this.modificationDate);if(V){let W=document.createElement("span");W.className="popupDate",W.textContent="{{date}}, {{time}}",W.dataset.l10nId="annotation_date_string",W.dataset.l10nArgs=JSON.stringify({date:V.toLocaleDateString(),time:V.toLocaleTimeString()}),v.append(W)}if(this.richText?.str&&(!this.contentsObj?.str||this.contentsObj.str===this.richText.str))d.XfaLayer.render({xfaHtml:this.richText.html,intent:"richText",div:v}),v.lastChild.className="richText popupContent";else{let W=this._formatContents(this.contentsObj);v.append(W)}Array.isArray(this.trigger)||(this.trigger=[this.trigger]);for(let W of this.trigger)W.addEventListener("click",this._toggle.bind(this)),W.addEventListener("mouseover",this._show.bind(this,!1)),W.addEventListener("mouseout",this._hide.bind(this,!1));return v.addEventListener("click",this._hide.bind(this,!0)),g.append(v),g}_formatContents({str:c,dir:g}){let v=document.createElement("p");v.className="popupContent",v.dir=g;let y=c.split(/(?:\r\n?|\n)/);for(let B=0,V=y.length;B<V;++B){let W=y[B];v.append(document.createTextNode(W)),B<V-1&&v.append(document.createElement("br"))}return v}_toggle(){this.pinned?this._hide(!0):this._show(!0)}_show(c=!1){c&&(this.pinned=!0),this.hideElement.hidden&&(this.hideElement.hidden=!1,this.container.style.zIndex=parseInt(this.container.style.zIndex)+1e3)}_hide(c=!0){c&&(this.pinned=!1),!this.hideElement.hidden&&!this.pinned&&(this.hideElement.hidden=!0,this.container.style.zIndex=parseInt(this.container.style.zIndex)-1e3)}}class L extends S{constructor(c){let g=!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str);super(c,{isRenderable:g,ignoreBorder:!0}),this.textContent=c.data.textContent}render(){if(this.container.className="freeTextAnnotation",this.textContent){let c=document.createElement("div");c.className="annotationTextContent",c.setAttribute("role","comment");for(let g of this.textContent){let v=document.createElement("span");v.textContent=g,c.append(v)}this.container.append(c)}return this.data.hasPopup||this._createPopup(null,this.data),this.container}}class D extends S{constructor(c){let g=!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str);super(c,{isRenderable:g,ignoreBorder:!0})}render(){this.container.className="lineAnnotation";let c=this.data,{width:g,height:v}=x(c.rect),y=this.svgFactory.create(g,v,!0),B=this.svgFactory.createElement("svg:line");return B.setAttribute("x1",c.rect[2]-c.lineCoordinates[0]),B.setAttribute("y1",c.rect[3]-c.lineCoordinates[1]),B.setAttribute("x2",c.rect[2]-c.lineCoordinates[2]),B.setAttribute("y2",c.rect[3]-c.lineCoordinates[3]),B.setAttribute("stroke-width",c.borderStyle.width||1),B.setAttribute("stroke","transparent"),B.setAttribute("fill","transparent"),y.append(B),this.container.append(y),this._createPopup(B,c),this.container}}class H extends S{constructor(c){let g=!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str);super(c,{isRenderable:g,ignoreBorder:!0})}render(){this.container.className="squareAnnotation";let c=this.data,{width:g,height:v}=x(c.rect),y=this.svgFactory.create(g,v,!0),B=c.borderStyle.width,V=this.svgFactory.createElement("svg:rect");return V.setAttribute("x",B/2),V.setAttribute("y",B/2),V.setAttribute("width",g-B),V.setAttribute("height",v-B),V.setAttribute("stroke-width",B||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),y.append(V),this.container.append(y),this._createPopup(V,c),this.container}}class N extends S{constructor(c){let g=!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str);super(c,{isRenderable:g,ignoreBorder:!0})}render(){this.container.className="circleAnnotation";let c=this.data,{width:g,height:v}=x(c.rect),y=this.svgFactory.create(g,v,!0),B=c.borderStyle.width,V=this.svgFactory.createElement("svg:ellipse");return V.setAttribute("cx",g/2),V.setAttribute("cy",v/2),V.setAttribute("rx",g/2-B/2),V.setAttribute("ry",v/2-B/2),V.setAttribute("stroke-width",B||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),y.append(V),this.container.append(y),this._createPopup(V,c),this.container}}class ee extends S{constructor(c){let g=!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str);super(c,{isRenderable:g,ignoreBorder:!0}),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;let c=this.data,{width:g,height:v}=x(c.rect),y=this.svgFactory.create(g,v,!0),B=[];for(let W of c.vertices){let z=W.x-c.rect[0],Y=c.rect[3]-W.y;B.push(z+","+Y)}B=B.join(" ");let V=this.svgFactory.createElement(this.svgElementName);return V.setAttribute("points",B),V.setAttribute("stroke-width",c.borderStyle.width||1),V.setAttribute("stroke","transparent"),V.setAttribute("fill","transparent"),y.append(V),this.container.append(y),this._createPopup(V,c),this.container}}class te extends ee{constructor(c){super(c),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class X extends S{constructor(c){let g=!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str);super(c,{isRenderable:g,ignoreBorder:!0})}render(){return this.container.className="caretAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class j extends S{constructor(c){let g=!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str);super(c,{isRenderable:g,ignoreBorder:!0}),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline"}render(){this.container.className=this.containerClassName;let c=this.data,{width:g,height:v}=x(c.rect),y=this.svgFactory.create(g,v,!0);for(let B of c.inkLists){let V=[];for(let z of B){let Y=z.x-c.rect[0],G=c.rect[3]-z.y;V.push(`${Y},${G}`)}V=V.join(" ");let W=this.svgFactory.createElement(this.svgElementName);W.setAttribute("points",V),W.setAttribute("stroke-width",c.borderStyle.width||1),W.setAttribute("stroke","transparent"),W.setAttribute("fill","transparent"),this._createPopup(W,c),y.append(W)}return this.container.append(y),this.container}}class U extends S{constructor(c){let g=!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str);super(c,{isRenderable:g,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("highlightAnnotation"):(this.container.className="highlightAnnotation",this.container)}}class Q extends S{constructor(c){let g=!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str);super(c,{isRenderable:g,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("underlineAnnotation"):(this.container.className="underlineAnnotation",this.container)}}class K extends S{constructor(c){let g=!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str);super(c,{isRenderable:g,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("squigglyAnnotation"):(this.container.className="squigglyAnnotation",this.container)}}class R extends S{constructor(c){let g=!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str);super(c,{isRenderable:g,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return this.data.hasPopup||this._createPopup(null,this.data),this.quadrilaterals?this._renderQuadrilaterals("strikeoutAnnotation"):(this.container.className="strikeoutAnnotation",this.container)}}class _ extends S{constructor(c){let g=!!(c.data.hasPopup||c.data.titleObj?.str||c.data.contentsObj?.str||c.data.richText?.str);super(c,{isRenderable:g,ignoreBorder:!0})}render(){return this.container.className="stampAnnotation",this.data.hasPopup||this._createPopup(null,this.data),this.container}}class F extends S{constructor(c){super(c,{isRenderable:!0});let{filename:g,content:v}=this.data.file;this.filename=(0,i.getFilenameFromUrl)(g),this.content=v,this.linkService.eventBus?.dispatch("fileattachmentannotation",{source:this,filename:g,content:v})}render(){this.container.className="fileAttachmentAnnotation";let c=document.createElement("div");return c.className="popupTriggerArea",c.addEventListener("dblclick",this._download.bind(this)),!this.data.hasPopup&&(this.data.titleObj?.str||this.data.contentsObj?.str||this.data.richText)&&this._createPopup(c,this.data),this.container.append(c),this.container}_download(){this.downloadManager?.openOrDownloadData(this.container,this.content,this.filename)}}class E{static#e(c,g,v,y){let B=c.firstChild||c;B.id=`${i.AnnotationPrefix}${g}`,v.append(c),y?.moveElementInDOM(v,c,B,!1)}static render(c){let{annotations:g,div:v,viewport:y,accessibilityManager:B}=c;this.#t(v,y);let V=0;for(let W of g){if(W.annotationType!==r.AnnotationType.POPUP){let{width:Y,height:G}=x(W.rect);if(Y<=0||G<=0)continue}let z=w.create({data:W,layer:v,page:c.page,viewport:y,linkService:c.linkService,downloadManager:c.downloadManager,imageResourcesPath:c.imageResourcesPath||"",renderForms:c.renderForms!==!1,svgFactory:new i.DOMSVGFactory,annotationStorage:c.annotationStorage||new s.AnnotationStorage,enableScripting:c.enableScripting,hasJSActions:c.hasJSActions,fieldObjects:c.fieldObjects,mouseState:c.mouseState||{isDown:!1}});if(z.isRenderable){let Y=z.render();if(W.hidden&&(Y.style.visibility="hidden"),Array.isArray(Y))for(let G of Y)G.style.zIndex=V++,E.#e(G,W.id,v,B);else Y.style.zIndex=V++,z instanceof f?v.prepend(Y):E.#e(Y,W.id,v,B)}}this.#r(v,c.annotationCanvasMap)}static update(c){let{annotationCanvasMap:g,div:v,viewport:y}=c;this.#t(v,y),this.#r(v,g),v.hidden=!1}static#t(c,{width:g,height:v,rotation:y}){let{style:B}=c,V=y%180!==0,W=Math.floor(g)+"px",z=Math.floor(v)+"px";B.width=V?z:W,B.height=V?W:z,c.setAttribute("data-main-rotation",y)}static#r(c,g){if(g){for(let[v,y]of g){let B=c.querySelector(`[data-annotation-id="${v}"]`);if(!B)continue;let{firstChild:V}=B;V?V.nodeName==="CANVAS"?V.replaceWith(y):V.before(y):B.append(y)}g.clear()}}}e.AnnotationLayer=E},(o,e)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.ColorConverters=void 0;function t(i){return Math.floor(Math.max(0,Math.min(1,i))*255).toString(16).padStart(2,"0")}class r{static CMYK_G([s,l,d,u]){return["G",1-Math.min(1,.3*s+.59*d+.11*l+u)]}static G_CMYK([s]){return["CMYK",0,0,0,1-s]}static G_RGB([s]){return["RGB",s,s,s]}static G_HTML([s]){let l=t(s);return`#${l}${l}${l}`}static RGB_G([s,l,d]){return["G",.3*s+.59*l+.11*d]}static RGB_HTML([s,l,d]){let u=t(s),a=t(l),p=t(d);return`#${u}${a}${p}`}static T_HTML(){return"#00000000"}static CMYK_RGB([s,l,d,u]){return["RGB",1-Math.min(1,s+u),1-Math.min(1,d+u),1-Math.min(1,l+u)]}static CMYK_HTML(s){let l=this.CMYK_RGB(s).slice(1);return this.RGB_HTML(l)}static RGB_CMYK([s,l,d]){let u=1-s,a=1-l,p=1-d,x=Math.min(u,a,p);return["CMYK",u,a,p,x]}}e.ColorConverters=r},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.XfaLayer=void 0;var r=t(20);class i{static setupStorage(l,d,u,a,p){let x=a.getValue(d,{value:null});switch(u.name){case"textarea":if(x.value!==null&&(l.textContent=x.value),p==="print")break;l.addEventListener("input",w=>{a.setValue(d,{value:w.target.value})});break;case"input":if(u.attributes.type==="radio"||u.attributes.type==="checkbox"){if(x.value===u.attributes.xfaOn?l.setAttribute("checked",!0):x.value===u.attributes.xfaOff&&l.removeAttribute("checked"),p==="print")break;l.addEventListener("change",w=>{a.setValue(d,{value:w.target.checked?w.target.getAttribute("xfaOn"):w.target.getAttribute("xfaOff")})})}else{if(x.value!==null&&l.setAttribute("value",x.value),p==="print")break;l.addEventListener("input",w=>{a.setValue(d,{value:w.target.value})})}break;case"select":if(x.value!==null)for(let w of u.children)w.attributes.value===x.value&&(w.attributes.selected=!0);l.addEventListener("input",w=>{let S=w.target.options,m=S.selectedIndex===-1?"":S[S.selectedIndex].value;a.setValue(d,{value:m})});break}}static setAttributes({html:l,element:d,storage:u=null,intent:a,linkService:p}){let{attributes:x}=d,w=l instanceof HTMLAnchorElement;x.type==="radio"&&(x.name=`${x.name}-${a}`);for(let[S,m]of Object.entries(x))if(m!=null)switch(S){case"class":m.length&&l.setAttribute(S,m.join(" "));break;case"dataId":break;case"id":l.setAttribute("data-element-id",m);break;case"style":Object.assign(l.style,m);break;case"textContent":l.textContent=m;break;default:(!w||S!=="href"&&S!=="newWindow")&&l.setAttribute(S,m)}w&&p.addLinkAttributes(l,x.href,x.newWindow),u&&x.dataId&&this.setupStorage(l,x.dataId,d,u)}static render(l){let d=l.annotationStorage,u=l.linkService,a=l.xfaHtml,p=l.intent||"display",x=document.createElement(a.name);a.attributes&&this.setAttributes({html:x,element:a,intent:p,linkService:u});let w=[[a,-1,x]],S=l.div;if(S.append(x),l.viewport){let A=`matrix(${l.viewport.transform.join(",")})`;S.style.transform=A}p!=="richText"&&S.setAttribute("class","xfaLayer xfaFont");let m=[];for(;w.length>0;){let[A,b,I]=w.at(-1);if(b+1===A.children.length){w.pop();continue}let C=A.children[++w.at(-1)[1]];if(C===null)continue;let{name:M}=C;if(M==="#text"){let h=document.createTextNode(C.value);m.push(h),I.append(h);continue}let k;if(C?.attributes?.xmlns?k=document.createElementNS(C.attributes.xmlns,M):k=document.createElement(M),I.append(k),C.attributes&&this.setAttributes({html:k,element:C,storage:d,intent:p,linkService:u}),C.children&&C.children.length>0)w.push([C,-1,k]);else if(C.value){let h=document.createTextNode(C.value);r.XfaText.shouldBuildText(M)&&m.push(h),k.append(h)}}for(let A of S.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:m}}static update(l){let d=`matrix(${l.viewport.transform.join(",")})`;l.div.style.transform=d,l.div.hidden=!1}}e.XfaLayer=i},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.TextLayerRenderTask=void 0,e.renderTextLayer=C;var r=t(1),i=t(8);let s=1e5,l=30,d=.8,u=new Map,a=/^\s+$/g;function p(M,k){let h=u.get(M);if(h)return h;k.save(),k.font=`${l}px ${M}`;let f=k.measureText(""),T=f.fontBoundingBoxAscent,L=Math.abs(f.fontBoundingBoxDescent);if(T){k.restore();let H=T/(T+L);return u.set(M,H),H}k.strokeStyle="red",k.clearRect(0,0,l,l),k.strokeText("g",0,0);let D=k.getImageData(0,0,l,l).data;L=0;for(let H=D.length-1-3;H>=0;H-=4)if(D[H]>0){L=Math.ceil(H/4/l);break}k.clearRect(0,0,l,l),k.strokeText("A",0,l),D=k.getImageData(0,0,l,l).data,T=0;for(let H=0,N=D.length;H<N;H+=4)if(D[H]>0){T=l-Math.floor(H/4/l);break}if(k.restore(),T){let H=T/(T+L);return u.set(M,H),H}return u.set(M,d),d}function x(M,k,h,f){let T=document.createElement("span"),L=M._enhanceTextSelection?{angle:0,canvasWidth:0,hasText:k.str!=="",hasEOL:k.hasEOL,originalTransform:null,paddingBottom:0,paddingLeft:0,paddingRight:0,paddingTop:0,scale:1,fontSize:0}:{angle:0,canvasWidth:0,hasText:k.str!=="",hasEOL:k.hasEOL,fontSize:0};M._textDivs.push(T);let D=r.Util.transform(M._viewport.transform,k.transform),H=Math.atan2(D[1],D[0]),N=h[k.fontName];N.vertical&&(H+=Math.PI/2);let ee=Math.hypot(D[2],D[3]),te=ee*p(N.fontFamily,f),X,j;H===0?(X=D[4],j=D[5]-te):(X=D[4]+te*Math.sin(H),j=D[5]-te*Math.cos(H)),T.style.left=`${X}px`,T.style.top=`${j}px`,T.style.fontSize=`${ee}px`,T.style.fontFamily=N.fontFamily,L.fontSize=ee,T.setAttribute("role","presentation"),T.textContent=k.str,T.dir=k.dir,M._fontInspectorEnabled&&(T.dataset.fontName=k.fontName),H!==0&&(L.angle=H*(180/Math.PI));let U=!1;if(k.str.length>1||M._enhanceTextSelection&&a.test(k.str))U=!0;else if(k.str!==" "&&k.transform[0]!==k.transform[3]){let Q=Math.abs(k.transform[0]),K=Math.abs(k.transform[3]);Q!==K&&Math.max(Q,K)/Math.min(Q,K)>1.5&&(U=!0)}if(U&&(N.vertical?L.canvasWidth=k.height*M._viewport.scale:L.canvasWidth=k.width*M._viewport.scale),M._textDivProperties.set(T,L),M._textContentStream&&M._layoutText(T),M._enhanceTextSelection&&L.hasText){let Q=1,K=0;H!==0&&(Q=Math.cos(H),K=Math.sin(H));let R=(N.vertical?k.height:k.width)*M._viewport.scale,_=ee,F,E;H!==0?(F=[Q,K,-K,Q,X,j],E=r.Util.getAxialAlignedBoundingBox([0,0,R,_],F)):E=[X,j,X+R,j+_],M._bounds.push({left:E[0],top:E[1],right:E[2],bottom:E[3],div:T,size:[R,_],m:F})}}function w(M){if(M._canceled)return;let k=M._textDivs,h=M._capability,f=k.length;if(f>s){M._renderingDone=!0,h.resolve();return}if(!M._textContentStream)for(let T=0;T<f;T++)M._layoutText(k[T]);M._renderingDone=!0,h.resolve()}function S(M,k,h){let f=0;for(let T=0;T<h;T++){let L=M[k++];L>0&&(f=f?Math.min(L,f):L)}return f}function m(M){let k=M._bounds,h=M._viewport,f=A(h.width,h.height,k);for(let T=0;T<f.length;T++){let L=k[T].div,D=M._textDivProperties.get(L);if(D.angle===0){D.paddingLeft=k[T].left-f[T].left,D.paddingTop=k[T].top-f[T].top,D.paddingRight=f[T].right-k[T].right,D.paddingBottom=f[T].bottom-k[T].bottom,M._textDivProperties.set(L,D);continue}let H=f[T],N=k[T],ee=N.m,te=ee[0],X=ee[1],j=[[0,0],[0,N.size[1]],[N.size[0],0],N.size],U=new Float64Array(64);for(let K=0,R=j.length;K<R;K++){let _=r.Util.applyTransform(j[K],ee);U[K+0]=te&&(H.left-_[0])/te,U[K+4]=X&&(H.top-_[1])/X,U[K+8]=te&&(H.right-_[0])/te,U[K+12]=X&&(H.bottom-_[1])/X,U[K+16]=X&&(H.left-_[0])/-X,U[K+20]=te&&(H.top-_[1])/te,U[K+24]=X&&(H.right-_[0])/-X,U[K+28]=te&&(H.bottom-_[1])/te,U[K+32]=te&&(H.left-_[0])/-te,U[K+36]=X&&(H.top-_[1])/-X,U[K+40]=te&&(H.right-_[0])/-te,U[K+44]=X&&(H.bottom-_[1])/-X,U[K+48]=X&&(H.left-_[0])/X,U[K+52]=te&&(H.top-_[1])/-te,U[K+56]=X&&(H.right-_[0])/X,U[K+60]=te&&(H.bottom-_[1])/-te}let Q=1+Math.min(Math.abs(te),Math.abs(X));D.paddingLeft=S(U,32,16)/Q,D.paddingTop=S(U,48,16)/Q,D.paddingRight=S(U,0,16)/Q,D.paddingBottom=S(U,16,16)/Q,M._textDivProperties.set(L,D)}}function A(M,k,h){let f=h.map(function(L,D){return{x1:L.left,y1:L.top,x2:L.right,y2:L.bottom,index:D,x1New:void 0,x2New:void 0}});b(M,f);let T=new Array(h.length);for(let L of f){let D=L.index;T[D]={left:L.x1New,top:0,right:L.x2New,bottom:0}}h.map(function(L,D){let H=T[D],N=f[D];N.x1=L.top,N.y1=M-H.right,N.x2=L.bottom,N.y2=M-H.left,N.index=D,N.x1New=void 0,N.x2New=void 0}),b(k,f);for(let L of f){let D=L.index;T[D].top=L.x1New,T[D].bottom=L.x2New}return T}function b(M,k){k.sort(function(T,L){return T.x1-L.x1||T.index-L.index});let f=[{start:-1/0,end:1/0,boundary:{x1:-1/0,y1:-1/0,x2:0,y2:1/0,index:-1,x1New:0,x2New:0}}];for(let T of k){let L=0;for(;L<f.length&&f[L].end<=T.y1;)L++;let D=f.length-1;for(;D>=0&&f[D].start>=T.y2;)D--;let H,N,ee,te,X=-1/0;for(ee=L;ee<=D;ee++){H=f[ee],N=H.boundary;let Q;N.x2>T.x1?Q=N.index>T.index?N.x1New:T.x1:N.x2New===void 0?Q=(N.x2+T.x1)/2:Q=N.x2New,Q>X&&(X=Q)}for(T.x1New=X,ee=L;ee<=D;ee++)H=f[ee],N=H.boundary,N.x2New===void 0?N.x2>T.x1?N.index>T.index&&(N.x2New=N.x2):N.x2New=X:N.x2New>X&&(N.x2New=Math.max(X,N.x2));let j=[],U=null;for(ee=L;ee<=D;ee++){H=f[ee],N=H.boundary;let Q=N.x2>T.x2?N:T;U===Q?j.at(-1).end=H.end:(j.push({start:H.start,end:H.end,boundary:Q}),U=Q)}for(f[L].start<T.y1&&(j[0].start=T.y1,j.unshift({start:f[L].start,end:T.y1,boundary:f[L].boundary})),T.y2<f[D].end&&(j.at(-1).end=T.y2,j.push({start:T.y2,end:f[D].end,boundary:f[D].boundary})),ee=L;ee<=D;ee++){if(H=f[ee],N=H.boundary,N.x2New!==void 0)continue;let Q=!1;for(te=L-1;!Q&&te>=0&&f[te].start>=N.y1;te--)Q=f[te].boundary===N;for(te=D+1;!Q&&te<f.length&&f[te].end<=N.y2;te++)Q=f[te].boundary===N;for(te=0;!Q&&te<j.length;te++)Q=j[te].boundary===N;Q||(N.x2New=X)}Array.prototype.splice.apply(f,[L,D-L+1,...j])}for(let T of f){let L=T.boundary;L.x2New===void 0&&(L.x2New=Math.max(M,L.x2))}}class I{constructor({textContent:k,textContentStream:h,container:f,viewport:T,textDivs:L,textContentItemsStr:D,enhanceTextSelection:H}){H&&(0,i.deprecated)("The `enhanceTextSelection` functionality will be removed in the future."),this._textContent=k,this._textContentStream=h,this._container=f,this._document=f.ownerDocument,this._viewport=T,this._textDivs=L||[],this._textContentItemsStr=D||[],this._enhanceTextSelection=!!H,this._fontInspectorEnabled=!!globalThis.FontInspector?.enabled,this._reader=null,this._layoutTextLastFontSize=null,this._layoutTextLastFontFamily=null,this._layoutTextCtx=null,this._textDivProperties=new WeakMap,this._renderingDone=!1,this._canceled=!1,this._capability=(0,r.createPromiseCapability)(),this._renderTimer=null,this._bounds=[],this._devicePixelRatio=globalThis.devicePixelRatio||1,this._capability.promise.finally(()=>{this._enhanceTextSelection||(this._textDivProperties=null),this._layoutTextCtx&&(this._layoutTextCtx.canvas.width=0,this._layoutTextCtx.canvas.height=0,this._layoutTextCtx=null)}).catch(()=>{})}get promise(){return this._capability.promise}cancel(){this._canceled=!0,this._reader&&(this._reader.cancel(new r.AbortException("TextLayer task cancelled.")).catch(()=>{}),this._reader=null),this._renderTimer!==null&&(clearTimeout(this._renderTimer),this._renderTimer=null),this._capability.reject(new Error("TextLayer task cancelled."))}_processItems(k,h){for(let f=0,T=k.length;f<T;f++){if(k[f].str===void 0){if(k[f].type==="beginMarkedContentProps"||k[f].type==="beginMarkedContent"){let L=this._container;this._container=document.createElement("span"),this._container.classList.add("markedContent"),k[f].id!==null&&this._container.setAttribute("id",`${k[f].id}`),L.append(this._container)}else k[f].type==="endMarkedContent"&&(this._container=this._container.parentNode);continue}this._textContentItemsStr.push(k[f].str),x(this,k[f],h,this._layoutTextCtx)}}_layoutText(k){let h=this._textDivProperties.get(k),f="";if(h.canvasWidth!==0&&h.hasText){let{fontFamily:T}=k.style,{fontSize:L}=h;(L!==this._layoutTextLastFontSize||T!==this._layoutTextLastFontFamily)&&(this._layoutTextCtx.font=`${L*this._devicePixelRatio}px ${T}`,this._layoutTextLastFontSize=L,this._layoutTextLastFontFamily=T);let{width:D}=this._layoutTextCtx.measureText(k.textContent);if(D>0){let H=this._devicePixelRatio*h.canvasWidth/D;this._enhanceTextSelection&&(h.scale=H),f=`scaleX(${H})`}}if(h.angle!==0&&(f=`rotate(${h.angle}deg) ${f}`),f.length>0&&(this._enhanceTextSelection&&(h.originalTransform=f),k.style.transform=f),h.hasText&&this._container.append(k),h.hasEOL){let T=document.createElement("br");T.setAttribute("role","presentation"),this._container.append(T)}}_render(k=0){let h=(0,r.createPromiseCapability)(),f=Object.create(null),T=this._document.createElement("canvas");if(T.height=T.width=l,this._layoutTextCtx=T.getContext("2d",{alpha:!1}),this._textContent){let L=this._textContent.items,D=this._textContent.styles;this._processItems(L,D),h.resolve()}else if(this._textContentStream){let L=()=>{this._reader.read().then(({value:D,done:H})=>{if(H){h.resolve();return}Object.assign(f,D.styles),this._processItems(D.items,f),L()},h.reject)};this._reader=this._textContentStream.getReader(),L()}else throw new Error('Neither "textContent" nor "textContentStream" parameters specified.');h.promise.then(()=>{f=null,k?this._renderTimer=setTimeout(()=>{w(this),this._renderTimer=null},k):w(this)},this._capability.reject)}expandTextDivs(k=!1){if(!this._enhanceTextSelection||!this._renderingDone)return;this._bounds!==null&&(m(this),this._bounds=null);let h=[],f=[];for(let T=0,L=this._textDivs.length;T<L;T++){let D=this._textDivs[T],H=this._textDivProperties.get(D);H.hasText&&(k?(h.length=0,f.length=0,H.originalTransform&&h.push(H.originalTransform),H.paddingTop>0?(f.push(`${H.paddingTop}px`),h.push(`translateY(${-H.paddingTop}px)`)):f.push(0),H.paddingRight>0?f.push(`${H.paddingRight/H.scale}px`):f.push(0),H.paddingBottom>0?f.push(`${H.paddingBottom}px`):f.push(0),H.paddingLeft>0?(f.push(`${H.paddingLeft/H.scale}px`),h.push(`translateX(${-H.paddingLeft/H.scale}px)`)):f.push(0),D.style.padding=f.join(" "),h.length&&(D.style.transform=h.join(" "))):(D.style.padding=null,D.style.transform=H.originalTransform))}}}e.TextLayerRenderTask=I;function C(M){let k=new I({textContent:M.textContent,textContentStream:M.textContentStream,container:M.container,viewport:M.viewport,textDivs:M.textDivs,textContentItemsStr:M.textContentItemsStr,enhanceTextSelection:M.enhanceTextSelection});return k._render(M.timeout),k}},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.SVGGraphics=void 0;var r=t(8),i=t(1),s=t(3);let l=class{constructor(){(0,i.unreachable)("Not implemented: SVGGraphics")}};e.SVGGraphics=l;{let A=function(h){let f=[],T=[];for(let L of h){if(L.fn==="save"){f.push({fnId:92,fn:"group",items:[]}),T.push(f),f=f.at(-1).items;continue}L.fn==="restore"?f=T.pop():f.push(L)}return f},b=function(h){if(Number.isInteger(h))return h.toString();let f=h.toFixed(10),T=f.length-1;if(f[T]!=="0")return f;do T--;while(f[T]==="0");return f.substring(0,f[T]==="."?T:T+1)},I=function(h){if(h[4]===0&&h[5]===0){if(h[1]===0&&h[2]===0)return h[0]===1&&h[3]===1?"":`scale(${b(h[0])} ${b(h[3])})`;if(h[0]===h[3]&&h[1]===-h[2]){let f=Math.acos(h[0])*180/Math.PI;return`rotate(${b(f)})`}}else if(h[0]===1&&h[1]===0&&h[2]===0&&h[3]===1)return`translate(${b(h[4])} ${b(h[5])})`;return`matrix(${b(h[0])} ${b(h[1])} ${b(h[2])} ${b(h[3])} ${b(h[4])} ${b(h[5])})`},d={fontStyle:"normal",fontWeight:"normal",fillColor:"#000000"},u="http://www.w3.org/XML/1998/namespace",a="http://www.w3.org/1999/xlink",p=["butt","round","square"],x=["miter","round","bevel"],w=function(h,f="",T=!1){if(URL.createObjectURL&&typeof Blob<"u"&&!T)return URL.createObjectURL(new Blob([h],{type:f}));let L="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",D=`data:${f};base64,`;for(let H=0,N=h.length;H<N;H+=3){let ee=h[H]&255,te=h[H+1]&255,X=h[H+2]&255,j=ee>>2,U=(ee&3)<<4|te>>4,Q=H+1<N?(te&15)<<2|X>>6:64,K=H+2<N?X&63:64;D+=L[j]+L[U]+L[Q]+L[K]}return D},S=function(){let h=new Uint8Array([137,80,78,71,13,10,26,10]),f=12,T=new Int32Array(256);for(let X=0;X<256;X++){let j=X;for(let U=0;U<8;U++)j&1?j=3988292384^j>>1&2147483647:j=j>>1&2147483647;T[X]=j}function L(X,j,U){let Q=-1;for(let K=j;K<U;K++){let R=(Q^X[K])&255,_=T[R];Q=Q>>>8^_}return Q^-1}function D(X,j,U,Q){let K=Q,R=j.length;U[K]=R>>24&255,U[K+1]=R>>16&255,U[K+2]=R>>8&255,U[K+3]=R&255,K+=4,U[K]=X.charCodeAt(0)&255,U[K+1]=X.charCodeAt(1)&255,U[K+2]=X.charCodeAt(2)&255,U[K+3]=X.charCodeAt(3)&255,K+=4,U.set(j,K),K+=j.length;let _=L(U,Q+4,K);U[K]=_>>24&255,U[K+1]=_>>16&255,U[K+2]=_>>8&255,U[K+3]=_&255}function H(X,j,U){let Q=1,K=0;for(let R=j;R<U;++R)Q=(Q+(X[R]&255))%65521,K=(K+Q)%65521;return K<<16|Q}function N(X){if(!s.isNodeJS)return ee(X);try{let j;parseInt(process.versions.node)>=8?j=X:j=Buffer.from(X);let U=$c().deflateSync(j,{level:9});return U instanceof Uint8Array?U:new Uint8Array(U)}catch(j){(0,i.warn)("Not compressing PNG because zlib.deflateSync is unavailable: "+j)}return ee(X)}function ee(X){let j=X.length,U=65535,Q=Math.ceil(j/U),K=new Uint8Array(2+j+Q*5+4),R=0;K[R++]=120,K[R++]=156;let _=0;for(;j>U;)K[R++]=0,K[R++]=255,K[R++]=255,K[R++]=0,K[R++]=0,K.set(X.subarray(_,_+U),R),R+=U,_+=U,j-=U;K[R++]=1,K[R++]=j&255,K[R++]=j>>8&255,K[R++]=~j&65535&255,K[R++]=(~j&65535)>>8&255,K.set(X.subarray(_),R),R+=X.length-_;let F=H(X,0,X.length);return K[R++]=F>>24&255,K[R++]=F>>16&255,K[R++]=F>>8&255,K[R++]=F&255,K}function te(X,j,U,Q){let K=X.width,R=X.height,_,F,E,P=X.data;switch(j){case i.ImageKind.GRAYSCALE_1BPP:F=0,_=1,E=K+7>>3;break;case i.ImageKind.RGB_24BPP:F=2,_=8,E=K*3;break;case i.ImageKind.RGBA_32BPP:F=6,_=8,E=K*4;break;default:throw new Error("invalid format")}let c=new Uint8Array((1+E)*R),g=0,v=0;for(let Y=0;Y<R;++Y)c[g++]=0,c.set(P.subarray(v,v+E),g),v+=E,g+=E;if(j===i.ImageKind.GRAYSCALE_1BPP&&Q){g=0;for(let Y=0;Y<R;Y++){g++;for(let G=0;G<E;G++)c[g++]^=255}}let y=new Uint8Array([K>>24&255,K>>16&255,K>>8&255,K&255,R>>24&255,R>>16&255,R>>8&255,R&255,_,F,0,0,0]),B=N(c),V=h.length+f*3+y.length+B.length,W=new Uint8Array(V),z=0;return W.set(h,z),z+=h.length,D("IHDR",y,W,z),z+=f+y.length,D("IDATA",B,W,z),z+=f+B.length,D("IEND",new Uint8Array(0),W,z),w(W,"image/png",U)}return function(j,U,Q){let K=j.kind===void 0?i.ImageKind.GRAYSCALE_1BPP:j.kind;return te(j,K,U,Q)}}();class m{constructor(){this.fontSizeScale=1,this.fontWeight=d.fontWeight,this.fontSize=0,this.textMatrix=i.IDENTITY_MATRIX,this.fontMatrix=i.FONT_IDENTITY_MATRIX,this.leading=0,this.textRenderingMode=i.TextRenderingMode.FILL,this.textMatrixScale=1,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRise=0,this.fillColor=d.fillColor,this.strokeColor="#000000",this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.lineJoin="",this.lineCap="",this.miterLimit=0,this.dashArray=[],this.dashPhase=0,this.dependencies=[],this.activeClipUrl=null,this.clipGroup=null,this.maskId=""}clone(){return Object.create(this)}setCurrentPoint(f,T){this.x=f,this.y=T}}let C=0,M=0,k=0;e.SVGGraphics=l=class{constructor(h,f,T=!1){(0,r.deprecated)("The SVG back-end is no longer maintained and *may* be removed in the future."),this.svgFactory=new r.DOMSVGFactory,this.current=new m,this.transformMatrix=i.IDENTITY_MATRIX,this.transformStack=[],this.extraStack=[],this.commonObjs=h,this.objs=f,this.pendingClip=null,this.pendingEOFill=!1,this.embedFonts=!1,this.embeddedFonts=Object.create(null),this.cssStyle=null,this.forceDataSchema=!!T,this._operatorIdMapping=[];for(let L in i.OPS)this._operatorIdMapping[i.OPS[L]]=L}save(){this.transformStack.push(this.transformMatrix);let h=this.current;this.extraStack.push(h),this.current=h.clone()}restore(){this.transformMatrix=this.transformStack.pop(),this.current=this.extraStack.pop(),this.pendingClip=null,this.tgrp=null}group(h){this.save(),this.executeOpTree(h),this.restore()}loadDependencies(h){let f=h.fnArray,T=h.argsArray;for(let L=0,D=f.length;L<D;L++)if(f[L]===i.OPS.dependency)for(let H of T[L]){let N=H.startsWith("g_")?this.commonObjs:this.objs,ee=new Promise(te=>{N.get(H,te)});this.current.dependencies.push(ee)}return Promise.all(this.current.dependencies)}transform(h,f,T,L,D,H){let N=[h,f,T,L,D,H];this.transformMatrix=i.Util.transform(this.transformMatrix,N),this.tgrp=null}getSVG(h,f){this.viewport=f;let T=this._initialize(f);return this.loadDependencies(h).then(()=>(this.transformMatrix=i.IDENTITY_MATRIX,this.executeOpTree(this.convertOpList(h)),T))}convertOpList(h){let f=this._operatorIdMapping,T=h.argsArray,L=h.fnArray,D=[];for(let H=0,N=L.length;H<N;H++){let ee=L[H];D.push({fnId:ee,fn:f[ee],args:T[H]})}return A(D)}executeOpTree(h){for(let f of h){let T=f.fn,L=f.fnId,D=f.args;switch(L|0){case i.OPS.beginText:this.beginText();break;case i.OPS.dependency:break;case i.OPS.setLeading:this.setLeading(D);break;case i.OPS.setLeadingMoveText:this.setLeadingMoveText(D[0],D[1]);break;case i.OPS.setFont:this.setFont(D);break;case i.OPS.showText:this.showText(D[0]);break;case i.OPS.showSpacedText:this.showText(D[0]);break;case i.OPS.endText:this.endText();break;case i.OPS.moveText:this.moveText(D[0],D[1]);break;case i.OPS.setCharSpacing:this.setCharSpacing(D[0]);break;case i.OPS.setWordSpacing:this.setWordSpacing(D[0]);break;case i.OPS.setHScale:this.setHScale(D[0]);break;case i.OPS.setTextMatrix:this.setTextMatrix(D[0],D[1],D[2],D[3],D[4],D[5]);break;case i.OPS.setTextRise:this.setTextRise(D[0]);break;case i.OPS.setTextRenderingMode:this.setTextRenderingMode(D[0]);break;case i.OPS.setLineWidth:this.setLineWidth(D[0]);break;case i.OPS.setLineJoin:this.setLineJoin(D[0]);break;case i.OPS.setLineCap:this.setLineCap(D[0]);break;case i.OPS.setMiterLimit:this.setMiterLimit(D[0]);break;case i.OPS.setFillRGBColor:this.setFillRGBColor(D[0],D[1],D[2]);break;case i.OPS.setStrokeRGBColor:this.setStrokeRGBColor(D[0],D[1],D[2]);break;case i.OPS.setStrokeColorN:this.setStrokeColorN(D);break;case i.OPS.setFillColorN:this.setFillColorN(D);break;case i.OPS.shadingFill:this.shadingFill(D[0]);break;case i.OPS.setDash:this.setDash(D[0],D[1]);break;case i.OPS.setRenderingIntent:this.setRenderingIntent(D[0]);break;case i.OPS.setFlatness:this.setFlatness(D[0]);break;case i.OPS.setGState:this.setGState(D[0]);break;case i.OPS.fill:this.fill();break;case i.OPS.eoFill:this.eoFill();break;case i.OPS.stroke:this.stroke();break;case i.OPS.fillStroke:this.fillStroke();break;case i.OPS.eoFillStroke:this.eoFillStroke();break;case i.OPS.clip:this.clip("nonzero");break;case i.OPS.eoClip:this.clip("evenodd");break;case i.OPS.paintSolidColorImageMask:this.paintSolidColorImageMask();break;case i.OPS.paintImageXObject:this.paintImageXObject(D[0]);break;case i.OPS.paintInlineImageXObject:this.paintInlineImageXObject(D[0]);break;case i.OPS.paintImageMaskXObject:this.paintImageMaskXObject(D[0]);break;case i.OPS.paintFormXObjectBegin:this.paintFormXObjectBegin(D[0],D[1]);break;case i.OPS.paintFormXObjectEnd:this.paintFormXObjectEnd();break;case i.OPS.closePath:this.closePath();break;case i.OPS.closeStroke:this.closeStroke();break;case i.OPS.closeFillStroke:this.closeFillStroke();break;case i.OPS.closeEOFillStroke:this.closeEOFillStroke();break;case i.OPS.nextLine:this.nextLine();break;case i.OPS.transform:this.transform(D[0],D[1],D[2],D[3],D[4],D[5]);break;case i.OPS.constructPath:this.constructPath(D[0],D[1]);break;case i.OPS.endPath:this.endPath();break;case 92:this.group(f.items);break;default:(0,i.warn)(`Unimplemented operator ${T}`);break}}}setWordSpacing(h){this.current.wordSpacing=h}setCharSpacing(h){this.current.charSpacing=h}nextLine(){this.moveText(0,this.current.leading)}setTextMatrix(h,f,T,L,D,H){let N=this.current;N.textMatrix=N.lineMatrix=[h,f,T,L,D,H],N.textMatrixScale=Math.hypot(h,f),N.x=N.lineX=0,N.y=N.lineY=0,N.xcoords=[],N.ycoords=[],N.tspan=this.svgFactory.createElement("svg:tspan"),N.tspan.setAttributeNS(null,"font-family",N.fontFamily),N.tspan.setAttributeNS(null,"font-size",`${b(N.fontSize)}px`),N.tspan.setAttributeNS(null,"y",b(-N.y)),N.txtElement=this.svgFactory.createElement("svg:text"),N.txtElement.append(N.tspan)}beginText(){let h=this.current;h.x=h.lineX=0,h.y=h.lineY=0,h.textMatrix=i.IDENTITY_MATRIX,h.lineMatrix=i.IDENTITY_MATRIX,h.textMatrixScale=1,h.tspan=this.svgFactory.createElement("svg:tspan"),h.txtElement=this.svgFactory.createElement("svg:text"),h.txtgrp=this.svgFactory.createElement("svg:g"),h.xcoords=[],h.ycoords=[]}moveText(h,f){let T=this.current;T.x=T.lineX+=h,T.y=T.lineY+=f,T.xcoords=[],T.ycoords=[],T.tspan=this.svgFactory.createElement("svg:tspan"),T.tspan.setAttributeNS(null,"font-family",T.fontFamily),T.tspan.setAttributeNS(null,"font-size",`${b(T.fontSize)}px`),T.tspan.setAttributeNS(null,"y",b(-T.y))}showText(h){let f=this.current,T=f.font,L=f.fontSize;if(L===0)return;let D=f.fontSizeScale,H=f.charSpacing,N=f.wordSpacing,ee=f.fontDirection,te=f.textHScale*ee,X=T.vertical,j=X?1:-1,U=T.defaultVMetrics,Q=L*f.fontMatrix[0],K=0;for(let F of h){if(F===null){K+=ee*N;continue}else if(typeof F=="number"){K+=j*F*L/1e3;continue}let E=(F.isSpace?N:0)+H,P=F.fontChar,c,g,v=F.width;if(X){let B,V=F.vmetric||U;B=F.vmetric?V[1]:v*.5,B=-B*Q;let W=V[2]*Q;v=V?-V[0]:v,c=B/D,g=(K+W)/D}else c=K/D,g=0;(F.isInFont||T.missingFile)&&(f.xcoords.push(f.x+c),X&&f.ycoords.push(-f.y+g),f.tspan.textContent+=P);let y;X?y=v*Q-E*ee:y=v*Q+E*ee,K+=y}f.tspan.setAttributeNS(null,"x",f.xcoords.map(b).join(" ")),X?f.tspan.setAttributeNS(null,"y",f.ycoords.map(b).join(" ")):f.tspan.setAttributeNS(null,"y",b(-f.y)),X?f.y-=K:f.x+=K*te,f.tspan.setAttributeNS(null,"font-family",f.fontFamily),f.tspan.setAttributeNS(null,"font-size",`${b(f.fontSize)}px`),f.fontStyle!==d.fontStyle&&f.tspan.setAttributeNS(null,"font-style",f.fontStyle),f.fontWeight!==d.fontWeight&&f.tspan.setAttributeNS(null,"font-weight",f.fontWeight);let R=f.textRenderingMode&i.TextRenderingMode.FILL_STROKE_MASK;if(R===i.TextRenderingMode.FILL||R===i.TextRenderingMode.FILL_STROKE?(f.fillColor!==d.fillColor&&f.tspan.setAttributeNS(null,"fill",f.fillColor),f.fillAlpha<1&&f.tspan.setAttributeNS(null,"fill-opacity",f.fillAlpha)):f.textRenderingMode===i.TextRenderingMode.ADD_TO_PATH?f.tspan.setAttributeNS(null,"fill","transparent"):f.tspan.setAttributeNS(null,"fill","none"),R===i.TextRenderingMode.STROKE||R===i.TextRenderingMode.FILL_STROKE){let F=1/(f.textMatrixScale||1);this._setStrokeAttributes(f.tspan,F)}let _=f.textMatrix;f.textRise!==0&&(_=_.slice(),_[5]+=f.textRise),f.txtElement.setAttributeNS(null,"transform",`${I(_)} scale(${b(te)}, -1)`),f.txtElement.setAttributeNS(u,"xml:space","preserve"),f.txtElement.append(f.tspan),f.txtgrp.append(f.txtElement),this._ensureTransformGroup().append(f.txtElement)}setLeadingMoveText(h,f){this.setLeading(-f),this.moveText(h,f)}addFontStyle(h){if(!h.data)throw new Error('addFontStyle: No font data available, ensure that the "fontExtraProperties" API parameter is set.');this.cssStyle||(this.cssStyle=this.svgFactory.createElement("svg:style"),this.cssStyle.setAttributeNS(null,"type","text/css"),this.defs.append(this.cssStyle));let f=w(h.data,h.mimetype,this.forceDataSchema);this.cssStyle.textContent+=`@font-face { font-family: "${h.loadedName}"; src: url(${f}); }
`}setFont(h){let f=this.current,T=this.commonObjs.get(h[0]),L=h[1];f.font=T,this.embedFonts&&!T.missingFile&&!this.embeddedFonts[T.loadedName]&&(this.addFontStyle(T),this.embeddedFonts[T.loadedName]=T),f.fontMatrix=T.fontMatrix||i.FONT_IDENTITY_MATRIX;let D="normal";T.black?D="900":T.bold&&(D="bold");let H=T.italic?"italic":"normal";L<0?(L=-L,f.fontDirection=-1):f.fontDirection=1,f.fontSize=L,f.fontFamily=T.loadedName,f.fontWeight=D,f.fontStyle=H,f.tspan=this.svgFactory.createElement("svg:tspan"),f.tspan.setAttributeNS(null,"y",b(-f.y)),f.xcoords=[],f.ycoords=[]}endText(){let h=this.current;h.textRenderingMode&i.TextRenderingMode.ADD_TO_PATH_FLAG&&h.txtElement?.hasChildNodes()&&(h.element=h.txtElement,this.clip("nonzero"),this.endPath())}setLineWidth(h){h>0&&(this.current.lineWidth=h)}setLineCap(h){this.current.lineCap=p[h]}setLineJoin(h){this.current.lineJoin=x[h]}setMiterLimit(h){this.current.miterLimit=h}setStrokeAlpha(h){this.current.strokeAlpha=h}setStrokeRGBColor(h,f,T){this.current.strokeColor=i.Util.makeHexColor(h,f,T)}setFillAlpha(h){this.current.fillAlpha=h}setFillRGBColor(h,f,T){this.current.fillColor=i.Util.makeHexColor(h,f,T),this.current.tspan=this.svgFactory.createElement("svg:tspan"),this.current.xcoords=[],this.current.ycoords=[]}setStrokeColorN(h){this.current.strokeColor=this._makeColorN_Pattern(h)}setFillColorN(h){this.current.fillColor=this._makeColorN_Pattern(h)}shadingFill(h){let f=this.viewport.width,T=this.viewport.height,L=i.Util.inverseTransform(this.transformMatrix),D=i.Util.applyTransform([0,0],L),H=i.Util.applyTransform([0,T],L),N=i.Util.applyTransform([f,0],L),ee=i.Util.applyTransform([f,T],L),te=Math.min(D[0],H[0],N[0],ee[0]),X=Math.min(D[1],H[1],N[1],ee[1]),j=Math.max(D[0],H[0],N[0],ee[0]),U=Math.max(D[1],H[1],N[1],ee[1]),Q=this.svgFactory.createElement("svg:rect");Q.setAttributeNS(null,"x",te),Q.setAttributeNS(null,"y",X),Q.setAttributeNS(null,"width",j-te),Q.setAttributeNS(null,"height",U-X),Q.setAttributeNS(null,"fill",this._makeShadingPattern(h)),this.current.fillAlpha<1&&Q.setAttributeNS(null,"fill-opacity",this.current.fillAlpha),this._ensureTransformGroup().append(Q)}_makeColorN_Pattern(h){return h[0]==="TilingPattern"?this._makeTilingPattern(h):this._makeShadingPattern(h)}_makeTilingPattern(h){let f=h[1],T=h[2],L=h[3]||i.IDENTITY_MATRIX,[D,H,N,ee]=h[4],te=h[5],X=h[6],j=h[7],U=`shading${k++}`,[Q,K,R,_]=i.Util.normalizeRect([...i.Util.applyTransform([D,H],L),...i.Util.applyTransform([N,ee],L)]),[F,E]=i.Util.singularValueDecompose2dScale(L),P=te*F,c=X*E,g=this.svgFactory.createElement("svg:pattern");g.setAttributeNS(null,"id",U),g.setAttributeNS(null,"patternUnits","userSpaceOnUse"),g.setAttributeNS(null,"width",P),g.setAttributeNS(null,"height",c),g.setAttributeNS(null,"x",`${Q}`),g.setAttributeNS(null,"y",`${K}`);let v=this.svg,y=this.transformMatrix,B=this.current.fillColor,V=this.current.strokeColor,W=this.svgFactory.create(R-Q,_-K);if(this.svg=W,this.transformMatrix=L,j===2){let z=i.Util.makeHexColor(...f);this.current.fillColor=z,this.current.strokeColor=z}return this.executeOpTree(this.convertOpList(T)),this.svg=v,this.transformMatrix=y,this.current.fillColor=B,this.current.strokeColor=V,g.append(W.childNodes[0]),this.defs.append(g),`url(#${U})`}_makeShadingPattern(h){switch(typeof h=="string"&&(h=this.objs.get(h)),h[0]){case"RadialAxial":let f=`shading${k++}`,T=h[3],L;switch(h[1]){case"axial":let D=h[4],H=h[5];L=this.svgFactory.createElement("svg:linearGradient"),L.setAttributeNS(null,"id",f),L.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),L.setAttributeNS(null,"x1",D[0]),L.setAttributeNS(null,"y1",D[1]),L.setAttributeNS(null,"x2",H[0]),L.setAttributeNS(null,"y2",H[1]);break;case"radial":let N=h[4],ee=h[5],te=h[6],X=h[7];L=this.svgFactory.createElement("svg:radialGradient"),L.setAttributeNS(null,"id",f),L.setAttributeNS(null,"gradientUnits","userSpaceOnUse"),L.setAttributeNS(null,"cx",ee[0]),L.setAttributeNS(null,"cy",ee[1]),L.setAttributeNS(null,"r",X),L.setAttributeNS(null,"fx",N[0]),L.setAttributeNS(null,"fy",N[1]),L.setAttributeNS(null,"fr",te);break;default:throw new Error(`Unknown RadialAxial type: ${h[1]}`)}for(let D of T){let H=this.svgFactory.createElement("svg:stop");H.setAttributeNS(null,"offset",D[0]),H.setAttributeNS(null,"stop-color",D[1]),L.append(H)}return this.defs.append(L),`url(#${f})`;case"Mesh":return(0,i.warn)("Unimplemented pattern Mesh"),null;case"Dummy":return"hotpink";default:throw new Error(`Unknown IR type: ${h[0]}`)}}setDash(h,f){this.current.dashArray=h,this.current.dashPhase=f}constructPath(h,f){let T=this.current,L=T.x,D=T.y,H=[],N=0;for(let ee of h)switch(ee|0){case i.OPS.rectangle:L=f[N++],D=f[N++];let te=f[N++],X=f[N++],j=L+te,U=D+X;H.push("M",b(L),b(D),"L",b(j),b(D),"L",b(j),b(U),"L",b(L),b(U),"Z");break;case i.OPS.moveTo:L=f[N++],D=f[N++],H.push("M",b(L),b(D));break;case i.OPS.lineTo:L=f[N++],D=f[N++],H.push("L",b(L),b(D));break;case i.OPS.curveTo:L=f[N+4],D=f[N+5],H.push("C",b(f[N]),b(f[N+1]),b(f[N+2]),b(f[N+3]),b(L),b(D)),N+=6;break;case i.OPS.curveTo2:H.push("C",b(L),b(D),b(f[N]),b(f[N+1]),b(f[N+2]),b(f[N+3])),L=f[N+2],D=f[N+3],N+=4;break;case i.OPS.curveTo3:L=f[N+2],D=f[N+3],H.push("C",b(f[N]),b(f[N+1]),b(L),b(D),b(L),b(D)),N+=4;break;case i.OPS.closePath:H.push("Z");break}H=H.join(" "),T.path&&h.length>0&&h[0]!==i.OPS.rectangle&&h[0]!==i.OPS.moveTo?H=T.path.getAttributeNS(null,"d")+H:(T.path=this.svgFactory.createElement("svg:path"),this._ensureTransformGroup().append(T.path)),T.path.setAttributeNS(null,"d",H),T.path.setAttributeNS(null,"fill","none"),T.element=T.path,T.setCurrentPoint(L,D)}endPath(){let h=this.current;if(h.path=null,!this.pendingClip)return;if(!h.element){this.pendingClip=null;return}let f=`clippath${C++}`,T=this.svgFactory.createElement("svg:clipPath");T.setAttributeNS(null,"id",f),T.setAttributeNS(null,"transform",I(this.transformMatrix));let L=h.element.cloneNode(!0);if(this.pendingClip==="evenodd"?L.setAttributeNS(null,"clip-rule","evenodd"):L.setAttributeNS(null,"clip-rule","nonzero"),this.pendingClip=null,T.append(L),this.defs.append(T),h.activeClipUrl){h.clipGroup=null;for(let D of this.extraStack)D.clipGroup=null;T.setAttributeNS(null,"clip-path",h.activeClipUrl)}h.activeClipUrl=`url(#${f})`,this.tgrp=null}clip(h){this.pendingClip=h}closePath(){let h=this.current;if(h.path){let f=`${h.path.getAttributeNS(null,"d")}Z`;h.path.setAttributeNS(null,"d",f)}}setLeading(h){this.current.leading=-h}setTextRise(h){this.current.textRise=h}setTextRenderingMode(h){this.current.textRenderingMode=h}setHScale(h){this.current.textHScale=h/100}setRenderingIntent(h){}setFlatness(h){}setGState(h){for(let[f,T]of h)switch(f){case"LW":this.setLineWidth(T);break;case"LC":this.setLineCap(T);break;case"LJ":this.setLineJoin(T);break;case"ML":this.setMiterLimit(T);break;case"D":this.setDash(T[0],T[1]);break;case"RI":this.setRenderingIntent(T);break;case"FL":this.setFlatness(T);break;case"Font":this.setFont(T);break;case"CA":this.setStrokeAlpha(T);break;case"ca":this.setFillAlpha(T);break;default:(0,i.warn)(`Unimplemented graphic state operator ${f}`);break}}fill(){let h=this.current;h.element&&(h.element.setAttributeNS(null,"fill",h.fillColor),h.element.setAttributeNS(null,"fill-opacity",h.fillAlpha),this.endPath())}stroke(){let h=this.current;h.element&&(this._setStrokeAttributes(h.element),h.element.setAttributeNS(null,"fill","none"),this.endPath())}_setStrokeAttributes(h,f=1){let T=this.current,L=T.dashArray;f!==1&&L.length>0&&(L=L.map(function(D){return f*D})),h.setAttributeNS(null,"stroke",T.strokeColor),h.setAttributeNS(null,"stroke-opacity",T.strokeAlpha),h.setAttributeNS(null,"stroke-miterlimit",b(T.miterLimit)),h.setAttributeNS(null,"stroke-linecap",T.lineCap),h.setAttributeNS(null,"stroke-linejoin",T.lineJoin),h.setAttributeNS(null,"stroke-width",b(f*T.lineWidth)+"px"),h.setAttributeNS(null,"stroke-dasharray",L.map(b).join(" ")),h.setAttributeNS(null,"stroke-dashoffset",b(f*T.dashPhase)+"px")}eoFill(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fill()}fillStroke(){this.stroke(),this.fill()}eoFillStroke(){this.current.element&&this.current.element.setAttributeNS(null,"fill-rule","evenodd"),this.fillStroke()}closeStroke(){this.closePath(),this.stroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.closePath(),this.eoFillStroke()}paintSolidColorImageMask(){let h=this.svgFactory.createElement("svg:rect");h.setAttributeNS(null,"x","0"),h.setAttributeNS(null,"y","0"),h.setAttributeNS(null,"width","1px"),h.setAttributeNS(null,"height","1px"),h.setAttributeNS(null,"fill",this.current.fillColor),this._ensureTransformGroup().append(h)}paintImageXObject(h){let f=h.startsWith("g_")?this.commonObjs.get(h):this.objs.get(h);if(!f){(0,i.warn)(`Dependent image with object ID ${h} is not ready yet`);return}this.paintInlineImageXObject(f)}paintInlineImageXObject(h,f){let T=h.width,L=h.height,D=S(h,this.forceDataSchema,!!f),H=this.svgFactory.createElement("svg:rect");H.setAttributeNS(null,"x","0"),H.setAttributeNS(null,"y","0"),H.setAttributeNS(null,"width",b(T)),H.setAttributeNS(null,"height",b(L)),this.current.element=H,this.clip("nonzero");let N=this.svgFactory.createElement("svg:image");N.setAttributeNS(a,"xlink:href",D),N.setAttributeNS(null,"x","0"),N.setAttributeNS(null,"y",b(-L)),N.setAttributeNS(null,"width",b(T)+"px"),N.setAttributeNS(null,"height",b(L)+"px"),N.setAttributeNS(null,"transform",`scale(${b(1/T)} ${b(-1/L)})`),f?f.append(N):this._ensureTransformGroup().append(N)}paintImageMaskXObject(h){let f=this.current,T=h.width,L=h.height,D=f.fillColor;f.maskId=`mask${M++}`;let H=this.svgFactory.createElement("svg:mask");H.setAttributeNS(null,"id",f.maskId);let N=this.svgFactory.createElement("svg:rect");N.setAttributeNS(null,"x","0"),N.setAttributeNS(null,"y","0"),N.setAttributeNS(null,"width",b(T)),N.setAttributeNS(null,"height",b(L)),N.setAttributeNS(null,"fill",D),N.setAttributeNS(null,"mask",`url(#${f.maskId})`),this.defs.append(H),this._ensureTransformGroup().append(N),this.paintInlineImageXObject(h,H)}paintFormXObjectBegin(h,f){if(Array.isArray(h)&&h.length===6&&this.transform(h[0],h[1],h[2],h[3],h[4],h[5]),f){let T=f[2]-f[0],L=f[3]-f[1],D=this.svgFactory.createElement("svg:rect");D.setAttributeNS(null,"x",f[0]),D.setAttributeNS(null,"y",f[1]),D.setAttributeNS(null,"width",b(T)),D.setAttributeNS(null,"height",b(L)),this.current.element=D,this.clip("nonzero"),this.endPath()}}paintFormXObjectEnd(){}_initialize(h){let f=this.svgFactory.create(h.width,h.height),T=this.svgFactory.createElement("svg:defs");f.append(T),this.defs=T;let L=this.svgFactory.createElement("svg:g");return L.setAttributeNS(null,"transform",I(h.transform)),f.append(L),this.svg=L,f}_ensureClipGroup(){if(!this.current.clipGroup){let h=this.svgFactory.createElement("svg:g");h.setAttributeNS(null,"clip-path",this.current.activeClipUrl),this.svg.append(h),this.current.clipGroup=h}return this.current.clipGroup}_ensureTransformGroup(){return this.tgrp||(this.tgrp=this.svgFactory.createElement("svg:g"),this.tgrp.setAttributeNS(null,"transform",I(this.transformMatrix)),this.current.activeClipUrl?this._ensureClipGroup().append(this.tgrp):this.svg.append(this.tgrp)),this.tgrp}}}},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNodeStream=void 0;var r=t(1),i=t(33);let s=ma(),l=Kc(),d=Yc(),u=Qc(),a=/^file:\/\/\/[a-zA-Z]:\//;function p(M){let k=u.parse(M);return k.protocol==="file:"||k.host?k:/^[a-z]:[/\\]/i.test(M)?u.parse(`file:///${M}`):(k.host||(k.protocol="file:"),k)}class x{constructor(k){this.source=k,this.url=p(k.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&k.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new I(this):new A(this),this._fullRequestReader}getRangeReader(k,h){if(h<=this._progressiveDataLength)return null;let f=this.isFsUrl?new C(this,k,h):new b(this,k,h);return this._rangeRequestReaders.push(f),f}cancelAllRequests(k){this._fullRequestReader&&this._fullRequestReader.cancel(k);for(let h of this._rangeRequestReaders.slice(0))h.cancel(k)}}e.PDFNodeStream=x;class w{constructor(k){this._url=k.url,this._done=!1,this._storedError=null,this.onProgress=null;let h=k.source;this._contentLength=h.length,this._loaded=0,this._filename=null,this._disableRange=h.disableRange||!1,this._rangeChunkSize=h.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!h.disableStream,this._isRangeSupported=!h.disableRange,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)(),this._headersCapability=(0,r.createPromiseCapability)()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let k=this._readableStream.read();return k===null?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=k.length,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(k).buffer,done:!1})}cancel(k){if(!this._readableStream){this._error(k);return}this._readableStream.destroy(k)}_error(k){this._storedError=k,this._readCapability.resolve()}_setReadableStream(k){this._readableStream=k,k.on("readable",()=>{this._readCapability.resolve()}),k.on("end",()=>{k.destroy(),this._done=!0,this._readCapability.resolve()}),k.on("error",h=>{this._error(h)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new r.AbortException("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class S{constructor(k){this._url=k.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=(0,r.createPromiseCapability)();let h=k.source;this._isStreamingSupported=!h.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;let k=this._readableStream.read();return k===null?(this._readCapability=(0,r.createPromiseCapability)(),this.read()):(this._loaded+=k.length,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(k).buffer,done:!1})}cancel(k){if(!this._readableStream){this._error(k);return}this._readableStream.destroy(k)}_error(k){this._storedError=k,this._readCapability.resolve()}_setReadableStream(k){this._readableStream=k,k.on("readable",()=>{this._readCapability.resolve()}),k.on("end",()=>{k.destroy(),this._done=!0,this._readCapability.resolve()}),k.on("error",h=>{this._error(h)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function m(M,k){return{protocol:M.protocol,auth:M.auth,host:M.hostname,port:M.port,path:M.path,method:"GET",headers:k}}class A extends w{constructor(k){super(k);let h=f=>{if(f.statusCode===404){let H=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=H,this._headersCapability.reject(H);return}this._headersCapability.resolve(),this._setReadableStream(f);let T=H=>this._readableStream.headers[H.toLowerCase()],{allowRangeRequests:L,suggestedLength:D}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:T,isHttp:k.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=L,this._contentLength=D||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(T)};this._request=null,this._url.protocol==="http:"?this._request=l.request(m(this._url,k.httpHeaders),h):this._request=d.request(m(this._url,k.httpHeaders),h),this._request.on("error",f=>{this._storedError=f,this._headersCapability.reject(f)}),this._request.end()}}class b extends S{constructor(k,h,f){super(k),this._httpHeaders={};for(let L in k.httpHeaders){let D=k.httpHeaders[L];typeof D>"u"||(this._httpHeaders[L]=D)}this._httpHeaders.Range=`bytes=${h}-${f-1}`;let T=L=>{if(L.statusCode===404){let D=new r.MissingPDFException(`Missing PDF "${this._url}".`);this._storedError=D;return}this._setReadableStream(L)};this._request=null,this._url.protocol==="http:"?this._request=l.request(m(this._url,this._httpHeaders),T):this._request=d.request(m(this._url,this._httpHeaders),T),this._request.on("error",L=>{this._storedError=L}),this._request.end()}}class I extends w{constructor(k){super(k);let h=decodeURIComponent(this._url.path);a.test(this._url.href)&&(h=h.replace(/^\//,"")),s.lstat(h,(f,T)=>{if(f){f.code==="ENOENT"&&(f=new r.MissingPDFException(`Missing PDF "${h}".`)),this._storedError=f,this._headersCapability.reject(f);return}this._contentLength=T.size,this._setReadableStream(s.createReadStream(h)),this._headersCapability.resolve()})}}class C extends S{constructor(k,h,f){super(k);let T=decodeURIComponent(this._url.path);a.test(this._url.href)&&(T=T.replace(/^\//,"")),this._setReadableStream(s.createReadStream(T,{start:h,end:f-1}))}}},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.createResponseStatusError=u,e.extractFilenameFromHeader=d,e.validateRangeRequestCapabilities=l,e.validateResponseStatus=a;var r=t(1),i=t(34),s=t(8);function l({getResponseHeader:p,isHttp:x,rangeChunkSize:w,disableRange:S}){let m={allowRangeRequests:!1,suggestedLength:void 0},A=parseInt(p("Content-Length"),10);return!Number.isInteger(A)||(m.suggestedLength=A,A<=2*w)||S||!x||p("Accept-Ranges")!=="bytes"||(p("Content-Encoding")||"identity")!=="identity"||(m.allowRangeRequests=!0),m}function d(p){let x=p("Content-Disposition");if(x){let w=(0,i.getFilenameFromContentDispositionHeader)(x);if(w.includes("%"))try{w=decodeURIComponent(w)}catch{}if((0,s.isPdfFile)(w))return w}return null}function u(p,x){return p===404||p===0&&x.startsWith("file:")?new r.MissingPDFException('Missing PDF "'+x+'".'):new r.UnexpectedResponseException(`Unexpected server response (${p}) while retrieving PDF "${x}".`,p)}function a(p){return p===200||p===206}},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.getFilenameFromContentDispositionHeader=i;var r=t(1);function i(s){let l=!0,d=u("filename\\*","i").exec(s);if(d){d=d[1];let A=w(d);return A=unescape(A),A=S(A),A=m(A),p(A)}if(d=x(s),d){let A=m(d);return p(A)}if(d=u("filename","i").exec(s),d){d=d[1];let A=w(d);return A=m(A),p(A)}function u(A,b){return new RegExp("(?:^|;)\\s*"+A+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',b)}function a(A,b){if(A){if(!/^[\x00-\xFF]+$/.test(b))return b;try{let I=new TextDecoder(A,{fatal:!0}),C=(0,r.stringToBytes)(b);b=I.decode(C),l=!1}catch{}}return b}function p(A){return l&&/[\x80-\xff]/.test(A)&&(A=a("utf-8",A),l&&(A=a("iso-8859-1",A))),A}function x(A){let b=[],I,C=u("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(I=C.exec(A))!==null;){let[,k,h,f]=I;if(k=parseInt(k,10),k in b){if(k===0)break;continue}b[k]=[h,f]}let M=[];for(let k=0;k<b.length&&k in b;++k){let[h,f]=b[k];f=w(f),h&&(f=unescape(f),k===0&&(f=S(f))),M.push(f)}return M.join("")}function w(A){if(A.startsWith('"')){let b=A.slice(1).split('\\"');for(let I=0;I<b.length;++I){let C=b[I].indexOf('"');C!==-1&&(b[I]=b[I].slice(0,C),b.length=I+1),b[I]=b[I].replace(/\\(.)/g,"$1")}A=b.join('"')}return A}function S(A){let b=A.indexOf("'");if(b===-1)return A;let I=A.slice(0,b),M=A.slice(b+1).replace(/^[^']*'/,"");return a(I,M)}function m(A){return!A.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(A)?A:A.replace(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(b,I,C,M){if(C==="q"||C==="Q")return M=M.replace(/_/g," "),M=M.replace(/=([0-9a-fA-F]{2})/g,function(k,h){return String.fromCharCode(parseInt(h,16))}),a(I,M);try{M=atob(M)}catch{}return a(I,M)})}return""}},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFNetworkStream=void 0;var r=t(1),i=t(33);let s=200,l=206;function d(w){let S=w.response;return typeof S!="string"?S:(0,r.stringToBytes)(S).buffer}class u{constructor(S,m={}){this.url=S,this.isHttp=/^https?:/i.test(S),this.httpHeaders=this.isHttp&&m.httpHeaders||Object.create(null),this.withCredentials=m.withCredentials||!1,this.getXhr=m.getXhr||function(){return new XMLHttpRequest},this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(S,m,A){let b={begin:S,end:m};for(let I in A)b[I]=A[I];return this.request(b)}requestFull(S){return this.request(S)}request(S){let m=this.getXhr(),A=this.currXhrId++,b=this.pendingRequests[A]={xhr:m};m.open("GET",this.url),m.withCredentials=this.withCredentials;for(let I in this.httpHeaders){let C=this.httpHeaders[I];typeof C>"u"||m.setRequestHeader(I,C)}return this.isHttp&&"begin"in S&&"end"in S?(m.setRequestHeader("Range",`bytes=${S.begin}-${S.end-1}`),b.expectedStatus=l):b.expectedStatus=s,m.responseType="arraybuffer",S.onError&&(m.onerror=function(I){S.onError(m.status)}),m.onreadystatechange=this.onStateChange.bind(this,A),m.onprogress=this.onProgress.bind(this,A),b.onHeadersReceived=S.onHeadersReceived,b.onDone=S.onDone,b.onError=S.onError,b.onProgress=S.onProgress,m.send(null),A}onProgress(S,m){let A=this.pendingRequests[S];A&&A.onProgress?.(m)}onStateChange(S,m){let A=this.pendingRequests[S];if(!A)return;let b=A.xhr;if(b.readyState>=2&&A.onHeadersReceived&&(A.onHeadersReceived(),delete A.onHeadersReceived),b.readyState!==4||!(S in this.pendingRequests))return;if(delete this.pendingRequests[S],b.status===0&&this.isHttp){A.onError?.(b.status);return}let I=b.status||s;if(!(I===s&&A.expectedStatus===l)&&I!==A.expectedStatus){A.onError?.(b.status);return}let M=d(b);if(I===l){let k=b.getResponseHeader("Content-Range"),h=/bytes (\d+)-(\d+)\/(\d+)/.exec(k);A.onDone({begin:parseInt(h[1],10),chunk:M})}else M?A.onDone({begin:0,chunk:M}):A.onError?.(b.status)}getRequestXhr(S){return this.pendingRequests[S].xhr}isPendingRequest(S){return S in this.pendingRequests}abortRequest(S){let m=this.pendingRequests[S].xhr;delete this.pendingRequests[S],m.abort()}}class a{constructor(S){this._source=S,this._manager=new u(S.url,{httpHeaders:S.httpHeaders,withCredentials:S.withCredentials}),this._rangeChunkSize=S.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(S){let m=this._rangeRequestReaders.indexOf(S);m>=0&&this._rangeRequestReaders.splice(m,1)}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new p(this._manager,this._source),this._fullRequestReader}getRangeReader(S,m){let A=new x(this._manager,S,m);return A.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(A),A}cancelAllRequests(S){this._fullRequestReader?.cancel(S);for(let m of this._rangeRequestReaders.slice(0))m.cancel(S)}}e.PDFNetworkStream=a;class p{constructor(S,m){this._manager=S;let A={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=m.url,this._fullRequestId=S.requestFull(A),this._headersReceivedCapability=(0,r.createPromiseCapability)(),this._disableRange=m.disableRange||!1,this._contentLength=m.length,this._rangeChunkSize=m.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){let S=this._fullRequestId,m=this._manager.getRequestXhr(S),A=C=>m.getResponseHeader(C),{allowRangeRequests:b,suggestedLength:I}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:A,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});b&&(this._isRangeSupported=!0),this._contentLength=I||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(A),this._isRangeSupported&&this._manager.abortRequest(S),this._headersReceivedCapability.resolve()}_onDone(S){if(S&&(this._requests.length>0?this._requests.shift().resolve({value:S.chunk,done:!1}):this._cachedChunks.push(S.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(let m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(S){this._storedError=(0,i.createResponseStatusError)(S,this._url),this._headersReceivedCapability.reject(this._storedError);for(let m of this._requests)m.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(S){this.onProgress?.({loaded:S.loaded,total:S.lengthComputable?S.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};let S=(0,r.createPromiseCapability)();return this._requests.push(S),S.promise}cancel(S){this._done=!0,this._headersReceivedCapability.reject(S);for(let m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class x{constructor(S,m,A){this._manager=S;let b={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=S.url,this._requestId=S.requestRange(m,A,b),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){this.onClosed?.(this)}_onDone(S){let m=S.chunk;this._requests.length>0?this._requests.shift().resolve({value:m,done:!1}):this._queuedChunk=m,this._done=!0;for(let A of this._requests)A.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(S){this._storedError=(0,i.createResponseStatusError)(S,this._url);for(let m of this._requests)m.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(S){this.isStreamingSupported||this.onProgress?.({loaded:S.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){let m=this._queuedChunk;return this._queuedChunk=null,{value:m,done:!1}}if(this._done)return{value:void 0,done:!0};let S=(0,r.createPromiseCapability)();return this._requests.push(S),S.promise}cancel(S){this._done=!0;for(let m of this._requests)m.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}},(o,e,t)=>{Object.defineProperty(e,"__esModule",{value:!0}),e.PDFFetchStream=void 0;var r=t(1),i=t(33);function s(p,x,w){return{method:"GET",headers:p,signal:w.signal,mode:"cors",credentials:x?"include":"same-origin",redirect:"follow"}}function l(p){let x=new Headers;for(let w in p){let S=p[w];typeof S>"u"||x.append(w,S)}return x}class d{constructor(x){this.source=x,this.isHttp=/^https?:/i.test(x.url),this.httpHeaders=this.isHttp&&x.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){return this._fullRequestReader?._loaded??0}getFullReader(){return(0,r.assert)(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new u(this),this._fullRequestReader}getRangeReader(x,w){if(w<=this._progressiveDataLength)return null;let S=new a(this,x,w);return this._rangeRequestReaders.push(S),S}cancelAllRequests(x){this._fullRequestReader&&this._fullRequestReader.cancel(x);for(let w of this._rangeRequestReaders.slice(0))w.cancel(x)}}e.PDFFetchStream=d;class u{constructor(x){this._stream=x,this._reader=null,this._loaded=0,this._filename=null;let w=x.source;this._withCredentials=w.withCredentials||!1,this._contentLength=w.length,this._headersCapability=(0,r.createPromiseCapability)(),this._disableRange=w.disableRange||!1,this._rangeChunkSize=w.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!w.disableStream,this._isRangeSupported=!w.disableRange,this._headers=l(this._stream.httpHeaders);let S=w.url;fetch(S,s(this._headers,this._withCredentials,this._abortController)).then(m=>{if(!(0,i.validateResponseStatus)(m.status))throw(0,i.createResponseStatusError)(m.status,S);this._reader=m.body.getReader(),this._headersCapability.resolve();let A=C=>m.headers.get(C),{allowRangeRequests:b,suggestedLength:I}=(0,i.validateRangeRequestCapabilities)({getResponseHeader:A,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=b,this._contentLength=I||this._contentLength,this._filename=(0,i.extractFilenameFromHeader)(A),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new r.AbortException("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._headersCapability.promise;let{value:x,done:w}=await this._reader.read();return w?{value:x,done:w}:(this._loaded+=x.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(x).buffer,done:!1})}cancel(x){this._reader&&this._reader.cancel(x),this._abortController.abort()}}class a{constructor(x,w,S){this._stream=x,this._reader=null,this._loaded=0;let m=x.source;this._withCredentials=m.withCredentials||!1,this._readCapability=(0,r.createPromiseCapability)(),this._isStreamingSupported=!m.disableStream,this._abortController=new AbortController,this._headers=l(this._stream.httpHeaders),this._headers.append("Range",`bytes=${w}-${S-1}`);let A=m.url;fetch(A,s(this._headers,this._withCredentials,this._abortController)).then(b=>{if(!(0,i.validateResponseStatus)(b.status))throw(0,i.createResponseStatusError)(b.status,A);this._readCapability.resolve(),this._reader=b.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){await this._readCapability.promise;let{value:x,done:w}=await this._reader.read();return w?{value:x,done:w}:(this._loaded+=x.byteLength,this.onProgress&&this.onProgress({loaded:this._loaded}),{value:new Uint8Array(x).buffer,done:!1})}cancel(x){this._reader&&this._reader.cancel(x),this._abortController.abort()}}}],__webpack_module_cache__={};function __w_pdfjs_require__(o){var e=__webpack_module_cache__[o];if(e!==void 0)return e.exports;var t=__webpack_module_cache__[o]={exports:{}};return __webpack_modules__[o](t,t.exports,__w_pdfjs_require__),t.exports}var __webpack_exports__={};return(()=>{var o=__webpack_exports__;Object.defineProperty(o,"__esModule",{value:!0}),Object.defineProperty(o,"AnnotationEditorLayer",{enumerable:!0,get:function(){return i.AnnotationEditorLayer}}),Object.defineProperty(o,"AnnotationEditorParamsType",{enumerable:!0,get:function(){return e.AnnotationEditorParamsType}}),Object.defineProperty(o,"AnnotationEditorType",{enumerable:!0,get:function(){return e.AnnotationEditorType}}),Object.defineProperty(o,"AnnotationEditorUIManager",{enumerable:!0,get:function(){return s.AnnotationEditorUIManager}}),Object.defineProperty(o,"AnnotationLayer",{enumerable:!0,get:function(){return l.AnnotationLayer}}),Object.defineProperty(o,"AnnotationMode",{enumerable:!0,get:function(){return e.AnnotationMode}}),Object.defineProperty(o,"CMapCompressionType",{enumerable:!0,get:function(){return e.CMapCompressionType}}),Object.defineProperty(o,"GlobalWorkerOptions",{enumerable:!0,get:function(){return d.GlobalWorkerOptions}}),Object.defineProperty(o,"InvalidPDFException",{enumerable:!0,get:function(){return e.InvalidPDFException}}),Object.defineProperty(o,"LoopbackPort",{enumerable:!0,get:function(){return t.LoopbackPort}}),Object.defineProperty(o,"MissingPDFException",{enumerable:!0,get:function(){return e.MissingPDFException}}),Object.defineProperty(o,"OPS",{enumerable:!0,get:function(){return e.OPS}}),Object.defineProperty(o,"PDFDataRangeTransport",{enumerable:!0,get:function(){return t.PDFDataRangeTransport}}),Object.defineProperty(o,"PDFDateString",{enumerable:!0,get:function(){return r.PDFDateString}}),Object.defineProperty(o,"PDFWorker",{enumerable:!0,get:function(){return t.PDFWorker}}),Object.defineProperty(o,"PasswordResponses",{enumerable:!0,get:function(){return e.PasswordResponses}}),Object.defineProperty(o,"PermissionFlag",{enumerable:!0,get:function(){return e.PermissionFlag}}),Object.defineProperty(o,"PixelsPerInch",{enumerable:!0,get:function(){return r.PixelsPerInch}}),Object.defineProperty(o,"RenderingCancelledException",{enumerable:!0,get:function(){return r.RenderingCancelledException}}),Object.defineProperty(o,"SVGGraphics",{enumerable:!0,get:function(){return p.SVGGraphics}}),Object.defineProperty(o,"UNSUPPORTED_FEATURES",{enumerable:!0,get:function(){return e.UNSUPPORTED_FEATURES}}),Object.defineProperty(o,"UnexpectedResponseException",{enumerable:!0,get:function(){return e.UnexpectedResponseException}}),Object.defineProperty(o,"Util",{enumerable:!0,get:function(){return e.Util}}),Object.defineProperty(o,"VerbosityLevel",{enumerable:!0,get:function(){return e.VerbosityLevel}}),Object.defineProperty(o,"XfaLayer",{enumerable:!0,get:function(){return x.XfaLayer}}),Object.defineProperty(o,"build",{enumerable:!0,get:function(){return t.build}}),Object.defineProperty(o,"createPromiseCapability",{enumerable:!0,get:function(){return e.createPromiseCapability}}),Object.defineProperty(o,"createValidAbsoluteUrl",{enumerable:!0,get:function(){return e.createValidAbsoluteUrl}}),Object.defineProperty(o,"getDocument",{enumerable:!0,get:function(){return t.getDocument}}),Object.defineProperty(o,"getFilenameFromUrl",{enumerable:!0,get:function(){return r.getFilenameFromUrl}}),Object.defineProperty(o,"getPdfFilenameFromUrl",{enumerable:!0,get:function(){return r.getPdfFilenameFromUrl}}),Object.defineProperty(o,"getXfaPageViewport",{enumerable:!0,get:function(){return r.getXfaPageViewport}}),Object.defineProperty(o,"isPdfFile",{enumerable:!0,get:function(){return r.isPdfFile}}),Object.defineProperty(o,"loadScript",{enumerable:!0,get:function(){return r.loadScript}}),Object.defineProperty(o,"renderTextLayer",{enumerable:!0,get:function(){return a.renderTextLayer}}),Object.defineProperty(o,"shadow",{enumerable:!0,get:function(){return e.shadow}}),Object.defineProperty(o,"version",{enumerable:!0,get:function(){return t.version}});var e=__w_pdfjs_require__(1),t=__w_pdfjs_require__(4),r=__w_pdfjs_require__(8),i=__w_pdfjs_require__(22),s=__w_pdfjs_require__(7),l=__w_pdfjs_require__(27),d=__w_pdfjs_require__(15),u=__w_pdfjs_require__(3),a=__w_pdfjs_require__(30),p=__w_pdfjs_require__(31),x=__w_pdfjs_require__(29);let w="2.16.105",S="172ccdbe5";if(u.isNodeJS){let{PDFNodeStream:m}=__w_pdfjs_require__(32);(0,t.setPDFNetworkStreamFactory)(A=>new m(A))}else{let{PDFNetworkStream:m}=__w_pdfjs_require__(35),{PDFFetchStream:A}=__w_pdfjs_require__(36);(0,t.setPDFNetworkStreamFactory)(b=>(0,r.isValidFetchUrl)(b.url)?new A(b):new m(b))}})(),__webpack_exports__})())});var Aa=["change","click","contextmenu","dblclick","mouseup","pointerup","reset","submit","touchend"];function uo(o,e=!1){let t=async r=>{if(r.isTrusted){if(!e)for(let i of Aa)window.removeEventListener(i,t);o()}};for(let r of Aa)window.addEventListener(r,t)}function po(o,e,t){return typeof o===e||o instanceof t}function ye(o){return po(o,"function",Function)}function fe(o){return po(o,"string",String)}function Ft(o){return po(o,"boolean",Boolean)}function Ie(o){return po(o,"number",Number)}function Ct(o){return O(o)&&po(o,"object",Object)}function ho(o){return o instanceof Date}function Ot(o){return o instanceof Array}function Ge(o,e){throw new Error((e||"Unexpected object: ")+o)}function le(o){return o==null}function O(o){return!le(o)}function Sa(o){return o instanceof Uint8Array||o instanceof Uint8ClampedArray||o instanceof Int8Array||o instanceof Uint16Array||o instanceof Int16Array||o instanceof Uint32Array||o instanceof Int32Array||o instanceof Float32Array||o instanceof Float64Array||"BigUint64Array"in globalThis&&o instanceof globalThis.BigUint64Array||"BigInt64Array"in globalThis&&o instanceof globalThis.BigInt64Array}function ka(o){return o&&typeof ArrayBuffer<"u"&&(o instanceof ArrayBuffer||o.constructor&&o.constructor.name==="ArrayBuffer")}function va(o){return Ct(o)&&"compareTo"in o&&ye(o.compareTo)}function pt(o,...e){let t=null;fe(o)?t=o:(t="ascending",e.unshift(o));let r=t==="ascending"?1:-1;return Object.assign((s,l)=>{if(s===l)return 0;for(let d of e){let u=le(s)?null:d(s),a=le(l)?null:d(l),p=u===a?0:fe(u)&&fe(a)?r*u.localeCompare(a):va(u)&&va(a)?r*u.compareTo(a):t==="ascending"&&u>a||t==="descending"&&u<a?1:-1;if(p!==0)return p}return 0},{direction:t})}function zi(o,e,t,r="search"){let i=0,s=o.length-1;for(;i<=s;){let l=i+s>>1,d=t(o[l],e);if(d===0){if(r!=="search"){let u=r==="append"?1:-1;for(u>0&&(l+=u);0<=l&&l<o.length&&(d=t(o[l],e))===0;)l+=u;u<0&&(l-=u)}return l}else d<0?i=l-d:s=l-d}return-i-1}function qt(o,e,t,r="search"){let i=r!=="set";r==="set"&&(r="search");let s=null;if(Ie(t)?s=t:s=zi(o,e,t,r),s<0)s=-s-1;else if(!i)return-1;return Gi(o,e,s),s}function Be(o){return o.splice(0)}function Ta(o,e){for(let t=0;t<o.length;++t)if(o[t]!==e[t])return t;return-1}function Gi(o,e,t){o.splice(t,0,e)}function dt(o,e){let t=o.indexOf(e);return t>-1?(tr(o,t),!0):!1}function tr(o,e){return o.splice(e,1)[0]}function Qe(o,...e){o.splice(0,o.length,...e)}function Eu(o,e,t){let r=o?0:e.length-1,i=o?e.length:-1,s=o?1:-1;for(let l of t)for(let d=r;d!=i;d+=s){let u=e[d];if(l(u))return u}return null}function sn(o,...e){return Eu(!0,o,e)}function Du(o){return o[0]}function Mu(o){return o.shift()}function Cu(o){return o[o.length-1]}function Lu(o){return o.pop()}var Dn=class{constructor(e){this.value=e,this._forward=new Array,this._reverse=new Array}connectSorted(e,t){if(O(t)){let r=pt(i=>t(i.value));qt(this._forward,e,r),qt(e._reverse,this,r)}else this.connectTo(e)}connectTo(e){this.connectAt(e,this._forward.length)}connectAt(e,t){Gi(this._forward,e,t),e._reverse.push(this)}disconnectFrom(e){dt(this._forward,e),dt(e._reverse,this)}isConnectedTo(e){return this._forward.indexOf(e)>=0||this._reverse.indexOf(e)>=0}flatten(){let e=new Set,t=[this];for(;t.length>0;){let r=t.shift();O(r)&&!e.has(r)&&(e.add(r),t.push(...r._forward))}return Array.from(e)}*traverse(e){let t=new Set,r=[this],i=e?Du:Cu,s=e?Mu:Lu;for(;r.length>0;){let l=i(r);t.has(l)?e||(s(r),yield l):(t.add(l),e&&(s(r),yield l),l._forward.length>0&&r.push(...l._forward))}}breadthFirst(){return this.traverse(!0)}depthFirst(){return this.traverse(!1)}search(e,t=!0){for(let r of this.traverse(t))if(e(r))return r;return null}*searchAll(e,t=!0){for(let r of this.traverse(t))e(r)&&(yield r)}find(e,t=!0){return this.search(r=>r.value===e,t)}findAll(e,t=!0){return this.searchAll(r=>r.value===e,t)}contains(e,t=!0){for(let r of this.traverse(t))if(r===e)return!0;return!1}containsValue(e,t=!0){for(let r of this.traverse(t))if(r.value===e)return!0;return!1}get _isEntryPoint(){return this._reverse.length===0}get _isExitPoint(){return this._forward.length===0}get isDisconnected(){return this._isEntryPoint&&this._isExitPoint}get isConnected(){return!this._isExitPoint||!this._isEntryPoint}get isTerminus(){return this._isEntryPoint||this._isExitPoint}get isInternal(){return!this._isEntryPoint&&!this._isExitPoint}};var nr=class extends Dn{get connections(){return this._forward}get isEntryPoint(){return this._isEntryPoint}get isExitPoint(){return this._isExitPoint}};var De=class{constructor(e=!0){this.autoStart=e,this.onThens=new Array,this.onCatches=new Array,this._result=void 0,this._error=void 0,this._executionState="waiting",this._resultState="none",this.resolve=t=>{if(this.running){this._result=t,this._resultState="resolved";for(let r of this.onThens)r(t);this.clear(),this._executionState="finished"}},this.reject=t=>{if(this.running){this._error=t,this._resultState="errored";for(let r of this.onCatches)r(t);this.clear(),this._executionState="finished"}},this.autoStart&&this.start()}clear(){Be(this.onThens),Be(this.onCatches)}start(){this._executionState="running"}resolver(e){return()=>this.resolve(e)}resolveOn(e,t,r){let i=this.resolver(r);e.addEventListener(t,i),this.finally(()=>e.removeEventListener(t,i))}get result(){if(O(this.error))throw this.error;return this._result}get error(){return this._error}get executionState(){return this._executionState}get waiting(){return this.executionState==="waiting"}get started(){return this.executionState!=="waiting"}get running(){return this.executionState==="running"}get finished(){return this.executionState==="finished"}get resultState(){return this._resultState}get resolved(){return this.resultState==="resolved"}get errored(){return this.resultState==="errored"}get[Symbol.toStringTag](){return this.toString()}project(){return new Promise((e,t)=>{this.finished?this.errored?t(this.error):e(this.result):(this.onThens.push(e),this.onCatches.push(t))})}then(e,t){return this.project().then(e,t)}catch(e){return this.project().catch(e)}finally(e){return this.project().finally(e)}reset(){this._reset(this.autoStart)}restart(){this._reset(!0)}_reset(e){this.running&&this.reject("Resetting previous invocation"),this.clear(),this._result=void 0,this._error=void 0,this._executionState="waiting",this._resultState="none",e&&this.start()}};function mo(o){return O(o)&&"_resolveInput"in o}function go(o){return mo(o)&&"_resolveOutput"in o}var Mn=class{constructor(){this.listeners=new Map,this.listenerOptions=new Map,this.bubblers=new Set,this.scopes=new WeakMap}addBubbler(e){this.bubblers.add(e)}removeBubbler(e){this.bubblers.delete(e)}addScopedEventListener(e,t,r,i){this.scopes.has(e)||this.scopes.set(e,[]),this.scopes.get(e).push([t,r]),this.addEventListener(t,r,i)}removeScope(e){let t=this.scopes.get(e);if(t){this.scopes.delete(e);for(let[r,i]of t)this.removeEventListener(r,i)}}addEventListener(e,t,r){let i=this.listeners.get(e);i||(i=new Array,this.listeners.set(e,i)),i.find(s=>s===t)||(i.push(t),r&&this.listenerOptions.set(t,r))}removeEventListener(e,t){let r=this.listeners.get(e);r&&this.removeListener(r,t)}clearEventListeners(e){for(let[t,r]of this.listeners)if(le(e)||e===t){for(let i of r)this.removeEventListener(e,i);Be(r),this.listeners.delete(t)}}removeListener(e,t){let r=e.findIndex(i=>i===t);r>=0&&(tr(e,r),this.listenerOptions.has(t)&&this.listenerOptions.delete(t))}dispatchEvent(e){let t=this.listeners.get(e.type);if(t)for(let r of t){let i=this.listenerOptions.get(r);O(i)&&!Ft(i)&&i.once&&this.removeListener(t,r),ye(r)?r.call(this,e):r.handleEvent(e)}if(e.defaultPrevented)return!1;for(let r of this.bubblers)if(!r.dispatchEvent(e))return!1;return!0}},Jt=class{constructor(e,t,r){this._addEventListener=e,this._removeEventListener=t,this._dispatchEvent=r,this.listeners=new Map,this.listenerOptions=new Map,this.bubblers=new Set,this.scopes=new WeakMap}addBubbler(e){this.bubblers.add(e)}removeBubbler(e){this.bubblers.delete(e)}addScopedEventListener(e,t,r,i){this.scopes.has(e)||this.scopes.set(e,[]),this.scopes.get(e).push([t,r]),this.addEventListener(t,r,i)}removeScope(e){let t=this.scopes.get(e);if(t){this.scopes.delete(e);for(let[r,i]of t)this.removeEventListener(r,i)}}addEventListener(e,t,r){let i=this.listeners.get(e);i||(i=new Array,this.listeners.set(e,i)),i.find(s=>s===t)||(i.push(t),r&&this.listenerOptions.set(t,r)),this._addEventListener(e,t,r)}removeEventListener(e,t){let r=this.listeners.get(e);r&&this.removeListener(r,t),this._removeEventListener(e,t)}removeListener(e,t){let r=e.findIndex(i=>i===t);r>=0&&(tr(e,r),this.listenerOptions.has(t)&&this.listenerOptions.delete(t))}clearEventListeners(e){for(let[t,r]of this.listeners)if(le(e)||e===t){for(let i of r)this.removeEventListener(e,i);Be(r),this.listeners.delete(t)}}dispatchEvent(e){let t=this._dispatchEvent(e),r=this.listeners.get(e.type);if(r)for(let i of r){let s=this.listenerOptions.get(i);O(s)&&!Ft(s)&&s.once&&this.removeListener(r,i)}if(!t)return!1;for(let i of this.bubblers)if(!i.dispatchEvent(e))return!1;return!0}};var we=class extends Event{get type(){return super.type}constructor(e,t){super(e,t)}},Pe=class extends Mn{addBubbler(e){super.addBubbler(e)}removeBubbler(e){super.removeBubbler(e)}addScopedEventListener(e,t,r,i){super.addScopedEventListener(e,t,r,i)}addEventListener(e,t,r){super.addEventListener(e,t,r)}removeEventListener(e,t){super.removeEventListener(e,t)}clearEventListeners(e){return super.clearEventListeners(e)}};var Cn=class extends Pe{get name(){return this._name}set name(e){this._name=e,this.context._name(this,e)}constructor(e,t){super(),this.nodeType=e,this.context=t,this._name=null,this.disposed=!1}dispose(){this.disposed||(this.disposed=!0,this.onDisposing())}onDisposing(){}isConnected(e,t,r){return this.context._isConnected(this,e,t,r)}resolveOutput(e){let t={source:this,output:e};for(;go(t.source);)t=t.source._resolveOutput(t.output);return t}resolveInput(e){let t={destination:this,input:e};for(;mo(t.destination);)t=t.destination._resolveInput(t.input);return t}toggle(e,t,r){this._toggle(e,t,r)}_toggle(e,t,r){if(this.isConnected(e,t,r))this._disconnect(e,t,r);else return this._connect(e,t,r)}connect(e,t,r){return this._connect(e,t,r)}_connect(e,t,r){return this.context._connect(this,e,t,r)}disconnect(e,t,r){this._disconnect(e,t,r)}_disconnect(e,t,r){this.context._disconnect(this,e,t,r)}};var Ae=class extends Cn{constructor(e,t,r){super(e,t),this._node=r,this.context._init(this._node,this.nodeType)}onDisposing(){this.disconnect(),this.context._dispose(this._node),super.onDisposing()}parent(e){this.context._parent(this,e)}get channelCount(){return this._node.channelCount}set channelCount(e){this._node.channelCount=e}get channelCountMode(){return this._node.channelCountMode}set channelCountMode(e){this._node.channelCountMode=e}get channelInterpretation(){return this._node.channelInterpretation}set channelInterpretation(e){this._node.channelInterpretation=e}get numberOfInputs(){return this._node.numberOfInputs}get numberOfOutputs(){return this._node.numberOfOutputs}_resolveInput(e){return{destination:this._node,input:e}}_resolveOutput(e){return{source:this._node,output:e}}};var or=class extends Ae{constructor(e,t){super("analyser",e,new AnalyserNode(e,t))}get fftSize(){return this._node.fftSize}set fftSize(e){this._node.fftSize=e}get frequencyBinCount(){return this._node.frequencyBinCount}get maxDecibels(){return this._node.maxDecibels}set maxDecibels(e){this._node.maxDecibels=e}get minDecibels(){return this._node.minDecibels}set minDecibels(e){this._node.minDecibels=e}get smoothingTimeConstant(){return this._node.smoothingTimeConstant}set smoothingTimeConstant(e){this._node.smoothingTimeConstant=e}getByteFrequencyData(e){this._node.getByteFrequencyData(e)}getByteTimeDomainData(e){this._node.getByteTimeDomainData(e)}getFloatFrequencyData(e){this._node.getFloatFrequencyData(e)}getFloatTimeDomainData(e){this._node.getFloatTimeDomainData(e)}};var ke=class{get name(){return this._name}set name(e){this._name=e,this.context._name(this,e)}constructor(e,t,r){this.nodeType=e,this.context=t,this.param=r,this._name=null,this.disposed=!1,this.context._init(this.param,this.nodeType)}dispose(){this.disposed||(this.disposed=!0,this.onDisposing())}onDisposing(){this.context._dispose(this.param)}get automationRate(){return this.param.automationRate}set automationRate(e){this.param.automationRate=e}get defaultValue(){return this.param.defaultValue}get maxValue(){return this.param.maxValue}get minValue(){return this.param.minValue}get value(){return this.param.value}set value(e){this.param.value=e}cancelAndHoldAtTime(e){return this.param.cancelAndHoldAtTime(e),this}cancelScheduledValues(e){return this.param.cancelScheduledValues(e),this}exponentialRampToValueAtTime(e,t){return this.param.exponentialRampToValueAtTime(e,t),this}linearRampToValueAtTime(e,t){return this.param.linearRampToValueAtTime(e,t),this}setTargetAtTime(e,t,r){return this.param.setTargetAtTime(e,t,r),this}setValueAtTime(e,t){return this.param.setValueAtTime(e,t),this}setValueCurveAtTime(e,t,r){return this.param.setValueCurveAtTime(e,t,r),this}_resolveInput(){return{destination:this.param}}resolveInput(){return this._resolveInput()}};var rr=class extends Ae{constructor(e,t){super("audio-buffer-source",e,new AudioBufferSourceNode(e,t)),this._node.addEventListener("ended",()=>this.dispatchEvent(new we("ended"))),this.parent(this.playbackRate=new ke("playbackRate",e,this._node.playbackRate)),this.parent(this.detune=new ke("detune",e,this._node.detune))}get buffer(){return this._node.buffer}set buffer(e){this._node.buffer=e}get loop(){return this._node.loop}set loop(e){this._node.loop=e}get loopEnd(){return this._node.loopEnd}set loopEnd(e){this._node.loopEnd=e}get loopStart(){return this._node.loopStart}set loopStart(e){this._node.loopStart=e}get onended(){return this._node.onended}set onended(e){this._node.onended=e}start(e,t,r){this._node.start(e,t,r)}stop(e){this._node.stop(e)}};var ir=class extends Ae{constructor(e,t){super("destination",e,t)}get maxChannelCount(){return this._node.maxChannelCount}};var $t=class extends Ae{constructor(e,t){super("biquad-filter",e,new BiquadFilterNode(e,t)),this.parent(this.Q=new ke("Q",this.context,this._node.Q)),this.parent(this.detune=new ke("detune",this.context,this._node.detune)),this.parent(this.frequency=new ke("frequency",this.context,this._node.frequency)),this.parent(this.gain=new ke("gain",this.context,this._node.gain))}get type(){return this._node.type}set type(e){this._node.type=e}getFrequencyResponse(e,t,r){this._node.getFrequencyResponse(e,t,r)}};var sr=class extends Ae{constructor(e,t){super("channel-merger",e,new ChannelMergerNode(e,t))}};var ar=class extends Ae{constructor(e,t){super("channel-splitter",e,new ChannelSplitterNode(e,t))}};var lr=class extends Ae{constructor(e,t){super("constant-source",e,new ConstantSourceNode(e,t)),this._node.addEventListener("ended",()=>this.dispatchEvent(new we("ended"))),this.parent(this.offset=new ke("offset",this.context,this._node.offset))}get onended(){return this._node.onended}set onended(e){this._node.onended=e}start(e){this._node.start(e)}stop(e){this._node.stop(e)}};var cr=class extends Ae{constructor(e,t){super("convolver",e,new ConvolverNode(e,t))}get buffer(){return this._node.buffer}set buffer(e){this._node.buffer=e}get normalize(){return this._node.normalize}set normalize(e){this._node.normalize=e}};var ur=class extends Ae{constructor(e,t){super("delay",e,new DelayNode(e,t)),this.parent(this.delayTime=new ke("delay",this.context,this._node.delayTime))}};var pr=class extends Ae{constructor(e,t){super("dynamics-compressor",e,new DynamicsCompressorNode(e,t)),this.parent(this.attack=new ke("attack",this.context,this._node.attack)),this.parent(this.knee=new ke("knee",this.context,this._node.knee)),this.parent(this.ratio=new ke("ratio",this.context,this._node.ratio)),this.parent(this.release=new ke("release",this.context,this._node.release)),this.parent(this.threshold=new ke("threshold",this.context,this._node.threshold))}get reduction(){return this._node.reduction}};var Nt=class extends Ae{constructor(e,t){super("gain",e,new GainNode(e,t)),this.parent(this.gain=new ke("gain",this.context,this._node.gain))}};var dr=class extends Ae{constructor(e,t){super("iir-filter",e,new IIRFilterNode(e,t))}getFrequencyResponse(e,t,r){this._node.getFrequencyResponse(e,t,r)}};var Lt=class extends Ae{constructor(e,t){super("media-element-audio-source",e,new MediaElementAudioSourceNode(e,t))}get mediaElement(){return this._node.mediaElement}};var fo=class extends Ae{constructor(e,t){super("media-stream-audio-destination",e,new MediaStreamAudioDestinationNode(e,t))}get stream(){return this._node.stream}};function at(o){return o}function hr(){return!0}function mr(){return!1}var Bu="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZ";function wt(o,e){if(o<0)throw new Error("Length must be greater than 0");le(e)&&(e=Bu);let t="";for(let r=0;r<o;++r){let i=Math.floor(Math.random()*e.length);t+=e[i]}return t}var ba=new Map,Ln=class{constructor(e,t,r,...i){this.key=e,this.value=t,this.bySetAttribute=r,this.tags=i.map(s=>s.toLocaleUpperCase()),Object.freeze(this)}applyToElement(e){if(this.tags.length>0&&this.tags.indexOf(e.tagName)===-1){let t=ba.get(e.tagName);t||ba.set(e.tagName,t=new Set),t.has(this.key)||(t.add(this.key),console.warn(`Element ${e.tagName} does not support Attribute ${this.key}`))}this.bySetAttribute?e.setAttribute(this.key,this.value.toString()):this.key in e?e[this.key]=this.value:this.value===!1?e.removeAttribute(this.key):this.value===!0?e.setAttribute(this.key,""):ye(this.value)?this.value(e):e.setAttribute(this.key,this.value.toString())}};function ve(o,e,t,...r){return new Ln(o,e,t,...r)}function xo(o){return o instanceof Ln}function ya(o){return ve("ariaValueMax",o,!1)}function Ea(o){return ve("ariaValueMin",o,!1)}function Da(o){return ve("ariaValueNow",o,!1)}function gr(o){return ve("autocomplete",o,!1,"form","input","select","textarea")}function an(o){return ve("autoplay",o,!1,"audio","video")}function Ht(o){return ve("className",o,!1)}function ge(...o){return o=o.filter(at),ve("CLASS_LIST",e=>e.classList.add(...o),!1)}function qi(o){return ve("colspan",o,!1,"td","th")}function _t(o){return ve("controls",o,!1,"audio","video")}function At(o,e){return ve("data-"+o.toLowerCase(),e,!0)}function Ma(o){return ve("disabled",o,!1,"button","command","fieldset","input","keygen","optgroup","option","select","textarea")}function Ca(o){return ve("height",o,!1,"canvas","embed","iframe","img","input","object","video")}function La(o){return ve("hidden",o,!1)}function Ba(o){return o instanceof Blob&&(o=URL.createObjectURL(o)),ve("href",Wa(o),!1,"a","area","base","link")}function Ke(o){return ve("id",o,!1)}function Pa(o){return ve("is",o,!1)}function fr(o){return o instanceof HTMLDataListElement&&(le(o.id)&&(o.id=wt(12)),o.isConnected||document.body.append(o),o=o.id),ve("list",o,!0,"input")}function ln(o){return ve("loop",o,!1,"audio","bgsound","marquee","video")}function Ra(o){return ve("multiple",o,!1,"input","select")}function Va(o){return ve("muted",o,!1,"audio","video")}function Bn(o){return ve("name",o,!1,"button","form","fieldset","iframe","input","keygen","map","meta","object","output","param","select","slot","textarea")}function cn(o){return ve("placeholder",o,!1,"input","textarea")}function Pn(o,e){let t=null;fe(o)?(t=document,e=o):t=o;let r=t.querySelectorAll(e);return Array.from(r)}function xr(o){return ve("rel",o,!1,"a","area","link")}function Kt(o){return ve("required",o,!1,"input","select","textarea")}function Ia(o){return ve("role",o,!1)}function Wa(o){return o instanceof URL&&(o=o.href),o}function Bt(o){return ve("src",Wa(o),!1,"audio","embed","iframe","img","input","script","source","track","video")}function Ji(o){return ve("srcObject",o,!1,"audio","video")}function Oa(o){return ve("tabindex",o,!1)}function Rn(o){return ve("title",o,!1)}function Et(o){return fe(o)||(o=o.value),ve("type",o,!1,"button","input","command","embed","link","object","script","source","style","menu")}function St(o){return ve("value",o,!1,"button","data","input","li","meter","option","progress","param")}function Na(o){return ve("width",o,!1,"canvas","embed","iframe","img","input","object","video")}function Ha(o){return ve("wrap",o,!1,"textarea")}function ja(o){return`${o}%`}function Fr(o){return`${o}em`}function kt(o){return`${o}px`}function wr(...o){return`rgb(${o.join(", ")})`}var $i=class{constructor(e){this._value=e}get value(){return this._value}toString(){return this.value}};var Ki=class extends $i{constructor(e,t,r){super(r),this._name=e,this.sep=t}get name(){return this._name}toString(){return this.name+this.sep+this.value+";"}};var Yi=class extends Ki{constructor(e,t){super(e,": ",t)}},Pt=class extends Yi{constructor(e,t){super(e.replace(/[A-Z]/g,r=>`-${r.toLocaleLowerCase()}`),t.toString()),this.key=e,this.priority=""}applyToElement(e){e.style[this.key]=this.value+this.priority}important(){return this.priority=" !important",this}get value(){return super.value+this.priority}};function Qi(o){return o instanceof Pt}function _r(o){return new Pt("cursor",o)}function ht(o){return new Pt("display",o)}function Xa(o){return new Pt("gridAutoFlow",o)}function Ua(o){return new Pt("minWidth",o)}function Ar(o){return new Pt("opacity",o)}function za(...o){return new Pt("padding",o.join(" "))}function Fo(o){return new Pt("width",o)}function Ga(o,e){return"on"+e in o}function Ue(o,e,t,...r){le(r)&&(r=[]);let i;if(fe(t)?r.unshift(t):Ie(t)&&(i=t),!(o instanceof Mn)){if(!Ga(o,e))throw new Error(`Target does not have a ${e} rejection event`);for(let u of r)if(!Ga(o,u))throw new Error(`Target does not have a ${u} rejection event`)}let s=new De;if(Ie(i)){let u=setTimeout(s.reject,i,`'${e}' has timed out.`);s.finally(clearTimeout.bind(globalThis,u))}let l=(u,a)=>{o.addEventListener(u,a),s.finally(()=>o.removeEventListener(u,a))};l(e,u=>s.resolve(u));let d=u=>s.reject(u);for(let u of r)l(u,d);return s}function Dt(o){return o.then(hr).catch(mr)}var es={};st(es,{Application_A2L:()=>Ru,Application_AML:()=>Ju,Application_ATF:()=>Qu,Application_ATFX:()=>Zu,Application_ATXML:()=>cp,Application_Activemessage:()=>Vu,Application_Alto_CostmapJson:()=>Ou,Application_Alto_CostmapfilterJson:()=>Wu,Application_Alto_DirectoryJson:()=>Nu,Application_Alto_EndpointcostJson:()=>Hu,Application_Alto_EndpointcostparamsJson:()=>ju,Application_Alto_EndpointpropJson:()=>Xu,Application_Alto_EndpointpropparamsJson:()=>Uu,Application_Alto_ErrorJson:()=>zu,Application_Alto_NetworkmapJson:()=>qu,Application_Alto_NetworkmapfilterJson:()=>Gu,Application_Andrew_Inset:()=>$u,Application_Applefile:()=>Ku,Application_Applixware:()=>Yu,Application_AtomXml:()=>rp,Application_AtomcatXml:()=>ep,Application_AtomdeletedXml:()=>tp,Application_Atomicmail:()=>np,Application_AtomsvcXml:()=>op,Application_Atsc_DwdXml:()=>ip,Application_Atsc_HeldXml:()=>sp,Application_Atsc_RdtJson:()=>ap,Application_Atsc_RsatXml:()=>lp,Application_Auth_PolicyXml:()=>up,Application_Bacnet_XddZip:()=>pp,Application_Batch_SMTP:()=>dp,Application_Bdoc:()=>hp,Application_BeepXml:()=>mp,Application_CALS_1840:()=>Fp,Application_CDFXXML:()=>vp,Application_CEA:()=>Cp,Application_CSTAdataXml:()=>Jp,Application_CalendarJson:()=>gp,Application_CalendarXml:()=>fp,Application_Call_Completion:()=>xp,Application_Cbor:()=>wp,Application_Cbor_Seq:()=>_p,Application_Cccex:()=>Ap,Application_CcmpXml:()=>Sp,Application_CcxmlXml:()=>kp,Application_Cdmi_Capability:()=>Tp,Application_Cdmi_Container:()=>bp,Application_Cdmi_Domain:()=>yp,Application_Cdmi_Object:()=>Ep,Application_Cdmi_Queue:()=>Dp,Application_Cdni:()=>Mp,Application_Cea_2018Xml:()=>Lp,Application_CellmlXml:()=>Bp,Application_Cfw:()=>Pp,Application_ClueXml:()=>Vp,Application_Clue_infoXml:()=>Rp,Application_Cms:()=>Ip,Application_CnrpXml:()=>Wp,Application_Coap_GroupJson:()=>Op,Application_Coap_Payload:()=>Np,Application_Commonground:()=>Hp,Application_Conference_InfoXml:()=>jp,Application_Cose:()=>Xp,Application_Cose_Key:()=>Up,Application_Cose_Key_Set:()=>zp,Application_CplXml:()=>Gp,Application_Csrattrs:()=>qp,Application_CstaXml:()=>$p,Application_CsvmJson:()=>Kp,Application_Cu_Seeme:()=>Yp,Application_Cwt:()=>Qp,Application_Cybercash:()=>Zp,Application_DCD:()=>id,Application_DII:()=>pd,Application_DIT:()=>dd,Application_Dart:()=>ed,Application_DashXml:()=>nd,Application_Dashdelta:()=>td,Application_DavmountXml:()=>od,Application_Dca_Rft:()=>rd,Application_Dec_Dx:()=>sd,Application_Dialog_InfoXml:()=>ad,Application_Dicom:()=>ld,Application_DicomJson:()=>cd,Application_DicomXml:()=>ud,Application_Dns:()=>hd,Application_DnsJson:()=>gd,Application_Dns_Message:()=>md,Application_DocbookXml:()=>fd,Application_DotsCbor:()=>xd,Application_DskppXml:()=>Fd,Application_DsscDer:()=>wd,Application_DsscXml:()=>_d,Application_Dvcs:()=>Ad,Application_EDIFACT:()=>Td,Application_EDI_Consent:()=>kd,Application_EDI_X12:()=>vd,Application_Ecmascript:()=>Sd,Application_Efi:()=>bd,Application_EmergencyCallDataCommentXml:()=>yd,Application_EmergencyCallDataControlXml:()=>Ed,Application_EmergencyCallDataDeviceInfoXml:()=>Dd,Application_EmergencyCallDataECallMSD:()=>Md,Application_EmergencyCallDataProviderInfoXml:()=>Cd,Application_EmergencyCallDataServiceInfoXml:()=>Ld,Application_EmergencyCallDataSubscriberInfoXml:()=>Bd,Application_EmergencyCallDataVEDSXml:()=>Pd,Application_EmmaXml:()=>Rd,Application_EmotionmlXml:()=>Vd,Application_Encaprtp:()=>Id,Application_EppXml:()=>Wd,Application_EpubZip:()=>Od,Application_Eshop:()=>Nd,Application_Example:()=>Hd,Application_Exi:()=>jd,Application_Expect_Ct_ReportJson:()=>Xd,Application_Fastinfoset:()=>Ud,Application_Fastsoap:()=>zd,Application_FdtXml:()=>Gd,Application_FhirJson:()=>qd,Application_FhirXml:()=>Jd,Application_Fido_TrustedAppsJson:()=>$d,Application_Fits:()=>Kd,Application_Flexfec:()=>Yd,Application_Font_Sfnt:()=>Qd,Application_Font_Tdpfr:()=>Zd,Application_Font_Woff:()=>eh,Application_Framework_AttributesXml:()=>th,Application_GeoJson:()=>nh,Application_GeoJson_Seq:()=>oh,Application_GeopackageSqlite3:()=>rh,Application_GeoxacmlXml:()=>ih,Application_Gltf_Buffer:()=>sh,Application_GmlXml:()=>ah,Application_GpxXml:()=>lh,Application_Gxf:()=>ch,Application_Gzip:()=>uh,Application_H224:()=>ph,Application_HeldXml:()=>dh,Application_Hjson:()=>hh,Application_Http:()=>mh,Application_Hyperstudio:()=>gh,Application_IOTP:()=>yh,Application_ISUP:()=>Mh,Application_Ibe_Key_RequestXml:()=>fh,Application_Ibe_Pkg_ReplyXml:()=>xh,Application_Ibe_Pp_Data:()=>Fh,Application_Iges:()=>wh,Application_Im_IscomposingXml:()=>_h,Application_Index:()=>Ah,Application_IndexCmd:()=>Sh,Application_IndexObj:()=>kh,Application_IndexResponse:()=>vh,Application_IndexVnd:()=>Th,Application_InkmlXml:()=>bh,Application_Ipfix:()=>Eh,Application_Ipp:()=>Dh,Application_ItsXml:()=>Ch,Application_Java_Archive:()=>Lh,Application_Java_Serialized_Object:()=>Bh,Application_Java_Vm:()=>Ph,Application_Javascript:()=>jt,Application_Jf2feedJson:()=>Rh,Application_Jose:()=>Vh,Application_JoseJson:()=>Ih,Application_JrdJson:()=>Wh,Application_Json:()=>In,Application_Json5:()=>Oh,Application_JsonUTF8:()=>pn,Application_Json_PatchJson:()=>Nh,Application_Json_Seq:()=>Hh,Application_JsonmlJson:()=>jh,Application_JwkJson:()=>Uh,Application_Jwk_SetJson:()=>Xh,Application_Jwt:()=>zh,Application_Kpml_RequestXml:()=>Gh,Application_Kpml_ResponseXml:()=>qh,Application_LXF:()=>em,Application_LdJson:()=>Jh,Application_LgrXml:()=>$h,Application_Link_Format:()=>Kh,Application_Load_ControlXml:()=>Yh,Application_LostXml:()=>Zh,Application_LostsyncXml:()=>Qh,Application_MF4:()=>Cm,Application_Mac_Binhex40:()=>tm,Application_Mac_Compactpro:()=>nm,Application_Macwriteii:()=>om,Application_MadsXml:()=>rm,Application_ManifestJson:()=>im,Application_Marc:()=>sm,Application_MarcxmlXml:()=>am,Application_Mathematica:()=>lm,Application_MathmlXml:()=>pm,Application_Mathml_ContentXml:()=>cm,Application_Mathml_PresentationXml:()=>um,Application_Mbms_Associated_Procedure_DescriptionXml:()=>dm,Application_Mbms_DeregisterXml:()=>hm,Application_Mbms_EnvelopeXml:()=>mm,Application_Mbms_MskXml:()=>fm,Application_Mbms_Msk_ResponseXml:()=>gm,Application_Mbms_Protection_DescriptionXml:()=>xm,Application_Mbms_Reception_ReportXml:()=>Fm,Application_Mbms_RegisterXml:()=>_m,Application_Mbms_Register_ResponseXml:()=>wm,Application_Mbms_ScheduleXml:()=>Am,Application_Mbms_User_Service_DescriptionXml:()=>Sm,Application_Mbox:()=>km,Application_Media_Policy_DatasetXml:()=>Tm,Application_Media_controlXml:()=>vm,Application_MediaservercontrolXml:()=>bm,Application_Merge_PatchJson:()=>ym,Application_Metalink4Xml:()=>Em,Application_MetalinkXml:()=>Dm,Application_MetsXml:()=>Mm,Application_Mikey:()=>Lm,Application_Mipc:()=>Bm,Application_Mmt_AeiXml:()=>Pm,Application_Mmt_UsdXml:()=>Rm,Application_ModsXml:()=>Vm,Application_Moss_Keys:()=>Im,Application_Moss_Signature:()=>Wm,Application_Mosskey_Data:()=>Om,Application_Mosskey_Request:()=>Nm,Application_Mp21:()=>Hm,Application_Mp4:()=>jm,Application_Mpeg4_Generic:()=>Xm,Application_Mpeg4_Iod:()=>Um,Application_Mpeg4_Iod_Xmt:()=>zm,Application_Mrb_ConsumerXml:()=>Gm,Application_Mrb_PublishXml:()=>qm,Application_Msc_IvrXml:()=>Jm,Application_Msc_MixerXml:()=>$m,Application_Msword:()=>Km,Application_MudJson:()=>Ym,Application_Multipart_Core:()=>Qm,Application_Mxf:()=>Zm,Application_N_Quads:()=>eg,Application_N_Triples:()=>tg,Application_Nasdata:()=>ng,Application_News_Checkgroups:()=>og,Application_News_Groupinfo:()=>rg,Application_News_Transmission:()=>ig,Application_NlsmlXml:()=>sg,Application_Node:()=>ag,Application_Nss:()=>lg,Application_ODA:()=>dg,Application_ODX:()=>mg,Application_Ocsp_Request:()=>cg,Application_Ocsp_Response:()=>ug,Application_Octet_Stream:()=>pg,Application_OdmXml:()=>hg,Application_Oebps_PackageXml:()=>gg,Application_Ogg:()=>fg,Application_OmdocXml:()=>xg,Application_Onenote:()=>Fg,Application_Oscore:()=>wg,Application_Oxps:()=>_g,Application_P2p_OverlayXml:()=>Ag,Application_PDX:()=>Tg,Application_Parityfec:()=>Sg,Application_Passport:()=>kg,Application_Patch_Ops_ErrorXml:()=>vg,Application_Pdf:()=>Zi,Application_Pem_Certificate_Chain:()=>bg,Application_Pgp_Encrypted:()=>yg,Application_Pgp_Keys:()=>Eg,Application_Pgp_Signature:()=>Dg,Application_Pics_Rules:()=>Mg,Application_PidfXml:()=>Lg,Application_Pidf_DiffXml:()=>Cg,Application_Pkcs10:()=>Bg,Application_Pkcs12:()=>Pg,Application_Pkcs7_Mime:()=>Rg,Application_Pkcs7_Signature:()=>Vg,Application_Pkcs8:()=>Ig,Application_Pkcs8_Encrypted:()=>Wg,Application_Pkix_Attr_Cert:()=>Og,Application_Pkix_Cert:()=>Ng,Application_Pkix_Crl:()=>Hg,Application_Pkix_Pkipath:()=>jg,Application_Pkixcmp:()=>Xg,Application_PlsXml:()=>Ug,Application_Poc_SettingsXml:()=>zg,Application_Postscript:()=>Gg,Application_Ppsp_TrackerJson:()=>qg,Application_ProblemJson:()=>Jg,Application_ProblemXml:()=>$g,Application_ProvenanceXml:()=>Kg,Application_PrsAlvestrandTitrax_Sheet:()=>Yg,Application_PrsCww:()=>Qg,Application_PrsHpubZip:()=>Zg,Application_PrsNprend:()=>ef,Application_PrsPlucker:()=>tf,Application_PrsRdf_Xml_Crypt:()=>nf,Application_PrsXsfXml:()=>of,Application_PskcXml:()=>rf,Application_QSIG:()=>sf,Application_RamlYaml:()=>af,Application_Raptorfec:()=>lf,Application_RdapJson:()=>cf,Application_RdfXml:()=>uf,Application_ReginfoXml:()=>pf,Application_Relax_Ng_Compact_Syntax:()=>df,Application_Remote_Printing:()=>hf,Application_ReputonJson:()=>mf,Application_Resource_ListsXml:()=>ff,Application_Resource_Lists_DiffXml:()=>gf,Application_RfcXml:()=>xf,Application_Riscos:()=>Ff,Application_RlmiXml:()=>wf,Application_Rls_ServicesXml:()=>_f,Application_Route_ApdXml:()=>Af,Application_Route_S_TsidXml:()=>Sf,Application_Route_UsdXml:()=>kf,Application_Rpki_Ghostbusters:()=>vf,Application_Rpki_Manifest:()=>Tf,Application_Rpki_Publication:()=>bf,Application_Rpki_Roa:()=>yf,Application_Rpki_Updown:()=>Ef,Application_RsdXml:()=>Df,Application_RssXml:()=>Mf,Application_Rtf:()=>Cf,Application_Rtploopback:()=>Lf,Application_Rtx:()=>Bf,Application_SGML:()=>sx,Application_SamlassertionXml:()=>Pf,Application_SamlmetadataXml:()=>Rf,Application_SbmlXml:()=>Vf,Application_ScaipXml:()=>If,Application_ScenarioJson:()=>Iu,Application_ScimJson:()=>Wf,Application_Scvp_Cv_Request:()=>Of,Application_Scvp_Cv_Response:()=>Nf,Application_Scvp_Vp_Request:()=>Hf,Application_Scvp_Vp_Response:()=>jf,Application_Sdp:()=>Xf,Application_SeceventJwt:()=>Uf,Application_SenmlCbor:()=>Gf,Application_SenmlJson:()=>qf,Application_SenmlXml:()=>Jf,Application_Senml_Exi:()=>zf,Application_SensmlCbor:()=>Kf,Application_SensmlJson:()=>Yf,Application_SensmlXml:()=>Qf,Application_Sensml_Exi:()=>$f,Application_SepXml:()=>ex,Application_Sep_Exi:()=>Zf,Application_Session_Info:()=>tx,Application_Set_Payment:()=>nx,Application_Set_Payment_Initiation:()=>ox,Application_Set_Registration:()=>rx,Application_Set_Registration_Initiation:()=>ix,Application_Sgml_Open_Catalog:()=>ax,Application_ShfXml:()=>lx,Application_Sieve:()=>cx,Application_SimpleSymbolContainer:()=>dx,Application_Simple_FilterXml:()=>ux,Application_Simple_Message_Summary:()=>px,Application_Sipc:()=>hx,Application_Slate:()=>mx,Application_Smil:()=>gx,Application_SmilXml:()=>fx,Application_Smpte336m:()=>xx,Application_SoapFastinfoset:()=>Fx,Application_SoapXml:()=>wx,Application_Sparql_Query:()=>_x,Application_Sparql_ResultsXml:()=>Ax,Application_Spirits_EventXml:()=>Sx,Application_Sql:()=>kx,Application_Srgs:()=>vx,Application_SrgsXml:()=>Tx,Application_SruXml:()=>bx,Application_SsdlXml:()=>yx,Application_SsmlXml:()=>Ex,Application_StixJson:()=>Dx,Application_SwidXml:()=>Mx,Application_TETRA_ISI:()=>zx,Application_Tamp_Apex_Update:()=>Cx,Application_Tamp_Apex_Update_Confirm:()=>Lx,Application_Tamp_Community_Update:()=>Bx,Application_Tamp_Community_Update_Confirm:()=>Px,Application_Tamp_Error:()=>Rx,Application_Tamp_Sequence_Adjust:()=>Vx,Application_Tamp_Sequence_Adjust_Confirm:()=>Ix,Application_Tamp_Status_Query:()=>Wx,Application_Tamp_Status_Response:()=>Ox,Application_Tamp_Update:()=>Nx,Application_Tamp_Update_Confirm:()=>Hx,Application_Tar:()=>jx,Application_TaxiiJson:()=>Xx,Application_TeiXml:()=>Ux,Application_ThraudXml:()=>Gx,Application_Timestamp_Query:()=>qx,Application_Timestamp_Reply:()=>Jx,Application_Timestamped_Data:()=>$x,Application_TlsrptGzip:()=>Kx,Application_TlsrptJson:()=>Yx,Application_Tnauthlist:()=>Qx,Application_Toml:()=>Zx,Application_Trickle_Ice_Sdpfrag:()=>eF,Application_Trig:()=>tF,Application_TtmlXml:()=>nF,Application_Tve_Trigger:()=>oF,Application_Tzif:()=>rF,Application_Tzif_Leap:()=>iF,Application_Ubjson:()=>sF,Application_Ulpfec:()=>aF,Application_Urc_GrpsheetXml:()=>lF,Application_Urc_RessheetXml:()=>cF,Application_Urc_TargetdescXml:()=>uF,Application_Urc_UisocketdescXml:()=>pF,Application_VcardJson:()=>dF,Application_VcardXml:()=>hF,Application_Vemmi:()=>mF,Application_Vendor_1000mindsDecision_ModelXml:()=>gF,Application_Vendor_1d_Interleaved_Parityfec:()=>fF,Application_Vendor_3MPost_It_Notes:()=>dw,Application_Vendor_3gpdash_Qoe_ReportXml:()=>xF,Application_Vendor_3gpp2BcmcsinfoXml:()=>SF,Application_Vendor_3gpp2Sms:()=>kF,Application_Vendor_3gpp2Tcap:()=>vF,Application_Vendor_3gppAccess_Transfer_EventsXml:()=>TF,Application_Vendor_3gppBsfXml:()=>bF,Application_Vendor_3gppGMOPXml:()=>yF,Application_Vendor_3gppMc_Signalling_Ear:()=>EF,Application_Vendor_3gppMcdata_Affiliation_CommandXml:()=>DF,Application_Vendor_3gppMcdata_InfoXml:()=>MF,Application_Vendor_3gppMcdata_Payload:()=>CF,Application_Vendor_3gppMcdata_Service_ConfigXml:()=>LF,Application_Vendor_3gppMcdata_Signalling:()=>BF,Application_Vendor_3gppMcdata_Ue_ConfigXml:()=>PF,Application_Vendor_3gppMcdata_User_ProfileXml:()=>RF,Application_Vendor_3gppMcptt_Affiliation_CommandXml:()=>VF,Application_Vendor_3gppMcptt_Floor_RequestXml:()=>IF,Application_Vendor_3gppMcptt_InfoXml:()=>WF,Application_Vendor_3gppMcptt_Location_InfoXml:()=>OF,Application_Vendor_3gppMcptt_Mbms_Usage_InfoXml:()=>NF,Application_Vendor_3gppMcptt_Service_ConfigXml:()=>HF,Application_Vendor_3gppMcptt_SignedXml:()=>jF,Application_Vendor_3gppMcptt_Ue_ConfigXml:()=>XF,Application_Vendor_3gppMcptt_Ue_Init_ConfigXml:()=>UF,Application_Vendor_3gppMcptt_User_ProfileXml:()=>zF,Application_Vendor_3gppMcvideo_Affiliation_CommandXml:()=>GF,Application_Vendor_3gppMcvideo_Affiliation_InfoXml:()=>qF,Application_Vendor_3gppMcvideo_InfoXml:()=>JF,Application_Vendor_3gppMcvideo_Location_InfoXml:()=>$F,Application_Vendor_3gppMcvideo_Mbms_Usage_InfoXml:()=>KF,Application_Vendor_3gppMcvideo_Service_ConfigXml:()=>YF,Application_Vendor_3gppMcvideo_Transmission_RequestXml:()=>QF,Application_Vendor_3gppMcvideo_Ue_ConfigXml:()=>ZF,Application_Vendor_3gppMcvideo_User_ProfileXml:()=>ew,Application_Vendor_3gppMid_CallXml:()=>tw,Application_Vendor_3gppPic_Bw_Large:()=>nw,Application_Vendor_3gppPic_Bw_Small:()=>ow,Application_Vendor_3gppPic_Bw_Var:()=>rw,Application_Vendor_3gppSRVCC_InfoXml:()=>lw,Application_Vendor_3gppSms:()=>iw,Application_Vendor_3gppSmsXml:()=>sw,Application_Vendor_3gppSrvcc_ExtXml:()=>aw,Application_Vendor_3gppState_And_Event_InfoXml:()=>cw,Application_Vendor_3gppUssdXml:()=>uw,Application_Vendor_3gpp_ImsXml:()=>FF,Application_Vendor_3gpp_ProseXml:()=>_F,Application_Vendor_3gpp_Prose_Pc3chXml:()=>wF,Application_Vendor_3gpp_V2x_Local_Service_Information:()=>AF,Application_Vendor_3lightssoftwareImagescal:()=>pw,Application_Vendor_AccpacSimplyAso:()=>hw,Application_Vendor_AccpacSimplyImp:()=>mw,Application_Vendor_Acucobol:()=>gw,Application_Vendor_Acucorp:()=>fw,Application_Vendor_AdobeAir_Application_Installer_PackageZip:()=>xw,Application_Vendor_AdobeFlashMovie:()=>Fw,Application_Vendor_AdobeFormscentralFcdt:()=>ww,Application_Vendor_AdobeFxp:()=>_w,Application_Vendor_AdobePartial_Upload:()=>Aw,Application_Vendor_AdobeXdpXml:()=>Sw,Application_Vendor_AdobeXfdf:()=>kw,Application_Vendor_AetherImp:()=>vw,Application_Vendor_AfpcAfplinedata:()=>Tw,Application_Vendor_AfpcAfplinedata_Pagedef:()=>bw,Application_Vendor_AfpcFoca_Charset:()=>yw,Application_Vendor_AfpcFoca_Codedfont:()=>Ew,Application_Vendor_AfpcFoca_Codepage:()=>Dw,Application_Vendor_AfpcModca:()=>Mw,Application_Vendor_AfpcModca_Formdef:()=>Cw,Application_Vendor_AfpcModca_Mediummap:()=>Lw,Application_Vendor_AfpcModca_Objectcontainer:()=>Bw,Application_Vendor_AfpcModca_Overlay:()=>Pw,Application_Vendor_AfpcModca_Pagesegment:()=>Rw,Application_Vendor_Ah_Barcode:()=>Vw,Application_Vendor_AheadSpace:()=>Iw,Application_Vendor_AirzipFilesecureAzf:()=>Ww,Application_Vendor_AirzipFilesecureAzs:()=>Ow,Application_Vendor_AmadeusJson:()=>Nw,Application_Vendor_AmazonEbook:()=>Hw,Application_Vendor_AmazonMobi8_Ebook:()=>jw,Application_Vendor_AmericandynamicsAcc:()=>Xw,Application_Vendor_AmigaAmi:()=>Uw,Application_Vendor_AmundsenMazeXml:()=>zw,Application_Vendor_AndroidOta:()=>Gw,Application_Vendor_AndroidPackage_Archive:()=>qw,Application_Vendor_Anki:()=>Jw,Application_Vendor_Anser_Web_Certificate_Issue_Initiation:()=>$w,Application_Vendor_Anser_Web_Funds_Transfer_Initiation:()=>Kw,Application_Vendor_AntixGame_Component:()=>Yw,Application_Vendor_ApacheThriftBinary:()=>Qw,Application_Vendor_ApacheThriftCompact:()=>Zw,Application_Vendor_ApacheThriftJson:()=>e_,Application_Vendor_ApiJson:()=>t_,Application_Vendor_AplextorWarrpJson:()=>n_,Application_Vendor_ApothekendeReservationJson:()=>o_,Application_Vendor_AppleInstallerXml:()=>r_,Application_Vendor_AppleKeynote:()=>i_,Application_Vendor_AppleMpegurl:()=>s_,Application_Vendor_AppleNumbers:()=>a_,Application_Vendor_ApplePages:()=>l_,Application_Vendor_ApplePkpass:()=>c_,Application_Vendor_ArastraSwi:()=>u_,Application_Vendor_AristanetworksSwi:()=>p_,Application_Vendor_ArtisanJson:()=>d_,Application_Vendor_Artsquare:()=>h_,Application_Vendor_Astraea_SoftwareIota:()=>m_,Application_Vendor_Audiograph:()=>g_,Application_Vendor_Autopackage:()=>f_,Application_Vendor_AvalonJson:()=>x_,Application_Vendor_AvistarXml:()=>F_,Application_Vendor_BalsamiqBmmlXml:()=>w_,Application_Vendor_BalsamiqBmpr:()=>__,Application_Vendor_Banana_Accounting:()=>A_,Application_Vendor_BbfUspError:()=>S_,Application_Vendor_BbfUspMsg:()=>k_,Application_Vendor_BbfUspMsgJson:()=>v_,Application_Vendor_Bekitzur_StechJson:()=>T_,Application_Vendor_BintMed_Content:()=>b_,Application_Vendor_BiopaxRdfXml:()=>y_,Application_Vendor_Blink_Idb_Value_Wrapper:()=>E_,Application_Vendor_BlueiceMultipass:()=>D_,Application_Vendor_BluetoothEpOob:()=>M_,Application_Vendor_BluetoothLeOob:()=>C_,Application_Vendor_Bmi:()=>L_,Application_Vendor_Bpf:()=>B_,Application_Vendor_Bpf3:()=>P_,Application_Vendor_Businessobjects:()=>R_,Application_Vendor_ByuUapiJson:()=>V_,Application_Vendor_Cab_Jscript:()=>I_,Application_Vendor_Canon_Cpdl:()=>W_,Application_Vendor_Canon_Lips:()=>O_,Application_Vendor_Capasystems_PgJson:()=>N_,Application_Vendor_CendioThinlincClientconf:()=>H_,Application_Vendor_Century_SystemsTcp_stream:()=>j_,Application_Vendor_ChemdrawXml:()=>X_,Application_Vendor_Chess_Pgn:()=>U_,Application_Vendor_ChipnutsKaraoke_Mmd:()=>z_,Application_Vendor_Ciedi:()=>G_,Application_Vendor_Cinderella:()=>q_,Application_Vendor_CirpackIsdn_Ext:()=>J_,Application_Vendor_CitationstylesStyleXml:()=>$_,Application_Vendor_Claymore:()=>K_,Application_Vendor_CloantoRp9:()=>Y_,Application_Vendor_ClonkC4group:()=>Q_,Application_Vendor_CluetrustCartomobile_Config:()=>Z_,Application_Vendor_CluetrustCartomobile_Config_Pkg:()=>e1,Application_Vendor_Coffeescript:()=>t1,Application_Vendor_CollabioXodocumentsDocument:()=>n1,Application_Vendor_CollabioXodocumentsDocument_Template:()=>o1,Application_Vendor_CollabioXodocumentsPresentation:()=>r1,Application_Vendor_CollabioXodocumentsPresentation_Template:()=>i1,Application_Vendor_CollabioXodocumentsSpreadsheet:()=>s1,Application_Vendor_CollabioXodocumentsSpreadsheet_Template:()=>a1,Application_Vendor_CollectionDocJson:()=>l1,Application_Vendor_CollectionJson:()=>c1,Application_Vendor_CollectionNextJson:()=>u1,Application_Vendor_ComicbookZip:()=>d1,Application_Vendor_Comicbook_Rar:()=>p1,Application_Vendor_Commerce_Battelle:()=>h1,Application_Vendor_Commonspace:()=>m1,Application_Vendor_ContactCmsg:()=>g1,Application_Vendor_CoreosIgnitionJson:()=>f1,Application_Vendor_Cosmocaller:()=>x1,Application_Vendor_CrickClicker:()=>F1,Application_Vendor_CrickClickerKeyboard:()=>w1,Application_Vendor_CrickClickerPalette:()=>_1,Application_Vendor_CrickClickerTemplate:()=>A1,Application_Vendor_CrickClickerWordbank:()=>S1,Application_Vendor_CriticaltoolsWbsXml:()=>k1,Application_Vendor_CryptiiPipeJson:()=>v1,Application_Vendor_Crypto_Shade_File:()=>T1,Application_Vendor_Ctc_Posml:()=>b1,Application_Vendor_CtctWsXml:()=>y1,Application_Vendor_Cups_Pdf:()=>E1,Application_Vendor_Cups_Postscript:()=>D1,Application_Vendor_Cups_Ppd:()=>M1,Application_Vendor_Cups_Raster:()=>C1,Application_Vendor_Cups_Raw:()=>L1,Application_Vendor_Curl:()=>B1,Application_Vendor_CurlCar:()=>P1,Application_Vendor_CurlPcurl:()=>R1,Application_Vendor_CyanDeanRootXml:()=>V1,Application_Vendor_Cybank:()=>I1,Application_Vendor_D2lCoursepackage1p0Zip:()=>W1,Application_Vendor_Dart:()=>O1,Application_Vendor_Data_VisionRdz:()=>N1,Application_Vendor_DatapackageJson:()=>H1,Application_Vendor_DataresourceJson:()=>j1,Application_Vendor_DebianBinary_Package:()=>X1,Application_Vendor_DeceData:()=>U1,Application_Vendor_DeceTtmlXml:()=>z1,Application_Vendor_DeceUnspecified:()=>G1,Application_Vendor_DeceZip:()=>q1,Application_Vendor_DenovoFcselayout_Link:()=>J1,Application_Vendor_DesmumeMovie:()=>$1,Application_Vendor_Dir_BiPlate_Dl_Nosuffix:()=>K1,Application_Vendor_DmDelegationXml:()=>Y1,Application_Vendor_Dna:()=>Q1,Application_Vendor_DocumentJson:()=>Z1,Application_Vendor_DolbyMlp:()=>eA,Application_Vendor_DolbyMobile1:()=>tA,Application_Vendor_DolbyMobile2:()=>nA,Application_Vendor_DoremirScorecloud_Binary_Document:()=>oA,Application_Vendor_Dpgraph:()=>rA,Application_Vendor_Dreamfactory:()=>iA,Application_Vendor_DriveJson:()=>sA,Application_Vendor_Ds_Keypoint:()=>aA,Application_Vendor_DtgLocal:()=>lA,Application_Vendor_DtgLocalFlash:()=>cA,Application_Vendor_DtgLocalHtml:()=>uA,Application_Vendor_DvbAit:()=>pA,Application_Vendor_DvbDvbj:()=>dA,Application_Vendor_DvbEsgcontainer:()=>hA,Application_Vendor_DvbIpdcdftnotifaccess:()=>mA,Application_Vendor_DvbIpdcesgaccess:()=>gA,Application_Vendor_DvbIpdcesgaccess2:()=>fA,Application_Vendor_DvbIpdcesgpdd:()=>xA,Application_Vendor_DvbIpdcroaming:()=>FA,Application_Vendor_DvbIptvAlfec_Base:()=>wA,Application_Vendor_DvbIptvAlfec_Enhancement:()=>_A,Application_Vendor_DvbNotif_Aggregate_RootXml:()=>AA,Application_Vendor_DvbNotif_ContainerXml:()=>SA,Application_Vendor_DvbNotif_GenericXml:()=>kA,Application_Vendor_DvbNotif_Ia_MsglistXml:()=>vA,Application_Vendor_DvbNotif_Ia_Registration_RequestXml:()=>TA,Application_Vendor_DvbNotif_Ia_Registration_ResponseXml:()=>bA,Application_Vendor_DvbNotif_InitXml:()=>yA,Application_Vendor_DvbPfr:()=>EA,Application_Vendor_DvbService:()=>DA,Application_Vendor_Dxr:()=>MA,Application_Vendor_Dynageo:()=>CA,Application_Vendor_Dzr:()=>LA,Application_Vendor_EasykaraokeCdgdownload:()=>BA,Application_Vendor_Ecdis_Update:()=>PA,Application_Vendor_EcipRlp:()=>RA,Application_Vendor_EcowinChart:()=>VA,Application_Vendor_EcowinFilerequest:()=>IA,Application_Vendor_EcowinFileupdate:()=>WA,Application_Vendor_EcowinSeries:()=>OA,Application_Vendor_EcowinSeriesrequest:()=>NA,Application_Vendor_EcowinSeriesupdate:()=>HA,Application_Vendor_EfiImg:()=>jA,Application_Vendor_EfiIso:()=>XA,Application_Vendor_EmclientAccessrequestXml:()=>UA,Application_Vendor_Enliven:()=>zA,Application_Vendor_EnphaseEnvoy:()=>GA,Application_Vendor_EprintsDataXml:()=>qA,Application_Vendor_EpsonEsf:()=>JA,Application_Vendor_EpsonMsf:()=>$A,Application_Vendor_EpsonQuickanime:()=>KA,Application_Vendor_EpsonSalt:()=>YA,Application_Vendor_EpsonSsf:()=>QA,Application_Vendor_EricssonQuickcall:()=>ZA,Application_Vendor_Espass_EspassZip:()=>e0,Application_Vendor_Eszigno3Xml:()=>t0,Application_Vendor_EtsiAocXml:()=>n0,Application_Vendor_EtsiAsic_EZip:()=>o0,Application_Vendor_EtsiAsic_SZip:()=>r0,Application_Vendor_EtsiCugXml:()=>i0,Application_Vendor_EtsiIptvcommandXml:()=>s0,Application_Vendor_EtsiIptvdiscoveryXml:()=>a0,Application_Vendor_EtsiIptvprofileXml:()=>l0,Application_Vendor_EtsiIptvsad_BcXml:()=>c0,Application_Vendor_EtsiIptvsad_CodXml:()=>u0,Application_Vendor_EtsiIptvsad_NpvrXml:()=>p0,Application_Vendor_EtsiIptvserviceXml:()=>d0,Application_Vendor_EtsiIptvsyncXml:()=>h0,Application_Vendor_EtsiIptvueprofileXml:()=>m0,Application_Vendor_EtsiMcidXml:()=>g0,Application_Vendor_EtsiMheg5:()=>f0,Application_Vendor_EtsiOverload_Control_Policy_DatasetXml:()=>x0,Application_Vendor_EtsiPstnXml:()=>F0,Application_Vendor_EtsiSciXml:()=>w0,Application_Vendor_EtsiSimservsXml:()=>_0,Application_Vendor_EtsiTimestamp_Token:()=>A0,Application_Vendor_EtsiTslDer:()=>S0,Application_Vendor_EtsiTslXml:()=>k0,Application_Vendor_EudoraData:()=>v0,Application_Vendor_EvolvEcigProfile:()=>T0,Application_Vendor_EvolvEcigSettings:()=>b0,Application_Vendor_EvolvEcigTheme:()=>y0,Application_Vendor_Exstream_EmpowerZip:()=>E0,Application_Vendor_Exstream_Package:()=>D0,Application_Vendor_Ezpix_Album:()=>M0,Application_Vendor_Ezpix_Package:()=>C0,Application_Vendor_F_SecureMobile:()=>L0,Application_Vendor_Fastcopy_Disk_Image:()=>B0,Application_Vendor_Fdf:()=>P0,Application_Vendor_FdsnMseed:()=>R0,Application_Vendor_FdsnSeed:()=>V0,Application_Vendor_Ffsns:()=>I0,Application_Vendor_FiclabFlbZip:()=>W0,Application_Vendor_FilmitZfc:()=>O0,Application_Vendor_Fints:()=>N0,Application_Vendor_FiremonkeysCloudcell:()=>H0,Application_Vendor_FloGraphIt:()=>j0,Application_Vendor_FluxtimeClip:()=>X0,Application_Vendor_Font_Fontforge_Sfd:()=>U0,Application_Vendor_Framemaker:()=>z0,Application_Vendor_FrogansFnc:()=>G0,Application_Vendor_FrogansLtf:()=>q0,Application_Vendor_FscWeblaunch:()=>J0,Application_Vendor_FujitsuOasys:()=>$0,Application_Vendor_FujitsuOasys2:()=>K0,Application_Vendor_FujitsuOasys3:()=>Y0,Application_Vendor_FujitsuOasysgp:()=>Q0,Application_Vendor_FujitsuOasysprs:()=>Z0,Application_Vendor_FujixeroxART4:()=>tS,Application_Vendor_FujixeroxART_EX:()=>eS,Application_Vendor_FujixeroxDdd:()=>nS,Application_Vendor_FujixeroxDocuworks:()=>oS,Application_Vendor_FujixeroxDocuworksBinder:()=>rS,Application_Vendor_FujixeroxDocuworksContainer:()=>iS,Application_Vendor_FujixeroxHBPL:()=>sS,Application_Vendor_Fut_Misnet:()=>aS,Application_Vendor_FutoinCbor:()=>lS,Application_Vendor_FutoinJson:()=>cS,Application_Vendor_Fuzzysheet:()=>uS,Application_Vendor_GenomatixTuxedo:()=>pS,Application_Vendor_GenticsGrdJson:()=>dS,Application_Vendor_GeoJson:()=>fS,Application_Vendor_GeocubeXml:()=>hS,Application_Vendor_GeogebraFile:()=>mS,Application_Vendor_GeogebraTool:()=>gS,Application_Vendor_Geometry_Explorer:()=>xS,Application_Vendor_Geonext:()=>FS,Application_Vendor_Geoplan:()=>wS,Application_Vendor_Geospace:()=>_S,Application_Vendor_Gerber:()=>AS,Application_Vendor_GlobalplatformCard_Content_Mgt:()=>SS,Application_Vendor_GlobalplatformCard_Content_Mgt_Response:()=>kS,Application_Vendor_Gmx:()=>vS,Application_Vendor_Google_Apps_Document:()=>TS,Application_Vendor_Google_Apps_Presentation:()=>bS,Application_Vendor_Google_Apps_Spreadsheet:()=>yS,Application_Vendor_Google_EarthKmlXml:()=>ES,Application_Vendor_Google_EarthKmz:()=>DS,Application_Vendor_GovSkE_FormXml:()=>MS,Application_Vendor_GovSkE_FormZip:()=>CS,Application_Vendor_GovSkXmldatacontainerXml:()=>LS,Application_Vendor_Grafeq:()=>BS,Application_Vendor_Gridmp:()=>PS,Application_Vendor_Groove_Account:()=>RS,Application_Vendor_Groove_Help:()=>VS,Application_Vendor_Groove_Identity_Message:()=>IS,Application_Vendor_Groove_Injector:()=>WS,Application_Vendor_Groove_Tool_Message:()=>OS,Application_Vendor_Groove_Tool_Template:()=>NS,Application_Vendor_Groove_Vcard:()=>HS,Application_Vendor_HalJson:()=>jS,Application_Vendor_HalXml:()=>XS,Application_Vendor_HandHeld_EntertainmentXml:()=>US,Application_Vendor_Hbci:()=>zS,Application_Vendor_HcJson:()=>GS,Application_Vendor_Hcl_Bireports:()=>qS,Application_Vendor_Hdt:()=>JS,Application_Vendor_HerokuJson:()=>$S,Application_Vendor_HheLesson_Player:()=>KS,Application_Vendor_Hp_HPGL:()=>YS,Application_Vendor_Hp_Hpid:()=>QS,Application_Vendor_Hp_Hps:()=>ZS,Application_Vendor_Hp_Jlyt:()=>ek,Application_Vendor_Hp_PCL:()=>tk,Application_Vendor_Hp_PCLXL:()=>nk,Application_Vendor_Httphone:()=>ok,Application_Vendor_HydrostatixSof_Data:()=>rk,Application_Vendor_HyperJson:()=>ak,Application_Vendor_Hyper_ItemJson:()=>ik,Application_Vendor_HyperdriveJson:()=>sk,Application_Vendor_Hzn_3d_Crossword:()=>lk,Application_Vendor_IbmAfplinedata:()=>ck,Application_Vendor_IbmElectronic_Media:()=>uk,Application_Vendor_IbmMiniPay:()=>pk,Application_Vendor_IbmModcap:()=>dk,Application_Vendor_IbmRights_Management:()=>hk,Application_Vendor_IbmSecure_Container:()=>mk,Application_Vendor_Iccprofile:()=>gk,Application_Vendor_Ieee1905:()=>fk,Application_Vendor_Igloader:()=>xk,Application_Vendor_ImagemeterFolderZip:()=>Fk,Application_Vendor_ImagemeterImageZip:()=>wk,Application_Vendor_Immervision_Ivp:()=>_k,Application_Vendor_Immervision_Ivu:()=>Ak,Application_Vendor_ImsImsccv1p1:()=>Sk,Application_Vendor_ImsImsccv1p2:()=>kk,Application_Vendor_ImsImsccv1p3:()=>vk,Application_Vendor_ImsLisV2ResultJson:()=>Tk,Application_Vendor_ImsLtiV2ToolconsumerprofileJson:()=>bk,Application_Vendor_ImsLtiV2ToolproxyIdJson:()=>yk,Application_Vendor_ImsLtiV2ToolproxyJson:()=>Ek,Application_Vendor_ImsLtiV2ToolsettingsJson:()=>Dk,Application_Vendor_ImsLtiV2ToolsettingsSimpleJson:()=>Mk,Application_Vendor_InformedcontrolRmsXml:()=>Ck,Application_Vendor_Informix_Visionary:()=>Lk,Application_Vendor_InfotechProject:()=>Bk,Application_Vendor_InfotechProjectXml:()=>Pk,Application_Vendor_InnopathWampNotification:()=>Rk,Application_Vendor_InsorsIgm:()=>Vk,Application_Vendor_InterconFormnet:()=>Ik,Application_Vendor_Intergeo:()=>Wk,Application_Vendor_IntertrustDigibox:()=>Ok,Application_Vendor_IntertrustNncp:()=>Nk,Application_Vendor_IntuQbo:()=>Hk,Application_Vendor_IntuQfx:()=>jk,Application_Vendor_IptcG2CatalogitemXml:()=>Xk,Application_Vendor_IptcG2ConceptitemXml:()=>Uk,Application_Vendor_IptcG2KnowledgeitemXml:()=>zk,Application_Vendor_IptcG2NewsitemXml:()=>Gk,Application_Vendor_IptcG2NewsmessageXml:()=>qk,Application_Vendor_IptcG2PackageitemXml:()=>Jk,Application_Vendor_IptcG2PlanningitemXml:()=>$k,Application_Vendor_IpunpluggedRcprofile:()=>Kk,Application_Vendor_IrepositoryPackageXml:()=>Yk,Application_Vendor_Is_Xpr:()=>Qk,Application_Vendor_IsacFcs:()=>Zk,Application_Vendor_Iso11783_10Zip:()=>ev,Application_Vendor_Jam:()=>tv,Application_Vendor_Japannet_Directory_Service:()=>nv,Application_Vendor_Japannet_Jpnstore_Wakeup:()=>ov,Application_Vendor_Japannet_Payment_Wakeup:()=>rv,Application_Vendor_Japannet_Registration:()=>iv,Application_Vendor_Japannet_Registration_Wakeup:()=>sv,Application_Vendor_Japannet_Setstore_Wakeup:()=>av,Application_Vendor_Japannet_Verification:()=>lv,Application_Vendor_Japannet_Verification_Wakeup:()=>cv,Application_Vendor_JcpJavameMidlet_Rms:()=>uv,Application_Vendor_Jisp:()=>pv,Application_Vendor_JoostJoda_Archive:()=>dv,Application_Vendor_JskIsdn_Ngn:()=>hv,Application_Vendor_Kahootz:()=>mv,Application_Vendor_KdeKarbon:()=>gv,Application_Vendor_KdeKchart:()=>fv,Application_Vendor_KdeKformula:()=>xv,Application_Vendor_KdeKivio:()=>Fv,Application_Vendor_KdeKontour:()=>wv,Application_Vendor_KdeKpresenter:()=>_v,Application_Vendor_KdeKspread:()=>Av,Application_Vendor_KdeKword:()=>Sv,Application_Vendor_Kenameaapp:()=>kv,Application_Vendor_Kidspiration:()=>vv,Application_Vendor_Kinar:()=>Tv,Application_Vendor_Koan:()=>bv,Application_Vendor_Kodak_Descriptor:()=>yv,Application_Vendor_Las:()=>Ev,Application_Vendor_LasLasJson:()=>Dv,Application_Vendor_LasLasXml:()=>Mv,Application_Vendor_Laszip:()=>Cv,Application_Vendor_LeapJson:()=>Lv,Application_Vendor_Liberty_RequestXml:()=>Bv,Application_Vendor_LlamagraphicsLife_BalanceDesktop:()=>Pv,Application_Vendor_LlamagraphicsLife_BalanceExchangeXml:()=>Rv,Application_Vendor_LogipipeCircuitZip:()=>Vv,Application_Vendor_Loom:()=>Iv,Application_Vendor_Lotus_1_2_3:()=>Wv,Application_Vendor_Lotus_Approach:()=>Ov,Application_Vendor_Lotus_Freelance:()=>Nv,Application_Vendor_Lotus_Notes:()=>Hv,Application_Vendor_Lotus_Organizer:()=>jv,Application_Vendor_Lotus_Screencam:()=>Xv,Application_Vendor_Lotus_Wordpro:()=>Uv,Application_Vendor_MFER:()=>oT,Application_Vendor_MacportsPortpkg:()=>zv,Application_Vendor_Mapbox_Vector_Tile:()=>Gv,Application_Vendor_MarlinDrmActiontokenXml:()=>qv,Application_Vendor_MarlinDrmConftokenXml:()=>Jv,Application_Vendor_MarlinDrmLicenseXml:()=>$v,Application_Vendor_MarlinDrmMdcf:()=>Kv,Application_Vendor_MasonJson:()=>Yv,Application_Vendor_MaxmindMaxmind_Db:()=>Qv,Application_Vendor_Mcd:()=>Zv,Application_Vendor_Medcalcdata:()=>eT,Application_Vendor_MediastationCdkey:()=>tT,Application_Vendor_Meridian_Slingshot:()=>nT,Application_Vendor_Mfmp:()=>rT,Application_Vendor_MicroJson:()=>aT,Application_Vendor_MicrografxFlo:()=>iT,Application_Vendor_MicrografxIgx:()=>sT,Application_Vendor_MicrosoftPortable_Executable:()=>lT,Application_Vendor_MicrosoftWindowsThumbnail_Cache:()=>cT,Application_Vendor_MieleJson:()=>uT,Application_Vendor_Mif:()=>pT,Application_Vendor_Minisoft_Hp3000_Save:()=>dT,Application_Vendor_MitsubishiMisty_GuardTrustweb:()=>hT,Application_Vendor_MobiusDAF:()=>mT,Application_Vendor_MobiusDIS:()=>gT,Application_Vendor_MobiusMBK:()=>fT,Application_Vendor_MobiusMQY:()=>xT,Application_Vendor_MobiusMSL:()=>FT,Application_Vendor_MobiusPLC:()=>wT,Application_Vendor_MobiusTXF:()=>_T,Application_Vendor_MophunApplication:()=>AT,Application_Vendor_MophunCertificate:()=>ST,Application_Vendor_MotorolaFlexsuite:()=>kT,Application_Vendor_MotorolaFlexsuiteAdsi:()=>vT,Application_Vendor_MotorolaFlexsuiteFis:()=>TT,Application_Vendor_MotorolaFlexsuiteGotap:()=>bT,Application_Vendor_MotorolaFlexsuiteKmr:()=>yT,Application_Vendor_MotorolaFlexsuiteTtc:()=>ET,Application_Vendor_MotorolaFlexsuiteWem:()=>DT,Application_Vendor_MotorolaIprm:()=>MT,Application_Vendor_MozillaXulXml:()=>CT,Application_Vendor_Ms_3mfdocument:()=>LT,Application_Vendor_Ms_Artgalry:()=>BT,Application_Vendor_Ms_Asf:()=>PT,Application_Vendor_Ms_Cab_Compressed:()=>RT,Application_Vendor_Ms_ColorIccprofile:()=>VT,Application_Vendor_Ms_Excel:()=>IT,Application_Vendor_Ms_ExcelAddinMacroEnabled12:()=>WT,Application_Vendor_Ms_ExcelSheetBinaryMacroEnabled12:()=>OT,Application_Vendor_Ms_ExcelSheetMacroEnabled12:()=>NT,Application_Vendor_Ms_ExcelTemplateMacroEnabled12:()=>HT,Application_Vendor_Ms_Fontobject:()=>jT,Application_Vendor_Ms_Htmlhelp:()=>XT,Application_Vendor_Ms_Ims:()=>UT,Application_Vendor_Ms_Lrm:()=>zT,Application_Vendor_Ms_OfficeActiveXXml:()=>GT,Application_Vendor_Ms_Officetheme:()=>qT,Application_Vendor_Ms_Opentype:()=>JT,Application_Vendor_Ms_Outlook:()=>$T,Application_Vendor_Ms_PackageObfuscated_Opentype:()=>KT,Application_Vendor_Ms_PkiSeccat:()=>YT,Application_Vendor_Ms_PkiStl:()=>QT,Application_Vendor_Ms_PlayreadyInitiatorXml:()=>ZT,Application_Vendor_Ms_Powerpoint:()=>eb,Application_Vendor_Ms_PowerpointAddinMacroEnabled12:()=>tb,Application_Vendor_Ms_PowerpointPresentationMacroEnabled12:()=>nb,Application_Vendor_Ms_PowerpointSlideMacroEnabled12:()=>ob,Application_Vendor_Ms_PowerpointSlideshowMacroEnabled12:()=>rb,Application_Vendor_Ms_PowerpointTemplateMacroEnabled12:()=>ib,Application_Vendor_Ms_PrintDeviceCapabilitiesXml:()=>sb,Application_Vendor_Ms_PrintSchemaTicketXml:()=>lb,Application_Vendor_Ms_PrintingPrintticketXml:()=>ab,Application_Vendor_Ms_Project:()=>cb,Application_Vendor_Ms_Tnef:()=>ub,Application_Vendor_Ms_WindowsDevicepairing:()=>pb,Application_Vendor_Ms_WindowsNwprintingOob:()=>db,Application_Vendor_Ms_WindowsPrinterpairing:()=>hb,Application_Vendor_Ms_WindowsWsdOob:()=>mb,Application_Vendor_Ms_WmdrmLic_Chlg_Req:()=>gb,Application_Vendor_Ms_WmdrmLic_Resp:()=>fb,Application_Vendor_Ms_WmdrmMeter_Chlg_Req:()=>xb,Application_Vendor_Ms_WmdrmMeter_Resp:()=>Fb,Application_Vendor_Ms_WordDocumentMacroEnabled12:()=>wb,Application_Vendor_Ms_WordTemplateMacroEnabled12:()=>_b,Application_Vendor_Ms_Works:()=>Ab,Application_Vendor_Ms_Wpl:()=>Sb,Application_Vendor_Ms_Xpsdocument:()=>kb,Application_Vendor_Msa_Disk_Image:()=>vb,Application_Vendor_Mseq:()=>Tb,Application_Vendor_Msign:()=>bb,Application_Vendor_MultiadCreator:()=>yb,Application_Vendor_MultiadCreatorCif:()=>Eb,Application_Vendor_Music_Niff:()=>Db,Application_Vendor_Musician:()=>Mb,Application_Vendor_MuveeStyle:()=>Cb,Application_Vendor_Mynfc:()=>Lb,Application_Vendor_NcdControl:()=>Bb,Application_Vendor_NcdReference:()=>Pb,Application_Vendor_NearstInvJson:()=>Rb,Application_Vendor_Nervana:()=>Vb,Application_Vendor_Netfpx:()=>Ib,Application_Vendor_NeurolanguageNlu:()=>Wb,Application_Vendor_Nimn:()=>Ob,Application_Vendor_NintendoNitroRom:()=>Nb,Application_Vendor_NintendoSnesRom:()=>Hb,Application_Vendor_Nitf:()=>jb,Application_Vendor_Noblenet_Directory:()=>Xb,Application_Vendor_Noblenet_Sealer:()=>Ub,Application_Vendor_Noblenet_Web:()=>zb,Application_Vendor_NokiaCatalogs:()=>Gb,Application_Vendor_NokiaConmlWbxml:()=>qb,Application_Vendor_NokiaConmlXml:()=>Jb,Application_Vendor_NokiaISDS_Radio_Presets:()=>Kb,Application_Vendor_NokiaIptvConfigXml:()=>$b,Application_Vendor_NokiaLandmarkWbxml:()=>Qb,Application_Vendor_NokiaLandmarkXml:()=>Zb,Application_Vendor_NokiaLandmarkcollectionXml:()=>Yb,Application_Vendor_NokiaN_GageAcXml:()=>ey,Application_Vendor_NokiaN_GageData:()=>ty,Application_Vendor_NokiaN_GageSymbianInstall:()=>ny,Application_Vendor_NokiaNcd:()=>oy,Application_Vendor_NokiaPcdWbxml:()=>ry,Application_Vendor_NokiaPcdXml:()=>iy,Application_Vendor_NokiaRadio_Preset:()=>sy,Application_Vendor_NokiaRadio_Presets:()=>ay,Application_Vendor_NovadigmEDM:()=>ly,Application_Vendor_NovadigmEDX:()=>cy,Application_Vendor_NovadigmEXT:()=>uy,Application_Vendor_Ntt_LocalContent_Share:()=>py,Application_Vendor_Ntt_LocalFile_Transfer:()=>dy,Application_Vendor_Ntt_LocalOgw_remote_Access:()=>hy,Application_Vendor_Ntt_LocalSip_Ta_remote:()=>my,Application_Vendor_Ntt_LocalSip_Ta_tcp_stream:()=>gy,Application_Vendor_OasisOpendocumentChart:()=>fy,Application_Vendor_OasisOpendocumentChart_Template:()=>xy,Application_Vendor_OasisOpendocumentDatabase:()=>Fy,Application_Vendor_OasisOpendocumentFormula:()=>wy,Application_Vendor_OasisOpendocumentFormula_Template:()=>_y,Application_Vendor_OasisOpendocumentGraphics:()=>Ay,Application_Vendor_OasisOpendocumentGraphics_Template:()=>Sy,Application_Vendor_OasisOpendocumentImage:()=>ky,Application_Vendor_OasisOpendocumentImage_Template:()=>vy,Application_Vendor_OasisOpendocumentPresentation:()=>Ty,Application_Vendor_OasisOpendocumentPresentation_Template:()=>by,Application_Vendor_OasisOpendocumentSpreadsheet:()=>yy,Application_Vendor_OasisOpendocumentSpreadsheet_Template:()=>Ey,Application_Vendor_OasisOpendocumentText:()=>Dy,Application_Vendor_OasisOpendocumentText_Master:()=>My,Application_Vendor_OasisOpendocumentText_Template:()=>Cy,Application_Vendor_OasisOpendocumentText_Web:()=>Ly,Application_Vendor_Obn:()=>By,Application_Vendor_OcfCbor:()=>Py,Application_Vendor_OftnL10nJson:()=>Ry,Application_Vendor_OipfContentaccessdownloadXml:()=>Vy,Application_Vendor_OipfContentaccessstreamingXml:()=>Iy,Application_Vendor_OipfCspg_Hexbinary:()=>Wy,Application_Vendor_OipfDaeSvgXml:()=>Oy,Application_Vendor_OipfDaeXhtmlXml:()=>Ny,Application_Vendor_OipfMippvcontrolmessageXml:()=>Hy,Application_Vendor_OipfPaeGem:()=>jy,Application_Vendor_OipfSpdiscoveryXml:()=>Xy,Application_Vendor_OipfSpdlistXml:()=>Uy,Application_Vendor_OipfUeprofileXml:()=>zy,Application_Vendor_OipfUserprofileXml:()=>Gy,Application_Vendor_Olpc_Sugar:()=>qy,Application_Vendor_OmaBcastAssociated_Procedure_ParameterXml:()=>Yy,Application_Vendor_OmaBcastDrm_TriggerXml:()=>Qy,Application_Vendor_OmaBcastImdXml:()=>Zy,Application_Vendor_OmaBcastLtkm:()=>eE,Application_Vendor_OmaBcastNotificationXml:()=>tE,Application_Vendor_OmaBcastProvisioningtrigger:()=>nE,Application_Vendor_OmaBcastSgboot:()=>oE,Application_Vendor_OmaBcastSgddXml:()=>rE,Application_Vendor_OmaBcastSgdu:()=>iE,Application_Vendor_OmaBcastSimple_Symbol_Container:()=>sE,Application_Vendor_OmaBcastSmartcard_TriggerXml:()=>aE,Application_Vendor_OmaBcastSprovXml:()=>lE,Application_Vendor_OmaBcastStkm:()=>cE,Application_Vendor_OmaCab_Address_BookXml:()=>uE,Application_Vendor_OmaCab_Feature_HandlerXml:()=>pE,Application_Vendor_OmaCab_PccXml:()=>dE,Application_Vendor_OmaCab_Subs_InviteXml:()=>hE,Application_Vendor_OmaCab_User_PrefsXml:()=>mE,Application_Vendor_OmaDcd:()=>gE,Application_Vendor_OmaDcdc:()=>fE,Application_Vendor_OmaDd2Xml:()=>xE,Application_Vendor_OmaDrmRisdXml:()=>FE,Application_Vendor_OmaGroup_Usage_ListXml:()=>SE,Application_Vendor_OmaLwm2mJson:()=>vE,Application_Vendor_OmaLwm2mTlv:()=>TE,Application_Vendor_OmaPalXml:()=>bE,Application_Vendor_OmaPocDetailed_Progress_ReportXml:()=>yE,Application_Vendor_OmaPocFinal_ReportXml:()=>EE,Application_Vendor_OmaPocGroupsXml:()=>DE,Application_Vendor_OmaPocInvocation_DescriptorXml:()=>ME,Application_Vendor_OmaPocOptimized_Progress_ReportXml:()=>CE,Application_Vendor_OmaPush:()=>LE,Application_Vendor_OmaScidmMessagesXml:()=>BE,Application_Vendor_OmaXcap_DirectoryXml:()=>PE,Application_Vendor_Oma_Scws_Config:()=>Jy,Application_Vendor_Oma_Scws_Http_Request:()=>$y,Application_Vendor_Oma_Scws_Http_Response:()=>Ky,Application_Vendor_Omads_EmailXml:()=>wE,Application_Vendor_Omads_FileXml:()=>_E,Application_Vendor_Omads_FolderXml:()=>AE,Application_Vendor_Omaloc_Supl_Init:()=>kE,Application_Vendor_Onepager:()=>RE,Application_Vendor_Onepagertamp:()=>VE,Application_Vendor_Onepagertamx:()=>IE,Application_Vendor_Onepagertat:()=>WE,Application_Vendor_Onepagertatp:()=>OE,Application_Vendor_Onepagertatx:()=>NE,Application_Vendor_OpenbloxGameXml:()=>jE,Application_Vendor_OpenbloxGame_Binary:()=>HE,Application_Vendor_OpeneyeOeb:()=>XE,Application_Vendor_OpenofficeorgExtension:()=>UE,Application_Vendor_OpenstreetmapDataXml:()=>zE,Application_Vendor_Openxmlformats_OfficedocumentCustomXmlPropertiesXml:()=>qE,Application_Vendor_Openxmlformats_OfficedocumentCustom_PropertiesXml:()=>GE,Application_Vendor_Openxmlformats_OfficedocumentDrawingXml:()=>eD,Application_Vendor_Openxmlformats_OfficedocumentDrawingmlChartXml:()=>$E,Application_Vendor_Openxmlformats_OfficedocumentDrawingmlChartshapesXml:()=>JE,Application_Vendor_Openxmlformats_OfficedocumentDrawingmlDiagramColorsXml:()=>KE,Application_Vendor_Openxmlformats_OfficedocumentDrawingmlDiagramDataXml:()=>YE,Application_Vendor_Openxmlformats_OfficedocumentDrawingmlDiagramLayoutXml:()=>QE,Application_Vendor_Openxmlformats_OfficedocumentDrawingmlDiagramStyleXml:()=>ZE,Application_Vendor_Openxmlformats_OfficedocumentExtended_PropertiesXml:()=>tD,Application_Vendor_Openxmlformats_OfficedocumentPresentationmlCommentAuthorsXml:()=>nD,Application_Vendor_Openxmlformats_OfficedocumentPresentationmlCommentsXml:()=>oD,Application_Vendor_Openxmlformats_OfficedocumentPresentationmlHandoutMasterXml:()=>rD,Application_Vendor_Openxmlformats_OfficedocumentPresentationmlNotesMasterXml:()=>iD,Application_Vendor_Openxmlformats_OfficedocumentPresentationmlNotesSlideXml:()=>sD,Application_Vendor_Openxmlformats_OfficedocumentPresentationmlPresPropsXml:()=>cD,Application_Vendor_Openxmlformats_OfficedocumentPresentationmlPresentation:()=>aD,Application_Vendor_Openxmlformats_OfficedocumentPresentationmlPresentationMainXml:()=>lD,Application_Vendor_Openxmlformats_OfficedocumentPresentationmlSlide:()=>uD,Application_Vendor_Openxmlformats_OfficedocumentPresentationmlSlideLayoutXml:()=>pD,Application_Vendor_Openxmlformats_OfficedocumentPresentationmlSlideMasterXml:()=>dD,Application_Vendor_Openxmlformats_OfficedocumentPresentationmlSlideUpdateInfoXml:()=>gD,Application_Vendor_Openxmlformats_OfficedocumentPresentationmlSlideXml:()=>fD,Application_Vendor_Openxmlformats_OfficedocumentPresentationmlSlideshow:()=>hD,Application_Vendor_Openxmlformats_OfficedocumentPresentationmlSlideshowMainXml:()=>mD,Application_Vendor_Openxmlformats_OfficedocumentPresentationmlTableStylesXml:()=>xD,Application_Vendor_Openxmlformats_OfficedocumentPresentationmlTagsXml:()=>FD,Application_Vendor_Openxmlformats_OfficedocumentPresentationmlTemplate:()=>wD,Application_Vendor_Openxmlformats_OfficedocumentPresentationmlTemplateMainXml:()=>_D,Application_Vendor_Openxmlformats_OfficedocumentPresentationmlViewPropsXml:()=>AD,Application_Vendor_Openxmlformats_OfficedocumentSpreadsheetmlCalcChainXml:()=>SD,Application_Vendor_Openxmlformats_OfficedocumentSpreadsheetmlChartsheetXml:()=>kD,Application_Vendor_Openxmlformats_OfficedocumentSpreadsheetmlCommentsXml:()=>vD,Application_Vendor_Openxmlformats_OfficedocumentSpreadsheetmlConnectionsXml:()=>TD,Application_Vendor_Openxmlformats_OfficedocumentSpreadsheetmlDialogsheetXml:()=>bD,Application_Vendor_Openxmlformats_OfficedocumentSpreadsheetmlExternalLinkXml:()=>yD,Application_Vendor_Openxmlformats_OfficedocumentSpreadsheetmlPivotCacheDefinitionXml:()=>ED,Application_Vendor_Openxmlformats_OfficedocumentSpreadsheetmlPivotCacheRecordsXml:()=>DD,Application_Vendor_Openxmlformats_OfficedocumentSpreadsheetmlPivotTableXml:()=>MD,Application_Vendor_Openxmlformats_OfficedocumentSpreadsheetmlQueryTableXml:()=>CD,Application_Vendor_Openxmlformats_OfficedocumentSpreadsheetmlRevisionHeadersXml:()=>LD,Application_Vendor_Openxmlformats_OfficedocumentSpreadsheetmlRevisionLogXml:()=>BD,Application_Vendor_Openxmlformats_OfficedocumentSpreadsheetmlSharedStringsXml:()=>PD,Application_Vendor_Openxmlformats_OfficedocumentSpreadsheetmlSheet:()=>RD,Application_Vendor_Openxmlformats_OfficedocumentSpreadsheetmlSheetMainXml:()=>VD,Application_Vendor_Openxmlformats_OfficedocumentSpreadsheetmlSheetMetadataXml:()=>ID,Application_Vendor_Openxmlformats_OfficedocumentSpreadsheetmlStylesXml:()=>WD,Application_Vendor_Openxmlformats_OfficedocumentSpreadsheetmlTableSingleCellsXml:()=>OD,Application_Vendor_Openxmlformats_OfficedocumentSpreadsheetmlTableXml:()=>ND,Application_Vendor_Openxmlformats_OfficedocumentSpreadsheetmlTemplate:()=>HD,Application_Vendor_Openxmlformats_OfficedocumentSpreadsheetmlTemplateMainXml:()=>jD,Application_Vendor_Openxmlformats_OfficedocumentSpreadsheetmlUserNamesXml:()=>XD,Application_Vendor_Openxmlformats_OfficedocumentSpreadsheetmlVolatileDependenciesXml:()=>UD,Application_Vendor_Openxmlformats_OfficedocumentSpreadsheetmlWorksheetXml:()=>zD,Application_Vendor_Openxmlformats_OfficedocumentThemeOverrideXml:()=>GD,Application_Vendor_Openxmlformats_OfficedocumentThemeXml:()=>qD,Application_Vendor_Openxmlformats_OfficedocumentVmlDrawing:()=>JD,Application_Vendor_Openxmlformats_OfficedocumentWordprocessingmlCommentsXml:()=>$D,Application_Vendor_Openxmlformats_OfficedocumentWordprocessingmlDocument:()=>KD,Application_Vendor_Openxmlformats_OfficedocumentWordprocessingmlDocumentGlossaryXml:()=>YD,Application_Vendor_Openxmlformats_OfficedocumentWordprocessingmlDocumentMainXml:()=>QD,Application_Vendor_Openxmlformats_OfficedocumentWordprocessingmlEndnotesXml:()=>ZD,Application_Vendor_Openxmlformats_OfficedocumentWordprocessingmlFontTableXml:()=>eM,Application_Vendor_Openxmlformats_OfficedocumentWordprocessingmlFooterXml:()=>tM,Application_Vendor_Openxmlformats_OfficedocumentWordprocessingmlFootnotesXml:()=>nM,Application_Vendor_Openxmlformats_OfficedocumentWordprocessingmlNumberingXml:()=>oM,Application_Vendor_Openxmlformats_OfficedocumentWordprocessingmlSettingsXml:()=>rM,Application_Vendor_Openxmlformats_OfficedocumentWordprocessingmlStylesXml:()=>iM,Application_Vendor_Openxmlformats_OfficedocumentWordprocessingmlTemplate:()=>sM,Application_Vendor_Openxmlformats_OfficedocumentWordprocessingmlTemplateMainXml:()=>aM,Application_Vendor_Openxmlformats_OfficedocumentWordprocessingmlWebSettingsXml:()=>lM,Application_Vendor_Openxmlformats_PackageCore_PropertiesXml:()=>cM,Application_Vendor_Openxmlformats_PackageDigital_Signature_XmlsignatureXml:()=>uM,Application_Vendor_Openxmlformats_PackageRelationshipsXml:()=>pM,Application_Vendor_OracleResourceJson:()=>dM,Application_Vendor_OrangeIndata:()=>hM,Application_Vendor_OsaNetdeploy:()=>mM,Application_Vendor_OsgeoMapguidePackage:()=>gM,Application_Vendor_OsgiBundle:()=>fM,Application_Vendor_OsgiDp:()=>xM,Application_Vendor_OsgiSubsystem:()=>FM,Application_Vendor_OtpsCt_KipXml:()=>wM,Application_Vendor_OxliCountgraph:()=>_M,Application_Vendor_PagerdutyJson:()=>AM,Application_Vendor_Palm:()=>SM,Application_Vendor_Panoply:()=>kM,Application_Vendor_PaosXml:()=>vM,Application_Vendor_Patentdive:()=>TM,Application_Vendor_Patientecommsdoc:()=>bM,Application_Vendor_Pawaafile:()=>yM,Application_Vendor_Pcos:()=>EM,Application_Vendor_PgFormat:()=>DM,Application_Vendor_PgOsasli:()=>MM,Application_Vendor_PiaccessApplication_Licence:()=>CM,Application_Vendor_Picsel:()=>LM,Application_Vendor_PmiWidget:()=>BM,Application_Vendor_PocGroup_AdvertisementXml:()=>PM,Application_Vendor_Pocketlearn:()=>RM,Application_Vendor_Powerbuilder6:()=>VM,Application_Vendor_Powerbuilder6_S:()=>IM,Application_Vendor_Powerbuilder7:()=>WM,Application_Vendor_Powerbuilder75:()=>NM,Application_Vendor_Powerbuilder75_S:()=>HM,Application_Vendor_Powerbuilder7_S:()=>OM,Application_Vendor_Preminet:()=>jM,Application_Vendor_PreviewsystemsBox:()=>XM,Application_Vendor_ProteusMagazine:()=>UM,Application_Vendor_Psfs:()=>zM,Application_Vendor_Publishare_Delta_Tree:()=>GM,Application_Vendor_PviPtid1:()=>qM,Application_Vendor_Pwg_Multiplexed:()=>JM,Application_Vendor_Pwg_Xhtml_PrintXml:()=>$M,Application_Vendor_QualcommBrew_App_Res:()=>KM,Application_Vendor_Quarantainenet:()=>YM,Application_Vendor_QuarkQuarkXPress:()=>QM,Application_Vendor_Quobject_Quoxdocument:()=>ZM,Application_Vendor_RadisysMomlXml:()=>e2,Application_Vendor_RadisysMsmlXml:()=>m2,Application_Vendor_RadisysMsml_AuditXml:()=>i2,Application_Vendor_RadisysMsml_Audit_ConfXml:()=>t2,Application_Vendor_RadisysMsml_Audit_ConnXml:()=>n2,Application_Vendor_RadisysMsml_Audit_DialogXml:()=>o2,Application_Vendor_RadisysMsml_Audit_StreamXml:()=>r2,Application_Vendor_RadisysMsml_ConfXml:()=>s2,Application_Vendor_RadisysMsml_DialogXml:()=>h2,Application_Vendor_RadisysMsml_Dialog_BaseXml:()=>a2,Application_Vendor_RadisysMsml_Dialog_Fax_DetectXml:()=>l2,Application_Vendor_RadisysMsml_Dialog_Fax_SendrecvXml:()=>c2,Application_Vendor_RadisysMsml_Dialog_GroupXml:()=>u2,Application_Vendor_RadisysMsml_Dialog_SpeechXml:()=>p2,Application_Vendor_RadisysMsml_Dialog_TransformXml:()=>d2,Application_Vendor_RainstorData:()=>g2,Application_Vendor_Rapid:()=>f2,Application_Vendor_Rar:()=>x2,Application_Vendor_RealvncBed:()=>F2,Application_Vendor_RecordareMusicxml:()=>w2,Application_Vendor_RecordareMusicxmlXml:()=>_2,Application_Vendor_RenLearnRlprint:()=>A2,Application_Vendor_RestfulJson:()=>S2,Application_Vendor_RigCryptonote:()=>k2,Application_Vendor_RimCod:()=>v2,Application_Vendor_Rn_Realmedia:()=>T2,Application_Vendor_Rn_Realmedia_Vbr:()=>b2,Application_Vendor_Route66Link66Xml:()=>y2,Application_Vendor_Rs_274x:()=>E2,Application_Vendor_RuckusDownload:()=>D2,Application_Vendor_S3sms:()=>M2,Application_Vendor_SailingtrackerTrack:()=>C2,Application_Vendor_Sar:()=>L2,Application_Vendor_SbmCid:()=>B2,Application_Vendor_SbmMid2:()=>P2,Application_Vendor_Scribus:()=>R2,Application_Vendor_Sealed3df:()=>V2,Application_Vendor_SealedCsf:()=>I2,Application_Vendor_SealedDoc:()=>W2,Application_Vendor_SealedEml:()=>O2,Application_Vendor_SealedMht:()=>j2,Application_Vendor_SealedNet:()=>X2,Application_Vendor_SealedPpt:()=>U2,Application_Vendor_SealedTiff:()=>z2,Application_Vendor_SealedXls:()=>G2,Application_Vendor_SealedmediaSoftsealHtml:()=>N2,Application_Vendor_SealedmediaSoftsealPdf:()=>H2,Application_Vendor_Seemail:()=>q2,Application_Vendor_Sema:()=>J2,Application_Vendor_Semd:()=>$2,Application_Vendor_Semf:()=>K2,Application_Vendor_Shade_Save_File:()=>Y2,Application_Vendor_ShanaInformedFormdata:()=>Q2,Application_Vendor_ShanaInformedFormtemplate:()=>Z2,Application_Vendor_ShanaInformedInterchange:()=>eC,Application_Vendor_ShanaInformedPackage:()=>tC,Application_Vendor_ShootproofJson:()=>nC,Application_Vendor_ShopkickJson:()=>oC,Application_Vendor_SigrokSession:()=>rC,Application_Vendor_SimTech_MindMapper:()=>iC,Application_Vendor_SirenJson:()=>sC,Application_Vendor_Smaf:()=>aC,Application_Vendor_SmartNotebook:()=>lC,Application_Vendor_SmartTeacher:()=>cC,Application_Vendor_Software602FillerFormXml:()=>pC,Application_Vendor_Software602FillerForm_Xml_Zip:()=>uC,Application_Vendor_SolentSdkmXml:()=>dC,Application_Vendor_SpotfireDxp:()=>hC,Application_Vendor_SpotfireSfs:()=>mC,Application_Vendor_Sqlite3:()=>gC,Application_Vendor_Sss_Cod:()=>fC,Application_Vendor_Sss_Dtf:()=>xC,Application_Vendor_Sss_Ntf:()=>FC,Application_Vendor_StardivisionCalc:()=>wC,Application_Vendor_StardivisionDraw:()=>_C,Application_Vendor_StardivisionImpress:()=>AC,Application_Vendor_StardivisionMath:()=>SC,Application_Vendor_StardivisionWriter:()=>kC,Application_Vendor_StardivisionWriter_Global:()=>vC,Application_Vendor_StepmaniaPackage:()=>TC,Application_Vendor_StepmaniaStepchart:()=>bC,Application_Vendor_Street_Stream:()=>yC,Application_Vendor_SunWadlXml:()=>EC,Application_Vendor_SunXmlCalc:()=>DC,Application_Vendor_SunXmlCalcTemplate:()=>MC,Application_Vendor_SunXmlDraw:()=>CC,Application_Vendor_SunXmlDrawTemplate:()=>LC,Application_Vendor_SunXmlImpress:()=>BC,Application_Vendor_SunXmlImpressTemplate:()=>PC,Application_Vendor_SunXmlMath:()=>RC,Application_Vendor_SunXmlWriter:()=>VC,Application_Vendor_SunXmlWriterGlobal:()=>IC,Application_Vendor_SunXmlWriterTemplate:()=>WC,Application_Vendor_Sus_Calendar:()=>OC,Application_Vendor_Svd:()=>NC,Application_Vendor_Swiftview_Ics:()=>HC,Application_Vendor_SymbianInstall:()=>jC,Application_Vendor_SyncmlDmNotification:()=>zC,Application_Vendor_SyncmlDmWbxml:()=>JC,Application_Vendor_SyncmlDmXml:()=>$C,Application_Vendor_SyncmlDmddfWbxml:()=>XC,Application_Vendor_SyncmlDmddfXml:()=>UC,Application_Vendor_SyncmlDmtndsWbxml:()=>GC,Application_Vendor_SyncmlDmtndsXml:()=>qC,Application_Vendor_SyncmlDsNotification:()=>KC,Application_Vendor_SyncmlXml:()=>YC,Application_Vendor_TableschemaJson:()=>QC,Application_Vendor_TaoIntent_Module_Archive:()=>ZC,Application_Vendor_TcpdumpPcap:()=>eL,Application_Vendor_Think_CellPpttcJson:()=>tL,Application_Vendor_TmdMediaflexApiXml:()=>nL,Application_Vendor_Tml:()=>oL,Application_Vendor_Tmobile_Livetv:()=>rL,Application_Vendor_TriOnesource:()=>sL,Application_Vendor_TridTpt:()=>iL,Application_Vendor_TriscapeMxs:()=>aL,Application_Vendor_Trueapp:()=>lL,Application_Vendor_Truedoc:()=>cL,Application_Vendor_UbisoftWebplayer:()=>uL,Application_Vendor_Ufdl:()=>pL,Application_Vendor_UiqTheme:()=>dL,Application_Vendor_Umajin:()=>hL,Application_Vendor_Unity:()=>mL,Application_Vendor_UomlXml:()=>gL,Application_Vendor_UplanetAlert:()=>fL,Application_Vendor_UplanetAlert_Wbxml:()=>xL,Application_Vendor_UplanetBearer_Choice:()=>FL,Application_Vendor_UplanetBearer_Choice_Wbxml:()=>wL,Application_Vendor_UplanetCacheop:()=>_L,Application_Vendor_UplanetCacheop_Wbxml:()=>AL,Application_Vendor_UplanetChannel:()=>SL,Application_Vendor_UplanetChannel_Wbxml:()=>kL,Application_Vendor_UplanetList:()=>vL,Application_Vendor_UplanetList_Wbxml:()=>TL,Application_Vendor_UplanetListcmd:()=>bL,Application_Vendor_UplanetListcmd_Wbxml:()=>yL,Application_Vendor_UplanetSignal:()=>EL,Application_Vendor_Uri_Map:()=>DL,Application_Vendor_ValveSourceMaterial:()=>ML,Application_Vendor_Vcx:()=>CL,Application_Vendor_Vd_Study:()=>LL,Application_Vendor_Vectorworks:()=>BL,Application_Vendor_VelJson:()=>PL,Application_Vendor_VerimatrixVcas:()=>RL,Application_Vendor_VeryantThin:()=>VL,Application_Vendor_VesEncrypted:()=>IL,Application_Vendor_VidsoftVidconference:()=>WL,Application_Vendor_Visio:()=>OL,Application_Vendor_Visionary:()=>NL,Application_Vendor_VividenceScriptfile:()=>HL,Application_Vendor_Vsf:()=>jL,Application_Vendor_WapSic:()=>XL,Application_Vendor_WapSlc:()=>UL,Application_Vendor_WapWbxml:()=>zL,Application_Vendor_WapWmlc:()=>GL,Application_Vendor_WapWmlscriptc:()=>qL,Application_Vendor_Webturbo:()=>JL,Application_Vendor_WfaP2p:()=>$L,Application_Vendor_WfaWsc:()=>KL,Application_Vendor_WindowsDevicepairing:()=>YL,Application_Vendor_Wmc:()=>QL,Application_Vendor_WmfBootstrap:()=>ZL,Application_Vendor_WolframMathematica:()=>eB,Application_Vendor_WolframMathematicaPackage:()=>tB,Application_Vendor_WolframPlayer:()=>nB,Application_Vendor_Wordperfect:()=>oB,Application_Vendor_Wqd:()=>rB,Application_Vendor_Wrq_Hp3000_Labelled:()=>iB,Application_Vendor_WtStf:()=>sB,Application_Vendor_WvCspWbxml:()=>aB,Application_Vendor_WvCspXml:()=>lB,Application_Vendor_WvSspXml:()=>cB,Application_Vendor_XacmlJson:()=>uB,Application_Vendor_Xara:()=>pB,Application_Vendor_Xfdl:()=>dB,Application_Vendor_XfdlWebform:()=>hB,Application_Vendor_XmiXml:()=>mB,Application_Vendor_XmpieCpkg:()=>gB,Application_Vendor_XmpieDpkg:()=>fB,Application_Vendor_XmpiePlan:()=>xB,Application_Vendor_XmpiePpkg:()=>FB,Application_Vendor_XmpieXlim:()=>wB,Application_Vendor_YamahaHv_Dic:()=>_B,Application_Vendor_YamahaHv_Script:()=>AB,Application_Vendor_YamahaHv_Voice:()=>SB,Application_Vendor_YamahaOpenscoreformat:()=>kB,Application_Vendor_YamahaOpenscoreformatOsfpvgXml:()=>vB,Application_Vendor_YamahaRemote_Setup:()=>TB,Application_Vendor_YamahaSmaf_Audio:()=>bB,Application_Vendor_YamahaSmaf_Phrase:()=>yB,Application_Vendor_YamahaThrough_Ngn:()=>EB,Application_Vendor_YamahaTunnel_Udpencap:()=>DB,Application_Vendor_Yaoweme:()=>MB,Application_Vendor_Yellowriver_Custom_Menu:()=>CB,Application_Vendor_YoutubeYt:()=>LB,Application_Vendor_Zul:()=>BB,Application_Vendor_ZzazzDeckXml:()=>PB,Application_VividenceScriptfile:()=>RB,Application_VoicexmlXml:()=>VB,Application_Voucher_CmsJson:()=>IB,Application_Vq_Rtcpxr:()=>WB,Application_Wasm:()=>Sr,Application_WatcherinfoXml:()=>OB,Application_Webpush_OptionsJson:()=>NB,Application_Whoispp_Query:()=>HB,Application_Whoispp_Response:()=>jB,Application_Widget:()=>XB,Application_Winhlp:()=>UB,Application_Wita:()=>zB,Application_Wordperfect51:()=>GB,Application_WsdlXml:()=>qB,Application_WspolicyXml:()=>JB,Application_X400_Bp:()=>SR,Application_X_7z_Compressed:()=>$B,Application_X_Abiword:()=>KB,Application_X_Ace_Compressed:()=>YB,Application_X_Amf:()=>QB,Application_X_Apple_Diskimage:()=>ZB,Application_X_Arj:()=>eP,Application_X_Authorware_Bin:()=>tP,Application_X_Authorware_Map:()=>nP,Application_X_Authorware_Seg:()=>oP,Application_X_Bcpio:()=>rP,Application_X_Bdoc:()=>iP,Application_X_Bittorrent:()=>sP,Application_X_Blorb:()=>aP,Application_X_Bzip:()=>lP,Application_X_Bzip2:()=>cP,Application_X_Cbr:()=>uP,Application_X_Cdlink:()=>pP,Application_X_Cfs_Compressed:()=>dP,Application_X_Chat:()=>hP,Application_X_Chess_Pgn:()=>mP,Application_X_Chrome_Extension:()=>gP,Application_X_Compress:()=>xP,Application_X_Conference:()=>FP,Application_X_Cpio:()=>wP,Application_X_Csh:()=>_P,Application_X_Deb:()=>fP,Application_X_Debian_Package:()=>AP,Application_X_Dgc_Compressed:()=>SP,Application_X_Director:()=>kP,Application_X_Doom:()=>vP,Application_X_DtbncxXml:()=>TP,Application_X_DtbookXml:()=>bP,Application_X_DtbresourceXml:()=>yP,Application_X_Dvi:()=>EP,Application_X_Envoy:()=>DP,Application_X_Eva:()=>MP,Application_X_Font_Bdf:()=>CP,Application_X_Font_Dos:()=>LP,Application_X_Font_Framemaker:()=>BP,Application_X_Font_Ghostscript:()=>PP,Application_X_Font_Libgrx:()=>RP,Application_X_Font_Linux_Psf:()=>VP,Application_X_Font_Pcf:()=>IP,Application_X_Font_Snf:()=>WP,Application_X_Font_Speedo:()=>OP,Application_X_Font_Sunos_News:()=>NP,Application_X_Font_Type1:()=>HP,Application_X_Font_Vfont:()=>jP,Application_X_Freearc:()=>XP,Application_X_Futuresplash:()=>UP,Application_X_Gca_Compressed:()=>zP,Application_X_Glulx:()=>GP,Application_X_Gnumeric:()=>qP,Application_X_Gramps_Xml:()=>JP,Application_X_Gtar:()=>$P,Application_X_Gzip:()=>KP,Application_X_Hdf:()=>YP,Application_X_Httpd_Php:()=>QP,Application_X_Install_Instructions:()=>ZP,Application_X_Iso9660_Image:()=>e3,Application_X_Iwork_Keynote_Sffkey:()=>t3,Application_X_Iwork_Numbers_Sffnumbers:()=>n3,Application_X_Iwork_Pages_Sffpages:()=>o3,Application_X_Java_Jnlp_File:()=>r3,Application_X_Javascript:()=>i3,Application_X_Keepass2:()=>s3,Application_X_Latex:()=>a3,Application_X_Lua_Bytecode:()=>l3,Application_X_Lzh_Compressed:()=>c3,Application_X_Mie:()=>u3,Application_X_Mobipocket_Ebook:()=>p3,Application_X_Mpegurl:()=>d3,Application_X_Ms_Application:()=>h3,Application_X_Ms_Shortcut:()=>m3,Application_X_Ms_Wmd:()=>g3,Application_X_Ms_Wmz:()=>f3,Application_X_Ms_Xbap:()=>x3,Application_X_Msaccess:()=>w3,Application_X_Msbinder:()=>_3,Application_X_Mscardfile:()=>A3,Application_X_Msclip:()=>S3,Application_X_Msdos_Program:()=>F3,Application_X_Msdownload:()=>k3,Application_X_Msmediaview:()=>v3,Application_X_Msmetafile:()=>T3,Application_X_Msmoney:()=>b3,Application_X_Mspublisher:()=>y3,Application_X_Msschedule:()=>E3,Application_X_Msterminal:()=>D3,Application_X_Mswrite:()=>M3,Application_X_Netcdf:()=>C3,Application_X_Ns_Proxy_Autoconfig:()=>L3,Application_X_Nzb:()=>B3,Application_X_Pkcs12:()=>P3,Application_X_Pkcs7_Certificates:()=>R3,Application_X_Pkcs7_Certreqresp:()=>V3,Application_X_Rar_Compressed:()=>I3,Application_X_Research_Info_Systems:()=>W3,Application_X_Sh:()=>O3,Application_X_Shar:()=>N3,Application_X_Shockwave_Flash:()=>H3,Application_X_Silverlight_App:()=>j3,Application_X_Sql:()=>X3,Application_X_Stuffit:()=>U3,Application_X_Stuffitx:()=>z3,Application_X_Subrip:()=>G3,Application_X_Sv4cpio:()=>q3,Application_X_Sv4crc:()=>J3,Application_X_T3vm_Image:()=>$3,Application_X_Tads:()=>K3,Application_X_Tar:()=>Y3,Application_X_Tcl:()=>Q3,Application_X_Tex:()=>Z3,Application_X_Tex_Tfm:()=>eR,Application_X_Texinfo:()=>tR,Application_X_Tgif:()=>nR,Application_X_Url:()=>wo,Application_X_Ustar:()=>oR,Application_X_Virtualbox_Hdd:()=>rR,Application_X_Virtualbox_Ova:()=>iR,Application_X_Virtualbox_Ovf:()=>sR,Application_X_Virtualbox_Vbox:()=>aR,Application_X_Virtualbox_Vbox_Extpack:()=>lR,Application_X_Virtualbox_Vdi:()=>cR,Application_X_Virtualbox_Vhd:()=>uR,Application_X_Virtualbox_Vmdk:()=>pR,Application_X_Wais_Source:()=>dR,Application_X_Web_App_ManifestJson:()=>hR,Application_X_Www_Form_Urlencoded:()=>mR,Application_X_X509_Ca_Cert:()=>gR,Application_X_Xfig:()=>fR,Application_X_XliffXml:()=>xR,Application_X_Xpinstall:()=>FR,Application_X_Xz:()=>wR,Application_X_Zip_Compressed:()=>_R,Application_X_Zmachine:()=>AR,Application_XacmlXml:()=>kR,Application_XamlXml:()=>vR,Application_Xcap_AttXml:()=>TR,Application_Xcap_CapsXml:()=>bR,Application_Xcap_DiffXml:()=>yR,Application_Xcap_ElXml:()=>ER,Application_Xcap_ErrorXml:()=>DR,Application_Xcap_NsXml:()=>MR,Application_Xcon_Conference_InfoXml:()=>LR,Application_Xcon_Conference_Info_DiffXml:()=>CR,Application_XencXml:()=>BR,Application_XhtmlXml:()=>RR,Application_Xhtml_VoiceXml:()=>PR,Application_XliffXml:()=>VR,Application_Xml:()=>IR,Application_Xml_Dtd:()=>WR,Application_Xml_External_Parsed_Entity:()=>OR,Application_Xml_PatchXml:()=>NR,Application_XmppXml:()=>HR,Application_XopXml:()=>jR,Application_XprocXml:()=>XR,Application_XsltXml:()=>UR,Application_XspfXml:()=>zR,Application_XvXml:()=>GR,Application_Yang:()=>qR,Application_Yang_DataJson:()=>JR,Application_Yang_DataXml:()=>$R,Application_Yang_PatchJson:()=>KR,Application_Yang_PatchXml:()=>YR,Application_YinXml:()=>QR,Application_Zip:()=>ZR,Application_Zlib:()=>eV,Application_Zstd:()=>tV});var qa=/([^\/]+)\/(.+)/,Pu=/(?:([^\.]+)\.)?([^\+;]+)(?:\+([^;]+))?((?:; *([^=]+)=([^;]+))*)/;function un(o){return o.flatMap(e=>e.extensions.map(t=>"."+t)).sort().join(", ")}var Yt=class o{constructor(e,t,r){this._type=e,this._fullSubType=t,this._primaryExtension=null,this.depMessage=null;let i=new Map;this._parameters=i;let s=this._fullSubType.match(Pu);this._tree=s[1],this._subType=s[2],this._suffix=s[3];let l=s[4];if(this._value=this._fullValue=this._type+"/",O(this._tree)&&(this._value=this._fullValue+=this._tree+"."),this._value=this._fullValue+=this._subType,O(this._suffix)&&(this._value=this._fullValue+="+"+this._suffix),O(l)){let d=l.split(";").map(u=>u.trim()).filter(u=>u.length>0).map(u=>u.split("="));for(let[u,...a]of d){let p=a.join("=");i.set(u,p);let x=`; ${u}=${p}`;this._fullValue+=x,u!=="q"&&(this._value+=x)}}this._extensions=r||[],this._primaryExtension=this._extensions[0]||null}static parse(e){if(!e)return null;let t=e.match(qa);if(!t)return null;let r=t[1],i=t[2];return new o(r,i)}deprecate(e){return this.depMessage=e,this}check(){O(this.depMessage)&&console.warn(`${this._value} is deprecated ${this.depMessage}`)}matches(e){if(le(e))return!1;if(this.typeName==="*"&&this.subTypeName==="*")return!0;let t=null,r=null;if(fe(e)){let i=e.match(qa);if(!i)return!1;t=i[1],r=i[2]}else t=e.typeName,r=e._fullSubType;return this.typeName===t&&(this._fullSubType==="*"||this._fullSubType===r)}withParameter(e,t){let r=`${this._fullSubType}; ${e}=${t}`;return new o(this.typeName,r,this.extensions)}get typeName(){return this.check(),this._type}get tree(){return this.check(),this._tree}get suffix(){return this._suffix}get subTypeName(){return this.check(),this._subType}get value(){return this.check(),this._value}__getValueUnsafe(){return this._value}get fullValue(){return this.check(),this._fullValue}get parameters(){return this.check(),this._parameters}get extensions(){return this.check(),this._extensions}__getExtensionsUnsafe(){return this._extensions}get primaryExtension(){return this.check(),this._primaryExtension}toString(){return this.parameters.get("q")==="1"?this.value:this.fullValue}toFileSystemAPIAccepts(){return{[this.value]:this.extensions.map(e=>"."+e)}}addExtension(e){if(!e)throw new Error("File name is not defined");return this.primaryExtension&&(e=o.removeExtension(e),e=`${e}.${this.primaryExtension}`),e}static removeExtension(e){let t=e.lastIndexOf(".");return t>-1&&(e=e.substring(0,t)),e}};function Vn(o,e,...t){return new Yt(o,e,t)}function Me(o){return Vn.bind(null,o)}var n=Me("application"),Ru=n("a2l"),Vu=n("activemessage"),Iu=n("activity+json","json"),Wu=n("alto-costmapfilter+json","json"),Ou=n("alto-costmap+json","json"),Nu=n("alto-directory+json","json"),Hu=n("alto-endpointcost+json","json"),ju=n("alto-endpointcostparams+json","json"),Xu=n("alto-endpointprop+json","json"),Uu=n("alto-endpointpropparams+json","json"),zu=n("alto-error+json","json"),Gu=n("alto-networkmapfilter+json","json"),qu=n("alto-networkmap+json","json"),Ju=n("aml"),$u=n("andrew-inset","ez"),Ku=n("applefile"),Yu=n("applixware","aw"),Qu=n("atf"),Zu=n("atfx"),ep=n("atomcat+xml","atomcat"),tp=n("atomdeleted+xml","xml"),np=n("atomicmail"),op=n("atomsvc+xml","atomsvc"),rp=n("atom+xml","atom"),ip=n("atsc-dwd+xml","xml"),sp=n("atsc-held+xml","xml"),ap=n("atsc-rdt+json","json"),lp=n("atsc-rsat+xml","xml"),cp=n("atxml"),up=n("auth-policy+xml","xml"),pp=n("bacnet-xdd+zip","zip"),dp=n("batch-smtp"),hp=n("bdoc","bdoc"),mp=n("beep+xml","xml"),gp=n("calendar+json","json"),fp=n("calendar+xml","xml"),xp=n("call-completion"),Fp=n("cals-1840"),wp=n("cbor"),_p=n("cbor-seq"),Ap=n("cccex"),Sp=n("ccmp+xml","xml"),kp=n("ccxml+xml","ccxml"),vp=n("cdfx+xml","xml"),Tp=n("cdmi-capability","cdmia"),bp=n("cdmi-container","cdmic"),yp=n("cdmi-domain","cdmid"),Ep=n("cdmi-object","cdmio"),Dp=n("cdmi-queue","cdmiq"),Mp=n("cdni"),Cp=n("cea"),Lp=n("cea-2018+xml","xml"),Bp=n("cellml+xml","xml"),Pp=n("cfw"),Rp=n("clue_info+xml","xml"),Vp=n("clue+xml","xml"),Ip=n("cms"),Wp=n("cnrp+xml","xml"),Op=n("coap-group+json","json"),Np=n("coap-payload"),Hp=n("commonground"),jp=n("conference-info+xml","xml"),Xp=n("cose"),Up=n("cose-key"),zp=n("cose-key-set"),Gp=n("cpl+xml","xml"),qp=n("csrattrs"),Jp=n("cstadata+xml","xml"),$p=n("csta+xml","xml"),Kp=n("csvm+json","json"),Yp=n("cu-seeme","cu"),Qp=n("cwt"),Zp=n("cybercash"),ed=n("dart"),td=n("dashdelta"),nd=n("dash+xml","xml"),od=n("davmount+xml","davmount"),rd=n("dca-rft"),id=n("dcd"),sd=n("dec-dx"),ad=n("dialog-info+xml","xml"),ld=n("dicom"),cd=n("dicom+json","json"),ud=n("dicom+xml","xml"),pd=n("dii"),dd=n("dit"),hd=n("dns"),md=n("dns-message"),gd=n("dns+json","json"),fd=n("docbook+xml","dbk"),xd=n("dots+cbor","cbor"),Fd=n("dskpp+xml","xml"),wd=n("dssc+der","dssc"),_d=n("dssc+xml","xdssc"),Ad=n("dvcs"),Sd=n("ecmascript","ecma"),kd=n("edi-consent"),vd=n("edi-x12"),Td=n("edifact"),bd=n("efi"),yd=n("emergencycalldata.comment+xml","xml"),Ed=n("emergencycalldata.control+xml","xml"),Dd=n("emergencycalldata.deviceinfo+xml","xml"),Md=n("emergencycalldata.ecall.msd"),Cd=n("emergencycalldata.providerinfo+xml","xml"),Ld=n("emergencycalldata.serviceinfo+xml","xml"),Bd=n("emergencycalldata.subscriberinfo+xml","xml"),Pd=n("emergencycalldata.veds+xml","xml"),Rd=n("emma+xml","emma"),Vd=n("emotionml+xml","xml"),Id=n("encaprtp"),Wd=n("epp+xml","xml"),Od=n("epub+zip","epub"),Nd=n("eshop"),Hd=n("example"),jd=n("exi","exi"),Xd=n("expect-ct-report+json","json"),Ud=n("fastinfoset"),zd=n("fastsoap"),Gd=n("fdt+xml","xml"),qd=n("fhir+json","json"),Jd=n("fhir+xml","xml"),$d=n("fido.trusted-apps+json"),Kd=n("fits"),Yd=n("flexfec"),Qd=n("font-sfnt").deprecate("in favor of font/sfnt"),Zd=n("font-tdpfr","pfr"),eh=n("font-woff").deprecate("in favor of font/woff"),th=n("framework-attributes+xml","xml"),nh=n("geo+json","json","geojson"),oh=n("geo+json-seq","json-seq"),rh=n("geopackage+sqlite3","sqlite3"),ih=n("geoxacml+xml","xml"),sh=n("gltf-buffer"),ah=n("gml+xml","gml"),lh=n("gpx+xml","gpx"),ch=n("gxf","gxf"),uh=n("gzip"),ph=n("h224"),dh=n("held+xml","xml"),hh=n("hjson","hjson"),mh=n("http"),gh=n("hyperstudio","stk"),fh=n("ibe-key-request+xml","xml"),xh=n("ibe-pkg-reply+xml","xml"),Fh=n("ibe-pp-data"),wh=n("iges"),_h=n("im-iscomposing+xml","xml"),Ah=n("index"),Sh=n("index.cmd"),kh=n("index.obj"),vh=n("index.response"),Th=n("index.vnd"),bh=n("inkml+xml","ink","inkml"),yh=n("iotp"),Eh=n("ipfix","ipfix"),Dh=n("ipp"),Mh=n("isup"),Ch=n("its+xml","xml"),Lh=n("java-archive","jar"),Bh=n("java-serialized-object","ser"),Ph=n("java-vm","class"),jt=n("javascript","js"),Rh=n("jf2feed+json","json"),Vh=n("jose"),Ih=n("jose+json","json"),Wh=n("jrd+json","json"),In=n("json","json"),Oh=n("json5","json5"),pn=n("json; charset=UTF-8","json"),Nh=n("json-patch+json","json"),Hh=n("json-seq"),jh=n("jsonml+json","jsonml"),Xh=n("jwk-set+json","json"),Uh=n("jwk+json","json"),zh=n("jwt"),Gh=n("kpml-request+xml","xml"),qh=n("kpml-response+xml","xml"),Jh=n("ld+json","json"),$h=n("lgr+xml","xml"),Kh=n("link-format"),Yh=n("load-control+xml","xml"),Qh=n("lostsync+xml","xml"),Zh=n("lost+xml","lostxml"),em=n("lxf"),tm=n("mac-binhex40","hqx"),nm=n("mac-compactpro","cpt"),om=n("macwriteii"),rm=n("mads+xml","mads"),im=n("manifest+json","webmanifest"),sm=n("marc","mrc"),am=n("marcxml+xml","mrcx"),lm=n("mathematica","ma","nb","mb"),cm=n("mathml-content+xml","xml"),um=n("mathml-presentation+xml","xml"),pm=n("mathml+xml","mathml"),dm=n("mbms-associated-procedure-description+xml","xml"),hm=n("mbms-deregister+xml","xml"),mm=n("mbms-envelope+xml","xml"),gm=n("mbms-msk-response+xml","xml"),fm=n("mbms-msk+xml","xml"),xm=n("mbms-protection-description+xml","xml"),Fm=n("mbms-reception-report+xml","xml"),wm=n("mbms-register-response+xml","xml"),_m=n("mbms-register+xml","xml"),Am=n("mbms-schedule+xml","xml"),Sm=n("mbms-user-service-description+xml","xml"),km=n("mbox","mbox"),vm=n("media_control+xml","xml"),Tm=n("media-policy-dataset+xml","xml"),bm=n("mediaservercontrol+xml","mscml"),ym=n("merge-patch+json","json"),Em=n("metalink4+xml","meta4"),Dm=n("metalink+xml","metalink"),Mm=n("mets+xml","mets"),Cm=n("mf4"),Lm=n("mikey"),Bm=n("mipc"),Pm=n("mmt-aei+xml","xml"),Rm=n("mmt-usd+xml","xml"),Vm=n("mods+xml","mods"),Im=n("moss-keys"),Wm=n("moss-signature"),Om=n("mosskey-data"),Nm=n("mosskey-request"),Hm=n("mp21","m21","mp21"),jm=n("mp4","mp4s"),Xm=n("mpeg4-generic"),Um=n("mpeg4-iod"),zm=n("mpeg4-iod-xmt"),Gm=n("mrb-consumer+xml","xml"),qm=n("mrb-publish+xml","xml"),Jm=n("msc-ivr+xml","xml"),$m=n("msc-mixer+xml","xml"),Km=n("msword","doc","dot"),Ym=n("mud+json","json"),Qm=n("multipart-core"),Zm=n("mxf","mxf"),eg=n("n-quads"),tg=n("n-triples"),ng=n("nasdata"),og=n("news-checkgroups"),rg=n("news-groupinfo"),ig=n("news-transmission"),sg=n("nlsml+xml","xml"),ag=n("node"),lg=n("nss"),cg=n("ocsp-request"),ug=n("ocsp-response"),pg=n("octet-stream","bin","dms","lrf","mar","so","dist","distz","pkg","bpk","dump","elc","deploy"),dg=n("oda","oda"),hg=n("odm+xml","xml"),mg=n("odx"),gg=n("oebps-package+xml","opf"),fg=n("ogg","ogx"),xg=n("omdoc+xml","omdoc"),Fg=n("onenote","onetoc","onetoc2","onetmp","onepkg"),wg=n("oscore"),_g=n("oxps","oxps"),Ag=n("p2p-overlay+xml","xml"),Sg=n("parityfec"),kg=n("passport"),vg=n("patch-ops-error+xml","xer"),Zi=n("pdf","pdf"),Tg=n("pdx"),bg=n("pem-certificate-chain"),yg=n("pgp-encrypted","pgp"),Eg=n("pgp-keys"),Dg=n("pgp-signature","asc","sig"),Mg=n("pics-rules","prf"),Cg=n("pidf-diff+xml","xml"),Lg=n("pidf+xml","xml"),Bg=n("pkcs10","p10"),Pg=n("pkcs12"),Rg=n("pkcs7-mime","p7m","p7c"),Vg=n("pkcs7-signature","p7s"),Ig=n("pkcs8","p8"),Wg=n("pkcs8-encrypted"),Og=n("pkix-attr-cert","ac"),Ng=n("pkix-cert","cer"),Hg=n("pkix-crl","crl"),jg=n("pkix-pkipath","pkipath"),Xg=n("pkixcmp","pki"),Ug=n("pls+xml","pls"),zg=n("poc-settings+xml","xml"),Gg=n("postscript","ai","eps","ps"),qg=n("ppsp-tracker+json","json"),Jg=n("problem+json","json"),$g=n("problem+xml","xml"),Kg=n("provenance+xml","xml"),Yg=n("prs.alvestrand.titrax-sheet"),Qg=n("prs.cww","cww"),Zg=n("prs.hpub+zip","zip"),ef=n("prs.nprend"),tf=n("prs.plucker"),nf=n("prs.rdf-xml-crypt"),of=n("prs.xsf+xml","xml"),rf=n("pskc+xml","pskcxml"),sf=n("qsig"),af=n("raml+yaml","raml"),lf=n("raptorfec"),cf=n("rdap+json","json"),uf=n("rdf+xml","rdf"),pf=n("reginfo+xml","rif"),df=n("relax-ng-compact-syntax","rnc"),hf=n("remote-printing"),mf=n("reputon+json","json"),gf=n("resource-lists-diff+xml","rld"),ff=n("resource-lists+xml","rl"),xf=n("rfc+xml","xml"),Ff=n("riscos"),wf=n("rlmi+xml","xml"),_f=n("rls-services+xml","rs"),Af=n("route-apd+xml","xml"),Sf=n("route-s-tsid+xml","xml"),kf=n("route-usd+xml","xml"),vf=n("rpki-ghostbusters","gbr"),Tf=n("rpki-manifest","mft"),bf=n("rpki-publication"),yf=n("rpki-roa","roa"),Ef=n("rpki-updown"),Df=n("rsd+xml","rsd"),Mf=n("rss+xml","rss"),Cf=n("rtf","rtf"),Lf=n("rtploopback"),Bf=n("rtx"),Pf=n("samlassertion+xml","xml"),Rf=n("samlmetadata+xml","xml"),Vf=n("sbml+xml","sbml"),If=n("scaip+xml","xml"),Wf=n("scim+json","json"),Of=n("scvp-cv-request","scq"),Nf=n("scvp-cv-response","scs"),Hf=n("scvp-vp-request","spq"),jf=n("scvp-vp-response","spp"),Xf=n("sdp","sdp"),Uf=n("secevent+jwt","jwt"),zf=n("senml-exi"),Gf=n("senml+cbor","cbor"),qf=n("senml+json","json"),Jf=n("senml+xml","xml"),$f=n("sensml-exi"),Kf=n("sensml+cbor","cbor"),Yf=n("sensml+json","json"),Qf=n("sensml+xml","xml"),Zf=n("sep-exi"),ex=n("sep+xml","xml"),tx=n("session-info"),nx=n("set-payment"),ox=n("set-payment-initiation","setpay"),rx=n("set-registration"),ix=n("set-registration-initiation","setreg"),sx=n("sgml"),ax=n("sgml-open-catalog"),lx=n("shf+xml","shf"),cx=n("sieve"),ux=n("simple-filter+xml","xml"),px=n("simple-message-summary"),dx=n("simplesymbolcontainer"),hx=n("sipc"),mx=n("slate"),gx=n("smil").deprecate("in favor of application/smil+xml"),fx=n("smil+xml","smi","smil"),xx=n("smpte336m"),Fx=n("soap+fastinfoset","fastinfoset"),wx=n("soap+xml","xml"),_x=n("sparql-query","rq"),Ax=n("sparql-results+xml","srx"),Sx=n("spirits-event+xml","xml"),kx=n("sql"),vx=n("srgs","gram"),Tx=n("srgs+xml","grxml"),bx=n("sru+xml","sru"),yx=n("ssdl+xml","ssdl"),Ex=n("ssml+xml","ssml"),Dx=n("stix+json","json"),Mx=n("swid+xml","xml"),Cx=n("tamp-apex-update"),Lx=n("tamp-apex-update-confirm"),Bx=n("tamp-community-update"),Px=n("tamp-community-update-confirm"),Rx=n("tamp-error"),Vx=n("tamp-sequence-adjust"),Ix=n("tamp-sequence-adjust-confirm"),Wx=n("tamp-status-query"),Ox=n("tamp-status-response"),Nx=n("tamp-update"),Hx=n("tamp-update-confirm"),jx=n("tar"),Xx=n("taxii+json","json"),Ux=n("tei+xml","tei","teicorpus"),zx=n("tetra_isi"),Gx=n("thraud+xml","tfi"),qx=n("timestamp-query"),Jx=n("timestamp-reply"),$x=n("timestamped-data","tsd"),Kx=n("tlsrpt+gzip","gzip"),Yx=n("tlsrpt+json","json"),Qx=n("tnauthlist"),Zx=n("toml","toml"),eF=n("trickle-ice-sdpfrag"),tF=n("trig"),nF=n("ttml+xml","xml"),oF=n("tve-trigger"),rF=n("tzif"),iF=n("tzif-leap"),sF=n("ubjson","ubj"),aF=n("ulpfec"),lF=n("urc-grpsheet+xml","xml"),cF=n("urc-ressheet+xml","xml"),uF=n("urc-targetdesc+xml","xml"),pF=n("urc-uisocketdesc+xml","xml"),dF=n("vcard+json","json"),hF=n("vcard+xml","xml"),mF=n("vemmi"),gF=n("vnd.1000minds.decision-model+xml","xml"),fF=n("1d-interleaved-parityfec"),xF=n("3gpdash-qoe-report+xml","xml"),FF=n("3gpp-ims+xml","xml"),wF=n("vnd.3gpp-prose-pc3ch+xml","xml"),_F=n("vnd.3gpp-prose+xml","xml"),AF=n("vnd.3gpp-v2x-local-service-information"),SF=n("vnd.3gpp2.bcmcsinfo+xml","xml"),kF=n("vnd.3gpp2.sms"),vF=n("vnd.3gpp2.tcap","tcap"),TF=n("vnd.3gpp.access-transfer-events+xml","xml"),bF=n("vnd.3gpp.bsf+xml","xml"),yF=n("vnd.3gpp.gmop+xml","xml"),EF=n("vnd.3gpp.mc-signalling-ear"),DF=n("vnd.3gpp.mcdata-affiliation-command+xml","xml"),MF=n("vnd.3gpp.mcdata-info+xml","xml"),CF=n("vnd.3gpp.mcdata-payload"),LF=n("vnd.3gpp.mcdata-service-config+xml","xml"),BF=n("vnd.3gpp.mcdata-signalling"),PF=n("vnd.3gpp.mcdata-ue-config+xml","xml"),RF=n("vnd.3gpp.mcdata-user-profile+xml","xml"),VF=n("vnd.3gpp.mcptt-affiliation-command+xml","xml"),IF=n("vnd.3gpp.mcptt-floor-request+xml","xml"),WF=n("vnd.3gpp.mcptt-info+xml","xml"),OF=n("vnd.3gpp.mcptt-location-info+xml","xml"),NF=n("vnd.3gpp.mcptt-mbms-usage-info+xml","xml"),HF=n("vnd.3gpp.mcptt-service-config+xml","xml"),jF=n("vnd.3gpp.mcptt-signed+xml","xml"),XF=n("vnd.3gpp.mcptt-ue-config+xml","xml"),UF=n("vnd.3gpp.mcptt-ue-init-config+xml","xml"),zF=n("vnd.3gpp.mcptt-user-profile+xml","xml"),GF=n("vnd.3gpp.mcvideo-affiliation-command+xml","xml"),qF=n("vnd.3gpp.mcvideo-affiliation-info+xml","xml").deprecate("in favor of application/vnd.3gpp.mcvideo-info+xml"),JF=n("vnd.3gpp.mcvideo-info+xml","xml"),$F=n("vnd.3gpp.mcvideo-location-info+xml","xml"),KF=n("vnd.3gpp.mcvideo-mbms-usage-info+xml","xml"),YF=n("vnd.3gpp.mcvideo-service-config+xml","xml"),QF=n("vnd.3gpp.mcvideo-transmission-request+xml","xml"),ZF=n("vnd.3gpp.mcvideo-ue-config+xml","xml"),ew=n("vnd.3gpp.mcvideo-user-profile+xml","xml"),tw=n("vnd.3gpp.mid-call+xml","xml"),nw=n("vnd.3gpp.pic-bw-large","plb"),ow=n("vnd.3gpp.pic-bw-small","psb"),rw=n("vnd.3gpp.pic-bw-var","pvb"),iw=n("vnd.3gpp.sms"),sw=n("vnd.3gpp.sms+xml","xml"),aw=n("vnd.3gpp.srvcc-ext+xml","xml"),lw=n("vnd.3gpp.srvcc-info+xml","xml"),cw=n("vnd.3gpp.state-and-event-info+xml","xml"),uw=n("vnd.3gpp.ussd+xml","xml"),pw=n("vnd.3lightssoftware.imagescal"),dw=n("vnd.3m.post-it-notes","pwn"),hw=n("vnd.accpac.simply.aso","aso"),mw=n("vnd.accpac.simply.imp","imp"),gw=n("vnd.acucobol","acu"),fw=n("vnd.acucorp","atc","acutc"),xw=n("vnd.adobe.air-application-installer-package+zip","air"),Fw=n("vnd.adobe.flash.movie"),ww=n("vnd.adobe.formscentral.fcdt","fcdt"),_w=n("vnd.adobe.fxp","fxp","fxpl"),Aw=n("vnd.adobe.partial-upload"),Sw=n("vnd.adobe.xdp+xml","xdp"),kw=n("vnd.adobe.xfdf","xfdf"),vw=n("vnd.aether.imp"),Tw=n("vnd.afpc.afplinedata"),bw=n("vnd.afpc.afplinedata-pagedef"),yw=n("vnd.afpc.foca-charset"),Ew=n("vnd.afpc.foca-codedfont"),Dw=n("vnd.afpc.foca-codepage"),Mw=n("vnd.afpc.modca"),Cw=n("vnd.afpc.modca-formdef"),Lw=n("vnd.afpc.modca-mediummap"),Bw=n("vnd.afpc.modca-objectcontainer"),Pw=n("vnd.afpc.modca-overlay"),Rw=n("vnd.afpc.modca-pagesegment"),Vw=n("vnd.ah-barcode"),Iw=n("vnd.ahead.space","ahead"),Ww=n("vnd.airzip.filesecure.azf","azf"),Ow=n("vnd.airzip.filesecure.azs","azs"),Nw=n("vnd.amadeus+json","json"),Hw=n("vnd.amazon.ebook","azw"),jw=n("vnd.amazon.mobi8-ebook"),Xw=n("vnd.americandynamics.acc","acc"),Uw=n("vnd.amiga.ami","ami"),zw=n("vnd.amundsen.maze+xml","xml"),Gw=n("vnd.android.ota"),qw=n("vnd.android.package-archive","apk"),Jw=n("vnd.anki"),$w=n("vnd.anser-web-certificate-issue-initiation","cii"),Kw=n("vnd.anser-web-funds-transfer-initiation","fti"),Yw=n("vnd.antix.game-component","atx"),Qw=n("vnd.apache.thrift.binary"),Zw=n("vnd.apache.thrift.compact"),e_=n("vnd.apache.thrift.json"),t_=n("vnd.api+json","json"),n_=n("vnd.aplextor.warrp+json","json"),o_=n("vnd.apothekende.reservation+json","json"),r_=n("vnd.apple.installer+xml","mpkg"),i_=n("vnd.apple.keynote"),s_=n("vnd.apple.mpegurl","m3u8"),a_=n("vnd.apple.numbers"),l_=n("vnd.apple.pages"),c_=n("vnd.apple.pkpass","pkpass"),u_=n("vnd.arastra.swi").deprecate("in favor of application/vnd.aristanetworks.swi"),p_=n("vnd.aristanetworks.swi","swi"),d_=n("vnd.artisan+json","json"),h_=n("vnd.artsquare"),m_=n("vnd.astraea-software.iota","iota"),g_=n("vnd.audiograph","aep"),f_=n("vnd.autopackage"),x_=n("vnd.avalon+json","json"),F_=n("vnd.avistar+xml","xml"),w_=n("vnd.balsamiq.bmml+xml","xml"),__=n("vnd.balsamiq.bmpr"),A_=n("vnd.banana-accounting"),S_=n("vnd.bbf.usp.error"),k_=n("vnd.bbf.usp.msg"),v_=n("vnd.bbf.usp.msg+json","json"),T_=n("vnd.bekitzur-stech+json","json"),b_=n("vnd.bint.med-content"),y_=n("vnd.biopax.rdf+xml","xml"),E_=n("vnd.blink-idb-value-wrapper"),D_=n("vnd.blueice.multipass","mpm"),M_=n("vnd.bluetooth.ep.oob"),C_=n("vnd.bluetooth.le.oob"),L_=n("vnd.bmi","bmi"),B_=n("vnd.bpf"),P_=n("vnd.bpf3"),R_=n("vnd.businessobjects","rep"),V_=n("vnd.byu.uapi+json","json"),I_=n("vnd.cab-jscript"),W_=n("vnd.canon-cpdl"),O_=n("vnd.canon-lips"),N_=n("vnd.capasystems-pg+json","json"),H_=n("vnd.cendio.thinlinc.clientconf"),j_=n("vnd.century-systems.tcp_stream"),X_=n("vnd.chemdraw+xml","cdxml"),U_=n("vnd.chess-pgn"),z_=n("vnd.chipnuts.karaoke-mmd","mmd"),G_=n("vnd.ciedi"),q_=n("vnd.cinderella","cdy"),J_=n("vnd.cirpack.isdn-ext"),$_=n("vnd.citationstyles.style+xml","xml"),K_=n("vnd.claymore","cla"),Y_=n("vnd.cloanto.rp9","rp9"),Q_=n("vnd.clonk.c4group","c4g","c4d","c4f","c4p","c4u"),Z_=n("vnd.cluetrust.cartomobile-config","c11amc"),e1=n("vnd.cluetrust.cartomobile-config-pkg","c11amz"),t1=n("vnd.coffeescript"),n1=n("vnd.collabio.xodocuments.document"),o1=n("vnd.collabio.xodocuments.document-template"),r1=n("vnd.collabio.xodocuments.presentation"),i1=n("vnd.collabio.xodocuments.presentation-template"),s1=n("vnd.collabio.xodocuments.spreadsheet"),a1=n("vnd.collabio.xodocuments.spreadsheet-template"),l1=n("vnd.collection.doc+json","json"),c1=n("vnd.collection+json","json"),u1=n("vnd.collection.next+json","json"),p1=n("vnd.comicbook-rar"),d1=n("vnd.comicbook+zip","zip"),h1=n("vnd.commerce-battelle"),m1=n("vnd.commonspace","csp"),g1=n("vnd.contact.cmsg","cdbcmsg"),f1=n("vnd.coreos.ignition+json","json"),x1=n("vnd.cosmocaller","cmc"),F1=n("vnd.crick.clicker","clkx"),w1=n("vnd.crick.clicker.keyboard","clkk"),_1=n("vnd.crick.clicker.palette","clkp"),A1=n("vnd.crick.clicker.template","clkt"),S1=n("vnd.crick.clicker.wordbank","clkw"),k1=n("vnd.criticaltools.wbs+xml","wbs"),v1=n("vnd.cryptii.pipe+json","json"),T1=n("vnd.crypto-shade-file"),b1=n("vnd.ctc-posml","pml"),y1=n("vnd.ctct.ws+xml","xml"),E1=n("vnd.cups-pdf"),D1=n("vnd.cups-postscript"),M1=n("vnd.cups-ppd","ppd"),C1=n("vnd.cups-raster"),L1=n("vnd.cups-raw"),B1=n("vnd.curl"),P1=n("vnd.curl.car","car"),R1=n("vnd.curl.pcurl","pcurl"),V1=n("vnd.cyan.dean.root+xml","xml"),I1=n("vnd.cybank"),W1=n("vnd.d2l.coursepackage1p0+zip","zip"),O1=n("vnd.dart","dart"),N1=n("vnd.data-vision.rdz","rdz"),H1=n("vnd.datapackage+json","json"),j1=n("vnd.dataresource+json","json"),X1=n("vnd.debian.binary-package"),U1=n("vnd.dece.data","uvf","uvvf","uvd","uvvd"),z1=n("vnd.dece.ttml+xml","uvt","uvvt"),G1=n("vnd.dece.unspecified","uvx","uvvx"),q1=n("vnd.dece.zip","uvz","uvvz"),J1=n("vnd.denovo.fcselayout-link","fe_launch"),$1=n("vnd.desmume.movie"),K1=n("vnd.dir-bi.plate-dl-nosuffix"),Y1=n("vnd.dm.delegation+xml","xml"),Q1=n("vnd.dna","dna"),Z1=n("vnd.document+json","json"),eA=n("vnd.dolby.mlp","mlp"),tA=n("vnd.dolby.mobile.1"),nA=n("vnd.dolby.mobile.2"),oA=n("vnd.doremir.scorecloud-binary-document"),rA=n("vnd.dpgraph","dpg"),iA=n("vnd.dreamfactory","dfac"),sA=n("vnd.drive+json","json"),aA=n("vnd.ds-keypoint","kpxx"),lA=n("vnd.dtg.local"),cA=n("vnd.dtg.local.flash"),uA=n("vnd.dtg.local.html"),pA=n("vnd.dvb.ait","ait"),dA=n("vnd.dvb.dvbj"),hA=n("vnd.dvb.esgcontainer"),mA=n("vnd.dvb.ipdcdftnotifaccess"),gA=n("vnd.dvb.ipdcesgaccess"),fA=n("vnd.dvb.ipdcesgaccess2"),xA=n("vnd.dvb.ipdcesgpdd"),FA=n("vnd.dvb.ipdcroaming"),wA=n("vnd.dvb.iptv.alfec-base"),_A=n("vnd.dvb.iptv.alfec-enhancement"),AA=n("vnd.dvb.notif-aggregate-root+xml","xml"),SA=n("vnd.dvb.notif-container+xml","xml"),kA=n("vnd.dvb.notif-generic+xml","xml"),vA=n("vnd.dvb.notif-ia-msglist+xml","xml"),TA=n("vnd.dvb.notif-ia-registration-request+xml","xml"),bA=n("vnd.dvb.notif-ia-registration-response+xml","xml"),yA=n("vnd.dvb.notif-init+xml","xml"),EA=n("vnd.dvb.pfr"),DA=n("vnd.dvb.service","svc"),MA=n("vnd.dxr"),CA=n("vnd.dynageo","geo"),LA=n("vnd.dzr"),BA=n("vnd.easykaraoke.cdgdownload"),PA=n("vnd.ecdis-update"),RA=n("vnd.ecip.rlp"),VA=n("vnd.ecowin.chart","mag"),IA=n("vnd.ecowin.filerequest"),WA=n("vnd.ecowin.fileupdate"),OA=n("vnd.ecowin.series"),NA=n("vnd.ecowin.seriesrequest"),HA=n("vnd.ecowin.seriesupdate"),jA=n("vnd.efi.img"),XA=n("vnd.efi.iso"),UA=n("vnd.emclient.accessrequest+xml","xml"),zA=n("vnd.enliven","nml"),GA=n("vnd.enphase.envoy"),qA=n("vnd.eprints.data+xml","xml"),JA=n("vnd.epson.esf","esf"),$A=n("vnd.epson.msf","msf"),KA=n("vnd.epson.quickanime","qam"),YA=n("vnd.epson.salt","slt"),QA=n("vnd.epson.ssf","ssf"),ZA=n("vnd.ericsson.quickcall"),e0=n("vnd.espass-espass+zip","zip"),t0=n("vnd.eszigno3+xml","es3","et3"),n0=n("vnd.etsi.aoc+xml","xml"),o0=n("vnd.etsi.asic-e+zip","zip"),r0=n("vnd.etsi.asic-s+zip","zip"),i0=n("vnd.etsi.cug+xml","xml"),s0=n("vnd.etsi.iptvcommand+xml","xml"),a0=n("vnd.etsi.iptvdiscovery+xml","xml"),l0=n("vnd.etsi.iptvprofile+xml","xml"),c0=n("vnd.etsi.iptvsad-bc+xml","xml"),u0=n("vnd.etsi.iptvsad-cod+xml","xml"),p0=n("vnd.etsi.iptvsad-npvr+xml","xml"),d0=n("vnd.etsi.iptvservice+xml","xml"),h0=n("vnd.etsi.iptvsync+xml","xml"),m0=n("vnd.etsi.iptvueprofile+xml","xml"),g0=n("vnd.etsi.mcid+xml","xml"),f0=n("vnd.etsi.mheg5"),x0=n("vnd.etsi.overload-control-policy-dataset+xml","xml"),F0=n("vnd.etsi.pstn+xml","xml"),w0=n("vnd.etsi.sci+xml","xml"),_0=n("vnd.etsi.simservs+xml","xml"),A0=n("vnd.etsi.timestamp-token"),S0=n("vnd.etsi.tsl.der"),k0=n("vnd.etsi.tsl+xml","xml"),v0=n("vnd.eudora.data"),T0=n("vnd.evolv.ecig.profile"),b0=n("vnd.evolv.ecig.settings"),y0=n("vnd.evolv.ecig.theme"),E0=n("vnd.exstream-empower+zip","zip"),D0=n("vnd.exstream-package"),M0=n("vnd.ezpix-album","ez2"),C0=n("vnd.ezpix-package","ez3"),L0=n("vnd.f-secure.mobile"),B0=n("vnd.fastcopy-disk-image"),P0=n("vnd.fdf","fdf"),R0=n("vnd.fdsn.mseed","mseed"),V0=n("vnd.fdsn.seed","seed","dataless"),I0=n("vnd.ffsns"),W0=n("vnd.ficlab.flb+zip","zip"),O0=n("vnd.filmit.zfc"),N0=n("vnd.fints"),H0=n("vnd.firemonkeys.cloudcell"),j0=n("vnd.flographit","gph"),X0=n("vnd.fluxtime.clip","ftc"),U0=n("vnd.font-fontforge-sfd"),z0=n("vnd.framemaker","fm","frame","maker","book"),G0=n("vnd.frogans.fnc","fnc"),q0=n("vnd.frogans.ltf","ltf"),J0=n("vnd.fsc.weblaunch","fsc"),$0=n("vnd.fujitsu.oasys","oas"),K0=n("vnd.fujitsu.oasys2","oa2"),Y0=n("vnd.fujitsu.oasys3","oa3"),Q0=n("vnd.fujitsu.oasysgp","fg5"),Z0=n("vnd.fujitsu.oasysprs","bh2"),eS=n("vnd.fujixerox.art-ex"),tS=n("vnd.fujixerox.art4"),nS=n("vnd.fujixerox.ddd","ddd"),oS=n("vnd.fujixerox.docuworks","xdw"),rS=n("vnd.fujixerox.docuworks.binder","xbd"),iS=n("vnd.fujixerox.docuworks.container"),sS=n("vnd.fujixerox.hbpl"),aS=n("vnd.fut-misnet"),lS=n("vnd.futoin+cbor","cbor"),cS=n("vnd.futoin+json","json"),uS=n("vnd.fuzzysheet","fzs"),pS=n("vnd.genomatix.tuxedo","txd"),dS=n("vnd.gentics.grd+json","json"),hS=n("vnd.geocube+xml","xml").deprecate("by request"),mS=n("vnd.geogebra.file","ggb"),gS=n("vnd.geogebra.tool","ggt"),fS=n("vnd.geo+json","json").deprecate("in favor of application/geo+json"),xS=n("vnd.geometry-explorer","gex","gre"),FS=n("vnd.geonext","gxt"),wS=n("vnd.geoplan","g2w"),_S=n("vnd.geospace","g3w"),AS=n("vnd.gerber"),SS=n("vnd.globalplatform.card-content-mgt"),kS=n("vnd.globalplatform.card-content-mgt-response"),vS=n("vnd.gmx","gmx").deprecate("with no reason given"),TS=n("vnd.google-apps.document","gdoc"),bS=n("vnd.google-apps.presentation","gslides"),yS=n("vnd.google-apps.spreadsheet","gsheet"),ES=n("vnd.google-earth.kml+xml","kml"),DS=n("vnd.google-earth.kmz","kmz"),MS=n("vnd.gov.sk.e-form+xml","xml"),CS=n("vnd.gov.sk.e-form+zip","zip"),LS=n("vnd.gov.sk.xmldatacontainer+xml","xml"),BS=n("vnd.grafeq","gqf","gqs"),PS=n("vnd.gridmp"),RS=n("vnd.groove-account","gac"),VS=n("vnd.groove-help","ghf"),IS=n("vnd.groove-identity-message","gim"),WS=n("vnd.groove-injector","grv"),OS=n("vnd.groove-tool-message","gtm"),NS=n("vnd.groove-tool-template","tpl"),HS=n("vnd.groove-vcard","vcg"),jS=n("vnd.hal+json","json"),XS=n("vnd.hal+xml","hal"),US=n("vnd.handheld-entertainment+xml","zmm"),zS=n("vnd.hbci","hbci"),GS=n("vnd.hc+json","json"),qS=n("vnd.hcl-bireports"),JS=n("vnd.hdt"),$S=n("vnd.heroku+json","json"),KS=n("vnd.hhe.lesson-player","les"),YS=n("vnd.hp-hpgl","hpgl"),QS=n("vnd.hp-hpid","hpid"),ZS=n("vnd.hp-hps","hps"),ek=n("vnd.hp-jlyt","jlt"),tk=n("vnd.hp-pcl","pcl"),nk=n("vnd.hp-pclxl","pclxl"),ok=n("vnd.httphone"),rk=n("vnd.hydrostatix.sof-data","sfd-hdstx"),ik=n("vnd.hyper-item+json","json"),sk=n("vnd.hyperdrive+json","json"),ak=n("vnd.hyper+json","json"),lk=n("vnd.hzn-3d-crossword"),ck=n("vnd.ibm.afplinedata").deprecate("in favor of vnd.afpc.afplinedata"),uk=n("vnd.ibm.electronic-media"),pk=n("vnd.ibm.minipay","mpy"),dk=n("vnd.ibm.modcap","afp","listafp","list3820").deprecate("in favor of application/vnd.afpc.modca"),hk=n("vnd.ibm.rights-management","irm"),mk=n("vnd.ibm.secure-container","sc"),gk=n("vnd.iccprofile","icc","icm"),fk=n("vnd.ieee.1905"),xk=n("vnd.igloader","igl"),Fk=n("vnd.imagemeter.folder+zip","zip"),wk=n("vnd.imagemeter.image+zip","zip"),_k=n("vnd.immervision-ivp","ivp"),Ak=n("vnd.immervision-ivu","ivu"),Sk=n("vnd.ims.imsccv1p1"),kk=n("vnd.ims.imsccv1p2"),vk=n("vnd.ims.imsccv1p3"),Tk=n("vnd.ims.lis.v2.result+json","json"),bk=n("vnd.ims.lti.v2.toolconsumerprofile+json","json"),yk=n("vnd.ims.lti.v2.toolproxy.id+json","json"),Ek=n("vnd.ims.lti.v2.toolproxy+json","json"),Dk=n("vnd.ims.lti.v2.toolsettings+json","json"),Mk=n("vnd.ims.lti.v2.toolsettings.simple+json","json"),Ck=n("vnd.informedcontrol.rms+xml","xml"),Lk=n("vnd.informix-visionary").deprecate("in favor of application/vnd.visionary"),Bk=n("vnd.infotech.project"),Pk=n("vnd.infotech.project+xml","xml"),Rk=n("vnd.innopath.wamp.notification"),Vk=n("vnd.insors.igm","igm"),Ik=n("vnd.intercon.formnet","xpw","xpx"),Wk=n("vnd.intergeo","i2g"),Ok=n("vnd.intertrust.digibox"),Nk=n("vnd.intertrust.nncp"),Hk=n("vnd.intu.qbo","qbo"),jk=n("vnd.intu.qfx","qfx"),Xk=n("vnd.iptc.g2.catalogitem+xml","xml"),Uk=n("vnd.iptc.g2.conceptitem+xml","xml"),zk=n("vnd.iptc.g2.knowledgeitem+xml","xml"),Gk=n("vnd.iptc.g2.newsitem+xml","xml"),qk=n("vnd.iptc.g2.newsmessage+xml","xml"),Jk=n("vnd.iptc.g2.packageitem+xml","xml"),$k=n("vnd.iptc.g2.planningitem+xml","xml"),Kk=n("vnd.ipunplugged.rcprofile","rcprofile"),Yk=n("vnd.irepository.package+xml","irp"),Qk=n("vnd.is-xpr","xpr"),Zk=n("vnd.isac.fcs","fcs"),ev=n("vnd.iso11783-10+zip","zip"),tv=n("vnd.jam","jam"),nv=n("vnd.japannet-directory-service"),ov=n("vnd.japannet-jpnstore-wakeup"),rv=n("vnd.japannet-payment-wakeup"),iv=n("vnd.japannet-registration"),sv=n("vnd.japannet-registration-wakeup"),av=n("vnd.japannet-setstore-wakeup"),lv=n("vnd.japannet-verification"),cv=n("vnd.japannet-verification-wakeup"),uv=n("vnd.jcp.javame.midlet-rms","rms"),pv=n("vnd.jisp","jisp"),dv=n("vnd.joost.joda-archive","joda"),hv=n("vnd.jsk.isdn-ngn"),mv=n("vnd.kahootz","ktz","ktr"),gv=n("vnd.kde.karbon","karbon"),fv=n("vnd.kde.kchart","chrt"),xv=n("vnd.kde.kformula","kfo"),Fv=n("vnd.kde.kivio","flw"),wv=n("vnd.kde.kontour","kon"),_v=n("vnd.kde.kpresenter","kpr","kpt"),Av=n("vnd.kde.kspread","ksp"),Sv=n("vnd.kde.kword","kwd","kwt"),kv=n("vnd.kenameaapp","htke"),vv=n("vnd.kidspiration","kia"),Tv=n("vnd.kinar","kne","knp"),bv=n("vnd.koan","skp","skd","skt","skm"),yv=n("vnd.kodak-descriptor","sse"),Ev=n("vnd.las"),Dv=n("vnd.las.las+json","json"),Mv=n("vnd.las.las+xml","lasxml"),Cv=n("vnd.laszip"),Lv=n("vnd.leap+json","json"),Bv=n("vnd.liberty-request+xml","xml"),Pv=n("vnd.llamagraphics.life-balance.desktop","lbd"),Rv=n("vnd.llamagraphics.life-balance.exchange+xml","lbe"),Vv=n("vnd.logipipe.circuit+zip","zip"),Iv=n("vnd.loom"),Wv=n("vnd.lotus-1-2-3","123"),Ov=n("vnd.lotus-approach","apr"),Nv=n("vnd.lotus-freelance","pre"),Hv=n("vnd.lotus-notes","nsf"),jv=n("vnd.lotus-organizer","org"),Xv=n("vnd.lotus-screencam","scm"),Uv=n("vnd.lotus-wordpro","lwp"),zv=n("vnd.macports.portpkg","portpkg"),Gv=n("vnd.mapbox-vector-tile"),qv=n("vnd.marlin.drm.actiontoken+xml","xml"),Jv=n("vnd.marlin.drm.conftoken+xml","xml"),$v=n("vnd.marlin.drm.license+xml","xml"),Kv=n("vnd.marlin.drm.mdcf"),Yv=n("vnd.mason+json","json"),Qv=n("vnd.maxmind.maxmind-db"),Zv=n("vnd.mcd","mcd"),eT=n("vnd.medcalcdata","mc1"),tT=n("vnd.mediastation.cdkey","cdkey"),nT=n("vnd.meridian-slingshot"),oT=n("vnd.mfer","mwf"),rT=n("vnd.mfmp","mfm"),iT=n("vnd.micrografx.flo","flo"),sT=n("vnd.micrografx.igx","igx"),aT=n("vnd.micro+json","json"),lT=n("vnd.microsoft.portable-executable"),cT=n("vnd.microsoft.windows.thumbnail-cache"),uT=n("vnd.miele+json","json"),pT=n("vnd.mif","mif"),dT=n("vnd.minisoft-hp3000-save"),hT=n("vnd.mitsubishi.misty-guard.trustweb"),mT=n("vnd.mobius.daf","daf"),gT=n("vnd.mobius.dis","dis"),fT=n("vnd.mobius.mbk","mbk"),xT=n("vnd.mobius.mqy","mqy"),FT=n("vnd.mobius.msl","msl"),wT=n("vnd.mobius.plc","plc"),_T=n("vnd.mobius.txf","txf"),AT=n("vnd.mophun.application","mpn"),ST=n("vnd.mophun.certificate","mpc"),kT=n("vnd.motorola.flexsuite"),vT=n("vnd.motorola.flexsuite.adsi"),TT=n("vnd.motorola.flexsuite.fis"),bT=n("vnd.motorola.flexsuite.gotap"),yT=n("vnd.motorola.flexsuite.kmr"),ET=n("vnd.motorola.flexsuite.ttc"),DT=n("vnd.motorola.flexsuite.wem"),MT=n("vnd.motorola.iprm"),CT=n("vnd.mozilla.xul+xml","xul"),LT=n("vnd.ms-3mfdocument"),BT=n("vnd.ms-artgalry","cil"),PT=n("vnd.ms-asf"),RT=n("vnd.ms-cab-compressed","cab"),VT=n("vnd.ms-color.iccprofile"),IT=n("vnd.ms-excel","xls","xlm","xla","xlc","xlt","xlw"),WT=n("vnd.ms-excel.addin.macroenabled.12","xlam"),OT=n("vnd.ms-excel.sheet.binary.macroenabled.12","xlsb"),NT=n("vnd.ms-excel.sheet.macroenabled.12","xlsm"),HT=n("vnd.ms-excel.template.macroenabled.12","xltm"),jT=n("vnd.ms-fontobject","eot"),XT=n("vnd.ms-htmlhelp","chm"),UT=n("vnd.ms-ims","ims"),zT=n("vnd.ms-lrm","lrm"),GT=n("vnd.ms-office.activex+xml","xml"),qT=n("vnd.ms-officetheme","thmx"),JT=n("vnd.ms-opentype"),$T=n("vnd.ms-outlook","msg"),KT=n("vnd.ms-package.obfuscated-opentype"),YT=n("vnd.ms-pki.seccat","cat"),QT=n("vnd.ms-pki.stl","stl"),ZT=n("vnd.ms-playready.initiator+xml","xml"),eb=n("vnd.ms-powerpoint","ppt","pps","pot"),tb=n("vnd.ms-powerpoint.addin.macroenabled.12","ppam"),nb=n("vnd.ms-powerpoint.presentation.macroenabled.12","pptm"),ob=n("vnd.ms-powerpoint.slide.macroenabled.12","sldm"),rb=n("vnd.ms-powerpoint.slideshow.macroenabled.12","ppsm"),ib=n("vnd.ms-powerpoint.template.macroenabled.12","potm"),sb=n("vnd.ms-printdevicecapabilities+xml","xml"),ab=n("vnd.ms-printing.printticket+xml","xml"),lb=n("vnd.ms-printschematicket+xml","xml"),cb=n("vnd.ms-project","mpp","mpt"),ub=n("vnd.ms-tnef"),pb=n("vnd.ms-windows.devicepairing"),db=n("vnd.ms-windows.nwprinting.oob"),hb=n("vnd.ms-windows.printerpairing"),mb=n("vnd.ms-windows.wsd.oob"),gb=n("vnd.ms-wmdrm.lic-chlg-req"),fb=n("vnd.ms-wmdrm.lic-resp"),xb=n("vnd.ms-wmdrm.meter-chlg-req"),Fb=n("vnd.ms-wmdrm.meter-resp"),wb=n("vnd.ms-word.document.macroenabled.12","docm"),_b=n("vnd.ms-word.template.macroenabled.12","dotm"),Ab=n("vnd.ms-works","wps","wks","wcm","wdb"),Sb=n("vnd.ms-wpl","wpl"),kb=n("vnd.ms-xpsdocument","xps"),vb=n("vnd.msa-disk-image"),Tb=n("vnd.mseq","mseq"),bb=n("vnd.msign"),yb=n("vnd.multiad.creator"),Eb=n("vnd.multiad.creator.cif"),Db=n("vnd.music-niff"),Mb=n("vnd.musician","mus"),Cb=n("vnd.muvee.style","msty"),Lb=n("vnd.mynfc","taglet"),Bb=n("vnd.ncd.control"),Pb=n("vnd.ncd.reference"),Rb=n("vnd.nearst.inv+json","json"),Vb=n("vnd.nervana"),Ib=n("vnd.netfpx"),Wb=n("vnd.neurolanguage.nlu","nlu"),Ob=n("vnd.nimn"),Nb=n("vnd.nintendo.nitro.rom"),Hb=n("vnd.nintendo.snes.rom"),jb=n("vnd.nitf","ntf","nitf"),Xb=n("vnd.noblenet-directory","nnd"),Ub=n("vnd.noblenet-sealer","nns"),zb=n("vnd.noblenet-web","nnw"),Gb=n("vnd.nokia.catalogs"),qb=n("vnd.nokia.conml+wbxml","wbxml"),Jb=n("vnd.nokia.conml+xml","xml"),$b=n("vnd.nokia.iptv.config+xml","xml"),Kb=n("vnd.nokia.isds-radio-presets"),Yb=n("vnd.nokia.landmarkcollection+xml","xml"),Qb=n("vnd.nokia.landmark+wbxml","wbxml"),Zb=n("vnd.nokia.landmark+xml","xml"),ey=n("vnd.nokia.n-gage.ac+xml","xml"),ty=n("vnd.nokia.n-gage.data","ngdat"),ny=n("vnd.nokia.n-gage.symbian.install","n-gage").deprecate("as obsolete with no replacement given"),oy=n("vnd.nokia.ncd"),ry=n("vnd.nokia.pcd+wbxml","wbxml"),iy=n("vnd.nokia.pcd+xml","xml"),sy=n("vnd.nokia.radio-preset","rpst"),ay=n("vnd.nokia.radio-presets","rpss"),ly=n("vnd.novadigm.edm","edm"),cy=n("vnd.novadigm.edx","edx"),uy=n("vnd.novadigm.ext","ext"),py=n("vnd.ntt-local.content-share"),dy=n("vnd.ntt-local.file-transfer"),hy=n("vnd.ntt-local.ogw_remote-access"),my=n("vnd.ntt-local.sip-ta_remote"),gy=n("vnd.ntt-local.sip-ta_tcp_stream"),fy=n("vnd.oasis.opendocument.chart","odc"),xy=n("vnd.oasis.opendocument.chart-template","otc"),Fy=n("vnd.oasis.opendocument.database","odb"),wy=n("vnd.oasis.opendocument.formula","odf"),_y=n("vnd.oasis.opendocument.formula-template","odft"),Ay=n("vnd.oasis.opendocument.graphics","odg"),Sy=n("vnd.oasis.opendocument.graphics-template","otg"),ky=n("vnd.oasis.opendocument.image","odi"),vy=n("vnd.oasis.opendocument.image-template","oti"),Ty=n("vnd.oasis.opendocument.presentation","odp"),by=n("vnd.oasis.opendocument.presentation-template","otp"),yy=n("vnd.oasis.opendocument.spreadsheet","ods"),Ey=n("vnd.oasis.opendocument.spreadsheet-template","ots"),Dy=n("vnd.oasis.opendocument.text","odt"),My=n("vnd.oasis.opendocument.text-master","odm"),Cy=n("vnd.oasis.opendocument.text-template","ott"),Ly=n("vnd.oasis.opendocument.text-web","oth"),By=n("vnd.obn"),Py=n("vnd.ocf+cbor","cbor"),Ry=n("vnd.oftn.l10n+json","json"),Vy=n("vnd.oipf.contentaccessdownload+xml","xml"),Iy=n("vnd.oipf.contentaccessstreaming+xml","xml"),Wy=n("vnd.oipf.cspg-hexbinary"),Oy=n("vnd.oipf.dae.svg+xml","xml"),Ny=n("vnd.oipf.dae.xhtml+xml","xml"),Hy=n("vnd.oipf.mippvcontrolmessage+xml","xml"),jy=n("vnd.oipf.pae.gem"),Xy=n("vnd.oipf.spdiscovery+xml","xml"),Uy=n("vnd.oipf.spdlist+xml","xml"),zy=n("vnd.oipf.ueprofile+xml","xml"),Gy=n("vnd.oipf.userprofile+xml","xml"),qy=n("vnd.olpc-sugar","xo"),Jy=n("vnd.oma-scws-config"),$y=n("vnd.oma-scws-http-request"),Ky=n("vnd.oma-scws-http-response"),Yy=n("vnd.oma.bcast.associated-procedure-parameter+xml","xml"),Qy=n("vnd.oma.bcast.drm-trigger+xml","xml"),Zy=n("vnd.oma.bcast.imd+xml","xml"),eE=n("vnd.oma.bcast.ltkm"),tE=n("vnd.oma.bcast.notification+xml","xml"),nE=n("vnd.oma.bcast.provisioningtrigger"),oE=n("vnd.oma.bcast.sgboot"),rE=n("vnd.oma.bcast.sgdd+xml","xml"),iE=n("vnd.oma.bcast.sgdu"),sE=n("vnd.oma.bcast.simple-symbol-container"),aE=n("vnd.oma.bcast.smartcard-trigger+xml","xml"),lE=n("vnd.oma.bcast.sprov+xml","xml"),cE=n("vnd.oma.bcast.stkm"),uE=n("vnd.oma.cab-address-book+xml","xml"),pE=n("vnd.oma.cab-feature-handler+xml","xml"),dE=n("vnd.oma.cab-pcc+xml","xml"),hE=n("vnd.oma.cab-subs-invite+xml","xml"),mE=n("vnd.oma.cab-user-prefs+xml","xml"),gE=n("vnd.oma.dcd"),fE=n("vnd.oma.dcdc"),xE=n("vnd.oma.dd2+xml","dd2"),FE=n("vnd.oma.drm.risd+xml","xml"),wE=n("vnd.omads-email+xml","xml"),_E=n("vnd.omads-file+xml","xml"),AE=n("vnd.omads-folder+xml","xml"),SE=n("vnd.oma.group-usage-list+xml","xml"),kE=n("vnd.omaloc-supl-init"),vE=n("vnd.oma.lwm2m+json","json"),TE=n("vnd.oma.lwm2m+tlv","tlv"),bE=n("vnd.oma.pal+xml","xml"),yE=n("vnd.oma.poc.detailed-progress-report+xml","xml"),EE=n("vnd.oma.poc.final-report+xml","xml"),DE=n("vnd.oma.poc.groups+xml","xml"),ME=n("vnd.oma.poc.invocation-descriptor+xml","xml"),CE=n("vnd.oma.poc.optimized-progress-report+xml","xml"),LE=n("vnd.oma.push"),BE=n("vnd.oma.scidm.messages+xml","xml"),PE=n("vnd.oma.xcap-directory+xml","xml"),RE=n("vnd.onepager"),VE=n("vnd.onepagertamp"),IE=n("vnd.onepagertamx"),WE=n("vnd.onepagertat"),OE=n("vnd.onepagertatp"),NE=n("vnd.onepagertatx"),HE=n("vnd.openblox.game-binary"),jE=n("vnd.openblox.game+xml","xml"),XE=n("vnd.openeye.oeb"),UE=n("vnd.openofficeorg.extension","oxt"),zE=n("vnd.openstreetmap.data+xml","xml"),GE=n("vnd.openxmlformats-officedocument.custom-properties+xml","xml"),qE=n("vnd.openxmlformats-officedocument.customxmlproperties+xml","xml"),JE=n("vnd.openxmlformats-officedocument.drawingml.chartshapes+xml","xml"),$E=n("vnd.openxmlformats-officedocument.drawingml.chart+xml","xml"),KE=n("vnd.openxmlformats-officedocument.drawingml.diagramcolors+xml","xml"),YE=n("vnd.openxmlformats-officedocument.drawingml.diagramdata+xml","xml"),QE=n("vnd.openxmlformats-officedocument.drawingml.diagramlayout+xml","xml"),ZE=n("vnd.openxmlformats-officedocument.drawingml.diagramstyle+xml","xml"),eD=n("vnd.openxmlformats-officedocument.drawing+xml","xml"),tD=n("vnd.openxmlformats-officedocument.extended-properties+xml","xml"),nD=n("vnd.openxmlformats-officedocument.presentationml.commentauthors+xml","xml"),oD=n("vnd.openxmlformats-officedocument.presentationml.comments+xml","xml"),rD=n("vnd.openxmlformats-officedocument.presentationml.handoutmaster+xml","xml"),iD=n("vnd.openxmlformats-officedocument.presentationml.notesmaster+xml","xml"),sD=n("vnd.openxmlformats-officedocument.presentationml.notesslide+xml","xml"),aD=n("vnd.openxmlformats-officedocument.presentationml.presentation","pptx"),lD=n("vnd.openxmlformats-officedocument.presentationml.presentation.main+xml","xml"),cD=n("vnd.openxmlformats-officedocument.presentationml.presprops+xml","xml"),uD=n("vnd.openxmlformats-officedocument.presentationml.slide","sldx"),pD=n("vnd.openxmlformats-officedocument.presentationml.slidelayout+xml","xml"),dD=n("vnd.openxmlformats-officedocument.presentationml.slidemaster+xml","xml"),hD=n("vnd.openxmlformats-officedocument.presentationml.slideshow","ppsx"),mD=n("vnd.openxmlformats-officedocument.presentationml.slideshow.main+xml","xml"),gD=n("vnd.openxmlformats-officedocument.presentationml.slideupdateinfo+xml","xml"),fD=n("vnd.openxmlformats-officedocument.presentationml.slide+xml","xml"),xD=n("vnd.openxmlformats-officedocument.presentationml.tablestyles+xml","xml"),FD=n("vnd.openxmlformats-officedocument.presentationml.tags+xml","xml"),wD=n("vnd.openxmlformats-officedocument.presentationml.template","potx"),_D=n("vnd.openxmlformats-officedocument.presentationml.template.main+xml","xml"),AD=n("vnd.openxmlformats-officedocument.presentationml.viewprops+xml","xml"),SD=n("vnd.openxmlformats-officedocument.spreadsheetml.calcchain+xml","xml"),kD=n("vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml","xml"),vD=n("vnd.openxmlformats-officedocument.spreadsheetml.comments+xml","xml"),TD=n("vnd.openxmlformats-officedocument.spreadsheetml.connections+xml","xml"),bD=n("vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml","xml"),yD=n("vnd.openxmlformats-officedocument.spreadsheetml.externallink+xml","xml"),ED=n("vnd.openxmlformats-officedocument.spreadsheetml.pivotcachedefinition+xml","xml"),DD=n("vnd.openxmlformats-officedocument.spreadsheetml.pivotcacherecords+xml","xml"),MD=n("vnd.openxmlformats-officedocument.spreadsheetml.pivottable+xml","xml"),CD=n("vnd.openxmlformats-officedocument.spreadsheetml.querytable+xml","xml"),LD=n("vnd.openxmlformats-officedocument.spreadsheetml.revisionheaders+xml","xml"),BD=n("vnd.openxmlformats-officedocument.spreadsheetml.revisionlog+xml","xml"),PD=n("vnd.openxmlformats-officedocument.spreadsheetml.sharedstrings+xml","xml"),RD=n("vnd.openxmlformats-officedocument.spreadsheetml.sheet","xlsx"),VD=n("vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml","xml"),ID=n("vnd.openxmlformats-officedocument.spreadsheetml.sheetmetadata+xml","xml"),WD=n("vnd.openxmlformats-officedocument.spreadsheetml.styles+xml","xml"),OD=n("vnd.openxmlformats-officedocument.spreadsheetml.tablesinglecells+xml","xml"),ND=n("vnd.openxmlformats-officedocument.spreadsheetml.table+xml","xml"),HD=n("vnd.openxmlformats-officedocument.spreadsheetml.template","xltx"),jD=n("vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml","xml"),XD=n("vnd.openxmlformats-officedocument.spreadsheetml.usernames+xml","xml"),UD=n("vnd.openxmlformats-officedocument.spreadsheetml.volatiledependencies+xml","xml"),zD=n("vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml","xml"),GD=n("vnd.openxmlformats-officedocument.themeoverride+xml","xml"),qD=n("vnd.openxmlformats-officedocument.theme+xml","xml"),JD=n("vnd.openxmlformats-officedocument.vmldrawing"),$D=n("vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","xml"),KD=n("vnd.openxmlformats-officedocument.wordprocessingml.document","docx"),YD=n("vnd.openxmlformats-officedocument.wordprocessingml.document.glossary+xml","xml"),QD=n("vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","xml"),ZD=n("vnd.openxmlformats-officedocument.wordprocessingml.endnotes+xml","xml"),eM=n("vnd.openxmlformats-officedocument.wordprocessingml.fonttable+xml","xml"),tM=n("vnd.openxmlformats-officedocument.wordprocessingml.footer+xml","xml"),nM=n("vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","xml"),oM=n("vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","xml"),rM=n("vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","xml"),iM=n("vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","xml"),sM=n("vnd.openxmlformats-officedocument.wordprocessingml.template","dotx"),aM=n("vnd.openxmlformats-officedocument.wordprocessingml.template.main+xml","xml"),lM=n("vnd.openxmlformats-officedocument.wordprocessingml.websettings+xml","xml"),cM=n("vnd.openxmlformats-package.core-properties+xml","xml"),uM=n("vnd.openxmlformats-package.digital-signature-xmlsignature+xml","xml"),pM=n("vnd.openxmlformats-package.relationships+xml","xml"),dM=n("vnd.oracle.resource+json","json"),hM=n("vnd.orange.indata"),mM=n("vnd.osa.netdeploy"),gM=n("vnd.osgeo.mapguide.package","mgp"),fM=n("vnd.osgi.bundle"),xM=n("vnd.osgi.dp","dp"),FM=n("vnd.osgi.subsystem","esa"),wM=n("vnd.otps.ct-kip+xml","xml"),_M=n("vnd.oxli.countgraph"),AM=n("vnd.pagerduty+json","json"),SM=n("vnd.palm","pdb","pqa","oprc"),kM=n("vnd.panoply"),vM=n("vnd.paos.xml"),TM=n("vnd.patentdive"),bM=n("vnd.patientecommsdoc"),yM=n("vnd.pawaafile","paw"),EM=n("vnd.pcos"),DM=n("vnd.pg.format","str"),MM=n("vnd.pg.osasli","ei6"),CM=n("vnd.piaccess.application-licence"),LM=n("vnd.picsel","efif"),BM=n("vnd.pmi.widget","wg"),PM=n("vnd.poc.group-advertisement+xml","xml"),RM=n("vnd.pocketlearn","plf"),VM=n("vnd.powerbuilder6","pbd"),IM=n("vnd.powerbuilder6-s"),WM=n("vnd.powerbuilder7"),OM=n("vnd.powerbuilder7-s"),NM=n("vnd.powerbuilder75"),HM=n("vnd.powerbuilder75-s"),jM=n("vnd.preminet"),XM=n("vnd.previewsystems.box","box"),UM=n("vnd.proteus.magazine","mgz"),zM=n("vnd.psfs"),GM=n("vnd.publishare-delta-tree","qps"),qM=n("vnd.pvi.ptid1","ptid"),JM=n("vnd.pwg-multiplexed"),$M=n("vnd.pwg-xhtml-print+xml","xml"),KM=n("vnd.qualcomm.brew-app-res"),YM=n("vnd.quarantainenet"),QM=n("vnd.quark.quarkxpress","qxd","qxt","qwd","qwt","qxl","qxb"),ZM=n("vnd.quobject-quoxdocument"),e2=n("vnd.radisys.moml+xml","xml"),t2=n("vnd.radisys.msml-audit-conf+xml","xml"),n2=n("vnd.radisys.msml-audit-conn+xml","xml"),o2=n("vnd.radisys.msml-audit-dialog+xml","xml"),r2=n("vnd.radisys.msml-audit-stream+xml","xml"),i2=n("vnd.radisys.msml-audit+xml","xml"),s2=n("vnd.radisys.msml-conf+xml","xml"),a2=n("vnd.radisys.msml-dialog-base+xml","xml"),l2=n("vnd.radisys.msml-dialog-fax-detect+xml","xml"),c2=n("vnd.radisys.msml-dialog-fax-sendrecv+xml","xml"),u2=n("vnd.radisys.msml-dialog-group+xml","xml"),p2=n("vnd.radisys.msml-dialog-speech+xml","xml"),d2=n("vnd.radisys.msml-dialog-transform+xml","xml"),h2=n("vnd.radisys.msml-dialog+xml","xml"),m2=n("vnd.radisys.msml+xml","xml"),g2=n("vnd.rainstor.data"),f2=n("vnd.rapid"),x2=n("vnd.rar"),F2=n("vnd.realvnc.bed","bed"),w2=n("vnd.recordare.musicxml","mxl"),_2=n("vnd.recordare.musicxml+xml","musicxml"),A2=n("vnd.renlearn.rlprint"),S2=n("vnd.restful+json","json"),k2=n("vnd.rig.cryptonote","cryptonote"),v2=n("vnd.rim.cod","cod"),T2=n("vnd.rn-realmedia","rm"),b2=n("vnd.rn-realmedia-vbr","rmvb"),y2=n("vnd.route66.link66+xml","link66"),E2=n("vnd.rs-274x"),D2=n("vnd.ruckus.download"),M2=n("vnd.s3sms"),C2=n("vnd.sailingtracker.track","st"),L2=n("vnd.sar"),B2=n("vnd.sbm.cid"),P2=n("vnd.sbm.mid2"),R2=n("vnd.scribus"),V2=n("vnd.sealed.3df"),I2=n("vnd.sealed.csf"),W2=n("vnd.sealed.doc"),O2=n("vnd.sealed.eml"),N2=n("vnd.sealedmedia.softseal.html"),H2=n("vnd.sealedmedia.softseal.pdf"),j2=n("vnd.sealed.mht"),X2=n("vnd.sealed.net"),U2=n("vnd.sealed.ppt"),z2=n("vnd.sealed.tiff"),G2=n("vnd.sealed.xls"),q2=n("vnd.seemail","see"),J2=n("vnd.sema","sema"),$2=n("vnd.semd","semd"),K2=n("vnd.semf","semf"),Y2=n("vnd.shade-save-file"),Q2=n("vnd.shana.informed.formdata","ifm"),Z2=n("vnd.shana.informed.formtemplate","itp"),eC=n("vnd.shana.informed.interchange","iif"),tC=n("vnd.shana.informed.package","ipk"),nC=n("vnd.shootproof+json","json"),oC=n("vnd.shopkick+json","json"),rC=n("vnd.sigrok.session"),iC=n("vnd.simtech-mindmapper","twd","twds"),sC=n("vnd.siren+json","json"),aC=n("vnd.smaf","mmf"),lC=n("vnd.smart.notebook"),cC=n("vnd.smart.teacher","teacher"),uC=n("vnd.software602.filler.form-xml-zip"),pC=n("vnd.software602.filler.form+xml","xml"),dC=n("vnd.solent.sdkm+xml","sdkm","sdkd"),hC=n("vnd.spotfire.dxp","dxp"),mC=n("vnd.spotfire.sfs","sfs"),gC=n("vnd.sqlite3"),fC=n("vnd.sss-cod"),xC=n("vnd.sss-dtf"),FC=n("vnd.sss-ntf"),wC=n("vnd.stardivision.calc","sdc"),_C=n("vnd.stardivision.draw","sda"),AC=n("vnd.stardivision.impress","sdd"),SC=n("vnd.stardivision.math","smf"),kC=n("vnd.stardivision.writer","sdw","vor"),vC=n("vnd.stardivision.writer-global","sgl"),TC=n("vnd.stepmania.package","smzip"),bC=n("vnd.stepmania.stepchart","sm"),yC=n("vnd.street-stream"),EC=n("vnd.sun.wadl+xml","xml"),DC=n("vnd.sun.xml.calc","sxc"),MC=n("vnd.sun.xml.calc.template","stc"),CC=n("vnd.sun.xml.draw","sxd"),LC=n("vnd.sun.xml.draw.template","std"),BC=n("vnd.sun.xml.impress","sxi"),PC=n("vnd.sun.xml.impress.template","sti"),RC=n("vnd.sun.xml.math","sxm"),VC=n("vnd.sun.xml.writer","sxw"),IC=n("vnd.sun.xml.writer.global","sxg"),WC=n("vnd.sun.xml.writer.template","stw"),OC=n("vnd.sus-calendar","sus","susp"),NC=n("vnd.svd","svd"),HC=n("vnd.swiftview-ics"),jC=n("vnd.symbian.install","sis","sisx"),XC=n("vnd.syncml.dmddf+wbxml","wbxml"),UC=n("vnd.syncml.dmddf+xml","xml"),zC=n("vnd.syncml.dm.notification"),GC=n("vnd.syncml.dmtnds+wbxml","wbxml"),qC=n("vnd.syncml.dmtnds+xml","xml"),JC=n("vnd.syncml.dm+wbxml","bdm"),$C=n("vnd.syncml.dm+xml","xdm"),KC=n("vnd.syncml.ds.notification"),YC=n("vnd.syncml+xml","xsm"),QC=n("vnd.tableschema+json","json"),ZC=n("vnd.tao.intent-module-archive","tao"),eL=n("vnd.tcpdump.pcap","pcap","cap","dmp"),tL=n("vnd.think-cell.ppttc+json","json"),nL=n("vnd.tmd.mediaflex.api+xml","xml"),oL=n("vnd.tml"),rL=n("vnd.tmobile-livetv","tmo"),iL=n("vnd.trid.tpt","tpt"),sL=n("vnd.tri.onesource"),aL=n("vnd.triscape.mxs","mxs"),lL=n("vnd.trueapp","tra"),cL=n("vnd.truedoc"),uL=n("vnd.ubisoft.webplayer"),pL=n("vnd.ufdl","ufd","ufdl"),dL=n("vnd.uiq.theme","utz"),hL=n("vnd.umajin","umj"),mL=n("vnd.unity","unityweb"),gL=n("vnd.uoml+xml","uoml"),fL=n("vnd.uplanet.alert"),xL=n("vnd.uplanet.alert-wbxml"),FL=n("vnd.uplanet.bearer-choice"),wL=n("vnd.uplanet.bearer-choice-wbxml"),_L=n("vnd.uplanet.cacheop"),AL=n("vnd.uplanet.cacheop-wbxml"),SL=n("vnd.uplanet.channel"),kL=n("vnd.uplanet.channel-wbxml"),vL=n("vnd.uplanet.list"),TL=n("vnd.uplanet.list-wbxml"),bL=n("vnd.uplanet.listcmd"),yL=n("vnd.uplanet.listcmd-wbxml"),EL=n("vnd.uplanet.signal"),DL=n("vnd.uri-map"),ML=n("vnd.valve.source.material"),CL=n("vnd.vcx","vcx"),LL=n("vnd.vd-study"),BL=n("vnd.vectorworks"),PL=n("vnd.vel+json","json"),RL=n("vnd.verimatrix.vcas"),VL=n("vnd.veryant.thin"),IL=n("vnd.ves.encrypted"),WL=n("vnd.vidsoft.vidconference"),OL=n("vnd.visio","vsd","vst","vss","vsw"),NL=n("vnd.visionary","vis"),HL=n("vnd.vividence.scriptfile"),jL=n("vnd.vsf","vsf"),XL=n("vnd.wap.sic"),UL=n("vnd.wap.slc"),zL=n("vnd.wap.wbxml","wbxml"),GL=n("vnd.wap.wmlc","wmlc"),qL=n("vnd.wap.wmlscriptc","wmlsc"),JL=n("vnd.webturbo","wtb"),$L=n("vnd.wfa.p2p"),KL=n("vnd.wfa.wsc"),YL=n("vnd.windows.devicepairing"),QL=n("vnd.wmc"),ZL=n("vnd.wmf.bootstrap"),eB=n("vnd.wolfram.mathematica"),tB=n("vnd.wolfram.mathematica.package"),nB=n("vnd.wolfram.player","nbp"),oB=n("vnd.wordperfect","wpd"),rB=n("vnd.wqd","wqd"),iB=n("vnd.wrq-hp3000-labelled"),sB=n("vnd.wt.stf","stf"),aB=n("vnd.wv.csp+wbxml","wbxml"),lB=n("vnd.wv.csp+xml","xml"),cB=n("vnd.wv.ssp+xml","xml"),uB=n("vnd.xacml+json","json"),pB=n("vnd.xara","xar"),dB=n("vnd.xfdl","xfdl"),hB=n("vnd.xfdl.webform"),mB=n("vnd.xmi+xml","xml"),gB=n("vnd.xmpie.cpkg"),fB=n("vnd.xmpie.dpkg"),xB=n("vnd.xmpie.plan"),FB=n("vnd.xmpie.ppkg"),wB=n("vnd.xmpie.xlim"),_B=n("vnd.yamaha.hv-dic","hvd"),AB=n("vnd.yamaha.hv-script","hvs"),SB=n("vnd.yamaha.hv-voice","hvp"),kB=n("vnd.yamaha.openscoreformat","osf"),vB=n("vnd.yamaha.openscoreformat.osfpvg+xml","osfpvg"),TB=n("vnd.yamaha.remote-setup"),bB=n("vnd.yamaha.smaf-audio","saf"),yB=n("vnd.yamaha.smaf-phrase","spf"),EB=n("vnd.yamaha.through-ngn"),DB=n("vnd.yamaha.tunnel-udpencap"),MB=n("vnd.yaoweme"),CB=n("vnd.yellowriver-custom-menu","cmp"),LB=n("vnd.youtube.yt").deprecate("in favor of video/vnd.youtube.yt"),BB=n("vnd.zul","zir","zirz"),PB=n("vnd.zzazz.deck+xml","zaz"),RB=n("vividence.scriptfile"),VB=n("voicexml+xml","vxml"),IB=n("voucher-cms+json","json"),WB=n("vq-rtcpxr"),Sr=n("wasm","wasm"),OB=n("watcherinfo+xml","xml"),NB=n("webpush-options+json","json"),HB=n("whoispp-query"),jB=n("whoispp-response"),XB=n("widget","wgt"),UB=n("winhlp","hlp"),zB=n("wita"),GB=n("wordperfect5.1"),qB=n("wsdl+xml","wsdl"),JB=n("wspolicy+xml","wspolicy"),$B=n("x-7z-compressed","7z"),KB=n("x-abiword","abw"),YB=n("x-ace-compressed","ace"),QB=n("x-amf"),ZB=n("x-apple-diskimage","dmg"),eP=n("x-arj","arj"),tP=n("x-authorware-bin","aab","x32","u32","vox"),nP=n("x-authorware-map","aam"),oP=n("x-authorware-seg","aas"),rP=n("x-bcpio","bcpio"),iP=n("x-bdoc","bdoc"),sP=n("x-bittorrent","torrent"),aP=n("x-blorb","blb","blorb"),lP=n("x-bzip","bz"),cP=n("x-bzip2","bz2","boz"),uP=n("x-cbr","cbr","cba","cbt","cbz","cb7"),pP=n("x-cdlink","vcd"),dP=n("x-cfs-compressed","cfs"),hP=n("x-chat","chat"),mP=n("x-chess-pgn","pgn"),gP=n("x-chrome-extension","crx"),fP=n("x-deb"),xP=n("x-compress"),FP=n("x-conference","nsc"),wP=n("x-cpio","cpio"),_P=n("x-csh","csh"),AP=n("x-debian-package","deb","udeb"),SP=n("x-dgc-compressed","dgc"),kP=n("x-director","dir","dcr","dxr","cst","cct","cxt","w3d","fgd","swa"),vP=n("x-doom","wad"),TP=n("x-dtbncx+xml","ncx"),bP=n("x-dtbook+xml","dtb"),yP=n("x-dtbresource+xml","res"),EP=n("x-dvi","dvi"),DP=n("x-envoy","evy"),MP=n("x-eva","eva"),CP=n("x-font-bdf","bdf"),LP=n("x-font-dos"),BP=n("x-font-framemaker"),PP=n("x-font-ghostscript","gsf"),RP=n("x-font-libgrx"),VP=n("x-font-linux-psf","psf"),IP=n("x-font-pcf","pcf"),WP=n("x-font-snf","snf"),OP=n("x-font-speedo"),NP=n("x-font-sunos-news"),HP=n("x-font-type1","pfa","pfb","pfm","afm"),jP=n("x-font-vfont"),XP=n("x-freearc","arc"),UP=n("x-futuresplash","spl"),zP=n("x-gca-compressed","gca"),GP=n("x-glulx","ulx"),qP=n("x-gnumeric","gnumeric"),JP=n("x-gramps-xml","gramps"),$P=n("x-gtar","gtar"),KP=n("x-gzip"),YP=n("x-hdf","hdf"),QP=n("x-httpd-php","php"),ZP=n("x-install-instructions","install"),e3=n("x-iso9660-image","iso"),t3=n("x-iwork-keynote-sffkey","key").deprecate("alias for iWorks Keynote file"),n3=n("x-iwork-numbers-sffnumbers","numbers").deprecate("alias for iWorks Numbers file"),o3=n("x-iwork-pages-sffpages","pages").deprecate("alias for iWorks Pages file"),r3=n("x-java-jnlp-file","jnlp"),i3=n("x-javascript"),s3=n("x-keepass2","kdbx"),a3=n("x-latex","latex"),l3=n("x-lua-bytecode","luac"),c3=n("x-lzh-compressed","lzh","lha"),u3=n("x-mie","mie"),p3=n("x-mobipocket-ebook","prc","mobi"),d3=n("x-mpegurl"),h3=n("x-ms-application","application"),m3=n("x-ms-shortcut","lnk"),g3=n("x-ms-wmd","wmd"),f3=n("x-ms-wmz","wmz"),x3=n("x-ms-xbap","xbap"),F3=n("x-msdos-program","exe"),w3=n("x-msaccess","mdb"),_3=n("x-msbinder","obd"),A3=n("x-mscardfile","crd"),S3=n("x-msclip","clp"),k3=n("x-msdownload","exe","dll","com","bat","msi"),v3=n("x-msmediaview","mvb","m13","m14"),T3=n("x-msmetafile","wmf","wmz","emf","emz"),b3=n("x-msmoney","mny"),y3=n("x-mspublisher","pub"),E3=n("x-msschedule","scd"),D3=n("x-msterminal","trm"),M3=n("x-mswrite","wri"),C3=n("x-netcdf","nc","cdf"),L3=n("x-ns-proxy-autoconfig","pac"),B3=n("x-nzb","nzb"),P3=n("x-pkcs12","p12","pfx"),R3=n("x-pkcs7-certificates","p7b","spc"),V3=n("x-pkcs7-certreqresp","p7r"),I3=n("x-rar-compressed","rar"),W3=n("x-research-info-systems","ris"),O3=n("x-sh","sh"),N3=n("x-shar","shar"),H3=n("x-shockwave-flash","swf"),j3=n("x-silverlight-app","xap"),X3=n("x-sql","sql"),U3=n("x-stuffit","sit"),z3=n("x-stuffitx","sitx"),G3=n("x-subrip","srt"),q3=n("x-sv4cpio","sv4cpio"),J3=n("x-sv4crc","sv4crc"),$3=n("x-t3vm-image","t3"),K3=n("x-tads","gam"),Y3=n("x-tar","tar"),Q3=n("x-tcl","tcl"),Z3=n("x-tex","tex"),eR=n("x-tex-tfm","tfm"),tR=n("x-texinfo","texinfo","texi"),nR=n("x-tgif","obj"),wo=n("x-url","url"),oR=n("x-ustar","ustar"),rR=n("x-virtualbox-hdd","hdd"),iR=n("x-virtualbox-ova","ova"),sR=n("x-virtualbox-ovf","ovf"),aR=n("x-virtualbox-vbox","vbox"),lR=n("x-virtualbox-vbox-extpack","vbox-extpack"),cR=n("x-virtualbox-vdi","vdi"),uR=n("x-virtualbox-vhd","vhd"),pR=n("x-virtualbox-vmdk","vmdk"),dR=n("x-wais-source","src"),hR=n("x-web-app-manifest+json","webapp"),mR=n("x-www-form-urlencoded"),gR=n("x-x509-ca-cert","der","crt"),fR=n("x-xfig","fig"),xR=n("x-xliff+xml","xlf"),FR=n("x-xpinstall","xpi"),wR=n("x-xz","xz"),_R=n("x-zip-compressed","zip"),AR=n("x-zmachine","z1","z2","z3","z4","z5","z6","z7","z8"),SR=n("x400-bp"),kR=n("xacml+xml","xml"),vR=n("xaml+xml","xaml"),TR=n("xcap-att+xml","xml"),bR=n("xcap-caps+xml","xml"),yR=n("xcap-diff+xml","xdf"),ER=n("xcap-el+xml","xml"),DR=n("xcap-error+xml","xml"),MR=n("xcap-ns+xml","xml"),CR=n("xcon-conference-info-diff+xml","xml"),LR=n("xcon-conference-info+xml","xml"),BR=n("xenc+xml","xenc"),PR=n("xhtml-voice+xml","xml"),RR=n("xhtml+xml","xhtml","xht"),VR=n("xliff+xml","xml"),IR=n("xml","xml","xsl"),WR=n("xml-dtd","dtd"),OR=n("xml-external-parsed-entity"),NR=n("xml-patch+xml","xml"),HR=n("xmpp+xml","xml"),jR=n("xop+xml","xop"),XR=n("xproc+xml","xpl"),UR=n("xslt+xml","xslt"),zR=n("xspf+xml","xspf"),GR=n("xv+xml","mxml","xhvml","xvml","xvm"),qR=n("yang","yang"),JR=n("yang-data+json","json"),$R=n("yang-data+xml","xml"),KR=n("yang-patch+json","json"),YR=n("yang-patch+xml","xml"),QR=n("yin+xml","yin"),ZR=n("zip","zip"),eV=n("zlib"),tV=n("zstd");var ts={};st(ts,{Audio_AMR:()=>iV,Audio_AMR_WB:()=>sV,Audio_ATRAC3:()=>dV,Audio_ATRAC_ADVANCED_LOSSLESS:()=>uV,Audio_ATRAC_X:()=>pV,Audio_Aac:()=>nV,Audio_Ac3:()=>oV,Audio_Adpcm:()=>rV,Audio_Amr_WbPlus:()=>aV,Audio_Aptx:()=>lV,Audio_Asc:()=>cV,Audio_BV16:()=>mV,Audio_BV32:()=>gV,Audio_Basic:()=>hV,Audio_CN:()=>xV,Audio_Clearmode:()=>fV,Audio_DAT12:()=>FV,Audio_DV:()=>vV,Audio_DVI4:()=>TV,Audio_Dls:()=>wV,Audio_Dsr_Es201108:()=>_V,Audio_Dsr_Es202050:()=>AV,Audio_Dsr_Es202211:()=>SV,Audio_Dsr_Es202212:()=>kV,Audio_EVRC:()=>EV,Audio_EVRC0:()=>MV,Audio_EVRC1:()=>CV,Audio_EVRCB:()=>LV,Audio_EVRCB0:()=>BV,Audio_EVRCB1:()=>PV,Audio_EVRCNW:()=>RV,Audio_EVRCNW0:()=>VV,Audio_EVRCNW1:()=>IV,Audio_EVRCWB:()=>WV,Audio_EVRCWB0:()=>OV,Audio_EVRCWB1:()=>NV,Audio_EVRC_QCP:()=>DV,Audio_EVS:()=>HV,Audio_Eac3:()=>bV,Audio_Encaprtp:()=>yV,Audio_Example:()=>jV,Audio_Flexfec:()=>XV,Audio_Fwdred:()=>UV,Audio_G711_0:()=>zV,Audio_G719:()=>GV,Audio_G722:()=>qV,Audio_G7221:()=>JV,Audio_G723:()=>$V,Audio_G726_16:()=>KV,Audio_G726_24:()=>YV,Audio_G726_32:()=>QV,Audio_G726_40:()=>ZV,Audio_G728:()=>eI,Audio_G729:()=>tI,Audio_G7291:()=>nI,Audio_G729D:()=>oI,Audio_G729E:()=>rI,Audio_GSM:()=>iI,Audio_GSM_EFR:()=>sI,Audio_GSM_HR_08:()=>aI,Audio_ILBC:()=>lI,Audio_Ip_Mr_v25:()=>cI,Audio_Isac:()=>uI,Audio_L16:()=>pI,Audio_L20:()=>dI,Audio_L24:()=>hI,Audio_L8:()=>mI,Audio_LPC:()=>gI,Audio_MELP:()=>fI,Audio_MELP1200:()=>xI,Audio_MELP2400:()=>FI,Audio_MELP600:()=>wI,Audio_MP4A_LATM:()=>kI,Audio_MPA:()=>vI,Audio_Midi:()=>_I,Audio_Mobile_Xmf:()=>AI,Audio_Mp4:()=>SI,Audio_Mpa_Robust:()=>TI,Audio_Mpeg:()=>bI,Audio_Mpeg4_Generic:()=>yI,Audio_Musepack:()=>EI,Audio_Ogg:()=>DI,Audio_Opus:()=>MI,Audio_PCMA:()=>LI,Audio_PCMA_WB:()=>BI,Audio_PCMU:()=>PI,Audio_PCMU_WB:()=>RI,Audio_Parityfec:()=>CI,Audio_PrsSid:()=>VI,Audio_Qcelp:()=>II,Audio_RED:()=>OI,Audio_Raptorfec:()=>WI,Audio_Rtp_Enc_Aescm128:()=>NI,Audio_Rtp_Midi:()=>HI,Audio_Rtploopback:()=>jI,Audio_Rtx:()=>XI,Audio_S3m:()=>UI,Audio_SMV:()=>GI,Audio_SMV0:()=>JI,Audio_SMV_QCP:()=>qI,Audio_Silk:()=>zI,Audio_Sp_Midi:()=>$I,Audio_Speex:()=>KI,Audio_T140c:()=>YI,Audio_T38:()=>QI,Audio_TETRA_ACELP:()=>e4,Audio_TETRA_ACELP_BB:()=>t4,Audio_Telephone_Event:()=>ZI,Audio_Tone:()=>n4,Audio_UEMCLIP:()=>o4,Audio_Ulpfec:()=>r4,Audio_Usac:()=>i4,Audio_VDVI:()=>s4,Audio_VMR_WB:()=>Z4,Audio_Vendor_1d_Interleaved_Parityfec:()=>a4,Audio_Vendor_32kadpcm:()=>l4,Audio_Vendor_3gpp:()=>c4,Audio_Vendor_3gpp2:()=>u4,Audio_Vendor_3gppIufp:()=>p4,Audio_Vendor_4SB:()=>d4,Audio_Vendor_Audiokoz:()=>h4,Audio_Vendor_CELP:()=>m4,Audio_Vendor_CiscoNse:()=>g4,Audio_Vendor_CmlesRadio_Events:()=>f4,Audio_Vendor_CnsAnp1:()=>x4,Audio_Vendor_CnsInf1:()=>F4,Audio_Vendor_DeceAudio:()=>w4,Audio_Vendor_Digital_Winds:()=>_4,Audio_Vendor_DlnaAdts:()=>A4,Audio_Vendor_DolbyHeaac1:()=>S4,Audio_Vendor_DolbyHeaac2:()=>k4,Audio_Vendor_DolbyMlp:()=>v4,Audio_Vendor_DolbyMps:()=>T4,Audio_Vendor_DolbyPl2:()=>b4,Audio_Vendor_DolbyPl2x:()=>y4,Audio_Vendor_DolbyPl2z:()=>E4,Audio_Vendor_DolbyPulse1:()=>D4,Audio_Vendor_Dra:()=>M4,Audio_Vendor_Dts:()=>C4,Audio_Vendor_DtsHd:()=>L4,Audio_Vendor_DtsUhd:()=>B4,Audio_Vendor_DvbFile:()=>P4,Audio_Vendor_EveradPlj:()=>R4,Audio_Vendor_HnsAudio:()=>V4,Audio_Vendor_LucentVoice:()=>I4,Audio_Vendor_Ms_PlayreadyMediaPya:()=>W4,Audio_Vendor_NokiaMobile_Xmf:()=>O4,Audio_Vendor_NortelVbk:()=>N4,Audio_Vendor_NueraEcelp4800:()=>H4,Audio_Vendor_NueraEcelp7470:()=>j4,Audio_Vendor_NueraEcelp9600:()=>X4,Audio_Vendor_OctelSbc:()=>U4,Audio_Vendor_PresonusMultitrack:()=>z4,Audio_Vendor_Qcelp:()=>G4,Audio_Vendor_Rhetorex32kadpcm:()=>q4,Audio_Vendor_Rip:()=>J4,Audio_Vendor_Rn_Realaudio:()=>$4,Audio_Vendor_SealedmediaSoftsealMpeg:()=>K4,Audio_Vendor_VmxCvsd:()=>Y4,Audio_Vendor_Wave:()=>Q4,Audio_Vorbis:()=>e6,Audio_Vorbis_Config:()=>t6,Audio_Wav:()=>n6,Audio_Wave:()=>o6,Audio_WebMOpus:()=>i6,Audio_Webm:()=>r6,Audio_X_Aac:()=>s6,Audio_X_Aiff:()=>a6,Audio_X_Caf:()=>l6,Audio_X_Flac:()=>c6,Audio_X_Matroska:()=>u6,Audio_X_Mpegurl:()=>p6,Audio_X_Ms_Wax:()=>d6,Audio_X_Ms_Wma:()=>h6,Audio_X_Pn_Realaudio:()=>m6,Audio_X_Pn_Realaudio_Plugin:()=>g6,Audio_X_Tta:()=>f6,Audio_X_Wav:()=>x6,Audio_Xm:()=>F6});var q=Me("audio"),nV=q("aac","aac"),oV=q("ac3","ac3"),rV=q("adpcm","adp"),iV=q("amr","amr"),sV=q("amr-wb"),aV=q("amr-wb+"),lV=q("aptx"),cV=q("asc"),uV=q("atrac-advanced-lossless"),pV=q("atrac-x"),dV=q("atrac3"),hV=q("basic","au","snd"),mV=q("bv16"),gV=q("bv32"),fV=q("clearmode"),xV=q("cn"),FV=q("dat12"),wV=q("dls"),_V=q("dsr-es201108"),AV=q("dsr-es202050"),SV=q("dsr-es202211"),kV=q("dsr-es202212"),vV=q("dv"),TV=q("dvi4"),bV=q("eac3"),yV=q("encaprtp"),EV=q("evrc"),DV=q("evrc-qcp"),MV=q("evrc0"),CV=q("evrc1"),LV=q("evrcb"),BV=q("evrcb0"),PV=q("evrcb1"),RV=q("evrcnw"),VV=q("evrcnw0"),IV=q("evrcnw1"),WV=q("evrcwb"),OV=q("evrcwb0"),NV=q("evrcwb1"),HV=q("evs"),jV=q("example"),XV=q("flexfec"),UV=q("fwdred"),zV=q("g711-0"),GV=q("g719"),qV=q("g722"),JV=q("g7221"),$V=q("g723"),KV=q("g726-16"),YV=q("g726-24"),QV=q("g726-32"),ZV=q("g726-40"),eI=q("g728"),tI=q("g729"),nI=q("g7291"),oI=q("g729d"),rI=q("g729e"),iI=q("gsm","gsm"),sI=q("gsm-efr"),aI=q("gsm-hr-08"),lI=q("ilbc"),cI=q("ip-mr_v2.5"),uI=q("isac"),pI=q("l16"),dI=q("l20"),hI=q("l24"),mI=q("l8"),gI=q("lpc"),fI=q("melp"),xI=q("melp1200"),FI=q("melp2400"),wI=q("melp600"),_I=q("midi","mid","midi","kar","rmi"),AI=q("mobile-xmf"),SI=q("mp4","m4a","mp4a"),kI=q("mp4a-latm"),vI=q("mpa"),TI=q("mpa-robust"),bI=q("mpeg","mp3","mp2","mp2a","mpga","m2a","m3a"),yI=q("mpeg4-generic"),EI=q("musepack"),DI=q("ogg","ogg","oga","spx"),MI=q("opus"),CI=q("parityfec"),LI=q("pcma"),BI=q("pcma-wb"),PI=q("pcmu"),RI=q("pcmu-wb"),VI=q("prs.sid"),II=q("qcelp"),WI=q("raptorfec"),OI=q("red"),NI=q("rtp-enc-aescm128"),HI=q("rtp-midi"),jI=q("rtploopback"),XI=q("rtx"),UI=q("s3m","s3m"),zI=q("silk","sil"),GI=q("smv"),qI=q("smv-qcp"),JI=q("smv0"),$I=q("sp-midi"),KI=q("speex"),YI=q("t140c"),QI=q("t38"),ZI=q("telephone-event"),e4=q("tetra_acelp"),t4=q("tetra_acelp_bb"),n4=q("tone"),o4=q("uemclip"),r4=q("ulpfec"),i4=q("usac"),s4=q("vdvi"),a4=q("1d-interleaved-parityfec"),l4=q("32kadpcm"),c4=q("3gpp"),u4=q("3gpp2"),p4=q("vnd.3gpp.iufp"),d4=q("vnd.4sb"),h4=q("vnd.audiokoz"),m4=q("vnd.celp"),g4=q("vnd.cisco.nse"),f4=q("vnd.cmles.radio-events"),x4=q("vnd.cns.anp1"),F4=q("vnd.cns.inf1"),w4=q("vnd.dece.audio","uva","uvva"),_4=q("vnd.digital-winds","eol"),A4=q("vnd.dlna.adts"),S4=q("vnd.dolby.heaac.1"),k4=q("vnd.dolby.heaac.2"),v4=q("vnd.dolby.mlp"),T4=q("vnd.dolby.mps"),b4=q("vnd.dolby.pl2"),y4=q("vnd.dolby.pl2x"),E4=q("vnd.dolby.pl2z"),D4=q("vnd.dolby.pulse.1"),M4=q("vnd.dra","dra"),C4=q("vnd.dts","dts"),L4=q("vnd.dts.hd","dtshd"),B4=q("vnd.dts.uhd"),P4=q("vnd.dvb.file"),R4=q("vnd.everad.plj"),V4=q("vnd.hns.audio"),I4=q("vnd.lucent.voice","lvp"),W4=q("vnd.ms-playready.media.pya","pya"),O4=q("vnd.nokia.mobile-xmf"),N4=q("vnd.nortel.vbk"),H4=q("vnd.nuera.ecelp4800","ecelp4800"),j4=q("vnd.nuera.ecelp7470","ecelp7470"),X4=q("vnd.nuera.ecelp9600","ecelp9600"),U4=q("vnd.octel.sbc"),z4=q("vnd.presonus.multitrack"),G4=q("vnd.qcelp").deprecate("in favor of audio/qcelp"),q4=q("vnd.rhetorex.32kadpcm"),J4=q("vnd.rip","rip"),$4=q("vnd.rn-realaudio"),K4=q("vnd.sealedmedia.softseal.mpeg"),Y4=q("vnd.vmx.cvsd"),Q4=q("vnd.wave","wav"),Z4=q("vmr-wb"),e6=q("vorbis"),t6=q("vorbis-config"),n6=q("wav","wav"),o6=q("wave","wav"),r6=q("webm","weba","webm"),i6=q("webm; codec=opus","weba"),s6=q("x-aac","aac"),a6=q("x-aiff","aif","aiff","aifc"),l6=q("x-caf","caf"),c6=q("x-flac","flac"),u6=q("x-matroska","mka"),p6=q("x-mpegurl","m3u"),d6=q("x-ms-wax","wax"),h6=q("x-ms-wma","wma"),m6=q("x-pn-realaudio","ram","ra"),g6=q("x-pn-realaudio-plugin","rmp"),f6=q("x-tta"),x6=q("x-wav","wav"),F6=q("xm","xm");var ns={};st(ns,{Chemical_X_Cdx:()=>w6,Chemical_X_Cif:()=>_6,Chemical_X_Cmdf:()=>A6,Chemical_X_Cml:()=>S6,Chemical_X_Csml:()=>k6,Chemical_X_Pdb:()=>v6,Chemical_X_Xyz:()=>T6});var dn=Me("chemical"),w6=dn("x-cdx","cdx"),_6=dn("x-cif","cif"),A6=dn("x-cmdf","cmdf"),S6=dn("x-cml","cml"),k6=dn("x-csml","csml"),v6=dn("x-pdb"),T6=dn("x-xyz","xyz");var os={};st(os,{Font_Collection:()=>b6,Font_Otf:()=>y6,Font_Sfnt:()=>E6,Font_Ttf:()=>D6,Font_Woff:()=>M6,Font_Woff2:()=>C6});var Wn=Me("font"),b6=Wn("collection","ttc"),y6=Wn("otf","otf"),E6=Wn("sfnt"),D6=Wn("ttf","ttf"),M6=Wn("woff","woff"),C6=Wn("woff2","woff2");var is={};st(is,{Image_Aces:()=>L6,Image_Apng:()=>B6,Image_Avci:()=>P6,Image_Avcs:()=>R6,Image_Avif:()=>V6,Image_Bmp:()=>I6,Image_Cgm:()=>W6,Image_Dicom_Rle:()=>O6,Image_EXR:()=>j6,Image_Emf:()=>N6,Image_Example:()=>H6,Image_Fits:()=>X6,Image_G3fax:()=>U6,Image_Gif:()=>z6,Image_Heic:()=>G6,Image_Heic_Sequence:()=>q6,Image_Heif:()=>J6,Image_Heif_Sequence:()=>$6,Image_Hej2k:()=>K6,Image_Hsj2:()=>Y6,Image_Ief:()=>Q6,Image_Jls:()=>Z6,Image_Jp2:()=>eW,Image_Jpeg:()=>rs,Image_Jph:()=>tW,Image_Jphc:()=>nW,Image_Jpm:()=>oW,Image_Jpx:()=>rW,Image_Jxr:()=>iW,Image_JxrA:()=>sW,Image_JxrS:()=>aW,Image_Jxs:()=>lW,Image_Jxsc:()=>cW,Image_Jxsi:()=>uW,Image_Jxss:()=>pW,Image_Ktx:()=>dW,Image_Naplps:()=>hW,Image_Pjpeg:()=>mW,Image_Png:()=>_o,Image_PrsBtif:()=>gW,Image_PrsPti:()=>fW,Image_Pwg_Raster:()=>xW,Image_Raw:()=>FW,Image_Sgi:()=>wW,Image_SvgXml:()=>_W,Image_T38:()=>AW,Image_Tiff:()=>SW,Image_Tiff_Fx:()=>kW,Image_Vendor_AdobePhotoshop:()=>vW,Image_Vendor_AirzipAcceleratorAzv:()=>TW,Image_Vendor_CnsInf2:()=>bW,Image_Vendor_DeceGraphic:()=>yW,Image_Vendor_Djvu:()=>EW,Image_Vendor_DvbSubtitle:()=>DW,Image_Vendor_Dwg:()=>MW,Image_Vendor_Dxf:()=>CW,Image_Vendor_Fastbidsheet:()=>LW,Image_Vendor_Fpx:()=>BW,Image_Vendor_Fst:()=>PW,Image_Vendor_FujixeroxEdmics_Mmr:()=>RW,Image_Vendor_FujixeroxEdmics_Rlc:()=>VW,Image_Vendor_GlobalgraphicsPgb:()=>IW,Image_Vendor_MicrosoftIcon:()=>WW,Image_Vendor_Mix:()=>OW,Image_Vendor_MozillaApng:()=>NW,Image_Vendor_Ms_Dds:()=>HW,Image_Vendor_Ms_Modi:()=>jW,Image_Vendor_Ms_Photo:()=>XW,Image_Vendor_Net_Fpx:()=>UW,Image_Vendor_Radiance:()=>zW,Image_Vendor_SealedPng:()=>JW,Image_Vendor_SealedmediaSoftsealGif:()=>GW,Image_Vendor_SealedmediaSoftsealJpg:()=>qW,Image_Vendor_Svf:()=>$W,Image_Vendor_TencentTap:()=>KW,Image_Vendor_ValveSourceTexture:()=>YW,Image_Vendor_WapWbmp:()=>QW,Image_Vendor_Xiff:()=>ZW,Image_Vendor_ZbrushPcx:()=>eO,Image_Webp:()=>tO,Image_Wmf:()=>nO,Image_X_3ds:()=>oO,Image_X_Cmu_Raster:()=>rO,Image_X_Cmx:()=>iO,Image_X_Emf:()=>sO,Image_X_Freehand:()=>aO,Image_X_Icon:()=>lO,Image_X_Mrsid_Image:()=>cO,Image_X_Ms_Bmp:()=>uO,Image_X_Pcx:()=>pO,Image_X_Pict:()=>dO,Image_X_Portable_Anymap:()=>hO,Image_X_Portable_Bitmap:()=>mO,Image_X_Portable_Graymap:()=>gO,Image_X_Portable_Pixmap:()=>fO,Image_X_Rgb:()=>xO,Image_X_Tga:()=>FO,Image_X_Wmf:()=>wO,Image_X_Xbitmap:()=>_O,Image_X_Xcf:()=>AO,Image_X_Xpixmap:()=>SO,Image_X_Xwindowdump:()=>kO});var ie=Me("image"),L6=ie("aces"),B6=ie("apng","apng"),P6=ie("avci"),R6=ie("avcs"),V6=ie("avif","avif"),I6=ie("bmp","bmp"),W6=ie("cgm","cgm"),O6=ie("dicom-rle"),N6=ie("emf"),H6=ie("example"),j6=ie("x-exr","exr"),X6=ie("fits"),U6=ie("g3fax","g3"),z6=ie("gif","gif"),G6=ie("heic"),q6=ie("heic-sequence"),J6=ie("heif"),$6=ie("heif-sequence"),K6=ie("hej2k"),Y6=ie("hsj2"),Q6=ie("ief","ief"),Z6=ie("jls"),eW=ie("jp2"),rs=ie("jpeg","jpeg","jpg","jpe"),tW=ie("jph"),nW=ie("jphc"),oW=ie("jpm"),rW=ie("jpx"),iW=ie("jxr"),sW=ie("jxra"),aW=ie("jxrs"),lW=ie("jxs"),cW=ie("jxsc"),uW=ie("jxsi"),pW=ie("jxss"),dW=ie("ktx","ktx"),hW=ie("naplps"),mW=ie("pjpeg"),_o=ie("png","png"),gW=ie("prs.btif","btif"),fW=ie("prs.pti"),xW=ie("pwg-raster"),FW=ie("x-raw","raw"),wW=ie("sgi","sgi"),_W=ie("svg+xml","svg","svgz"),AW=ie("t38"),SW=ie("tiff","tiff","tif"),kW=ie("tiff-fx"),vW=ie("vnd.adobe.photoshop","psd"),TW=ie("vnd.airzip.accelerator.azv"),bW=ie("vnd.cns.inf2"),yW=ie("vnd.dece.graphic","uvi","uvvi","uvg","uvvg"),EW=ie("vnd.djvu","djvu","djv"),DW=ie("vnd.dvb.subtitle","sub"),MW=ie("vnd.dwg","dwg"),CW=ie("vnd.dxf","dxf"),LW=ie("vnd.fastbidsheet","fbs"),BW=ie("vnd.fpx","fpx"),PW=ie("vnd.fst","fst"),RW=ie("vnd.fujixerox.edmics-mmr","mmr"),VW=ie("vnd.fujixerox.edmics-rlc","rlc"),IW=ie("vnd.globalgraphics.pgb"),WW=ie("vnd.microsoft.icon","ico"),OW=ie("vnd.mix"),NW=ie("vnd.mozilla.apng"),HW=ie("vnd.ms-dds","dds"),jW=ie("vnd.ms-modi","mdi"),XW=ie("vnd.ms-photo","wdp"),UW=ie("vnd.net-fpx","npx"),zW=ie("vnd.radiance"),GW=ie("vnd.sealedmedia.softseal.gif"),qW=ie("vnd.sealedmedia.softseal.jpg"),JW=ie("vnd.sealed.png"),$W=ie("vnd.svf"),KW=ie("vnd.tencent.tap"),YW=ie("vnd.valve.source.texture"),QW=ie("vnd.wap.wbmp","wbmp"),ZW=ie("vnd.xiff","xif"),eO=ie("vnd.zbrush.pcx"),tO=ie("webp","webp"),nO=ie("wmf"),oO=ie("x-3ds","3ds"),rO=ie("x-cmu-raster","ras"),iO=ie("x-cmx","cmx"),sO=ie("x-emf").deprecate("in favor of image/emf"),aO=ie("x-freehand","fh","fhc","fh4","fh5","fh7"),lO=ie("x-icon","ico"),cO=ie("x-mrsid-image","sid"),uO=ie("x-ms-bmp"),pO=ie("x-pcx","pcx"),dO=ie("x-pict","pic","pct"),hO=ie("x-portable-anymap","pnm"),mO=ie("x-portable-bitmap","pbm"),gO=ie("x-portable-graymap","pgm"),fO=ie("x-portable-pixmap","ppm"),xO=ie("x-rgb","rgb"),FO=ie("x-tga","tga"),wO=ie("x-wmf").deprecate("in favor of image/wmf"),_O=ie("x-xbitmap","xbm"),AO=ie("x-xcf"),SO=ie("x-xpixmap","xpm"),kO=ie("x-xwindowdump","xwd");var ss={};st(ss,{Message_CPIM:()=>vO,Message_Delivery_Status:()=>TO,Message_Disposition_Notification:()=>bO,Message_Example:()=>yO,Message_External_Body:()=>EO,Message_Feedback_Report:()=>DO,Message_Global:()=>MO,Message_Global_Delivery_Status:()=>CO,Message_Global_Disposition_Notification:()=>LO,Message_Global_Headers:()=>BO,Message_Http:()=>PO,Message_ImdnXml:()=>RO,Message_News:()=>VO,Message_Partial:()=>IO,Message_Rfc822:()=>WO,Message_S_Http:()=>OO,Message_Sip:()=>NO,Message_Sipfrag:()=>HO,Message_Tracking_Status:()=>jO,Message_Vendor_SiSimp:()=>XO,Message_Vendor_WfaWsc:()=>UO});var He=Me("message"),vO=He("cpim"),TO=He("delivery-status"),bO=He("disposition-notification"),yO=He("example"),EO=He("external-body"),DO=He("feedback-report"),MO=He("global"),CO=He("global-delivery-status"),LO=He("global-disposition-notification"),BO=He("global-headers"),PO=He("http"),RO=He("imdn+xml","xml"),VO=He("news").deprecate("by RFC5537"),IO=He("partial"),WO=He("rfc822","eml","mime"),OO=He("s-http"),NO=He("sip"),HO=He("sipfrag"),jO=He("tracking-status"),XO=He("vnd.si.simp").deprecate("by request"),UO=He("vnd.wfa.wsc");var as={};st(as,{Model_Example:()=>zO,Model_Gltf_Binary:()=>GO,Model_Gltf_Json:()=>qO,Model_Iges:()=>JO,Model_Mesh:()=>$O,Model_Stl:()=>KO,Model_Vendor_3mf:()=>YO,Model_Vendor_ColladaXml:()=>QO,Model_Vendor_Dwf:()=>ZO,Model_Vendor_Flatland3dml:()=>eN,Model_Vendor_Gdl:()=>tN,Model_Vendor_GsGdl:()=>oN,Model_Vendor_Gs_Gdl:()=>nN,Model_Vendor_Gtw:()=>rN,Model_Vendor_MomlXml:()=>iN,Model_Vendor_Mts:()=>sN,Model_Vendor_Opengex:()=>aN,Model_Vendor_ParasolidTransmitBinary:()=>lN,Model_Vendor_ParasolidTransmitText:()=>cN,Model_Vendor_RosetteAnnotated_Data_Model:()=>uN,Model_Vendor_UsdzZip:()=>pN,Model_Vendor_ValveSourceCompiled_Map:()=>dN,Model_Vendor_Vtu:()=>hN,Model_Vrml:()=>mN,Model_X3dBinary:()=>fN,Model_X3dFastinfoset:()=>xN,Model_X3dVrml:()=>FN,Model_X3dXml:()=>wN,Model_X3d_Vrml:()=>gN});var Ee=Me("model"),zO=Ee("example"),GO=Ee("gltf-binary","glb"),qO=Ee("gltf+json","gltf"),JO=Ee("iges","igs","iges"),$O=Ee("mesh","msh","mesh","silo"),KO=Ee("stl"),YO=Ee("3mf"),QO=Ee("vnd.collada+xml","dae"),ZO=Ee("vnd.dwf","dwf"),eN=Ee("vnd.flatland.3dml"),tN=Ee("vnd.gdl","gdl"),nN=Ee("vnd.gs-gdl"),oN=Ee("vnd.gs.gdl"),rN=Ee("vnd.gtw","gtw"),iN=Ee("vnd.moml+xml","xml"),sN=Ee("vnd.mts","mts"),aN=Ee("vnd.opengex"),lN=Ee("vnd.parasolid.transmit.binary"),cN=Ee("vnd.parasolid.transmit.text"),uN=Ee("vnd.rosette.annotated-data-model"),pN=Ee("vnd.usdz+zip","zip"),dN=Ee("vnd.valve.source.compiled-map"),hN=Ee("vnd.vtu","vtu"),mN=Ee("vrml","wrl","vrml"),gN=Ee("x3d-vrml"),fN=Ee("x3d+binary","x3db","x3dbz"),xN=Ee("x3d+fastinfoset","fastinfoset"),FN=Ee("x3d+vrml","x3dv","x3dvz"),wN=Ee("x3d+xml","x3d","x3dz");var ls={};st(ls,{MultipartAlternative:()=>_N,MultipartAppledouble:()=>AN,MultipartByteranges:()=>SN,MultipartDigest:()=>kN,MultipartEncrypted:()=>vN,MultipartExample:()=>TN,MultipartForm_Data:()=>bN,MultipartHeader_Set:()=>yN,MultipartMixed:()=>EN,MultipartMultilingual:()=>DN,MultipartParallel:()=>MN,MultipartRelated:()=>CN,MultipartReport:()=>LN,MultipartSigned:()=>BN,MultipartVendorBintMed_Plus:()=>PN,MultipartVoice_Message:()=>RN,MultipartX_Mixed_Replace:()=>VN});var Ze=Me("multipart"),_N=Ze("alternative"),AN=Ze("appledouble"),SN=Ze("byteranges"),kN=Ze("digest"),vN=Ze("encrypted"),TN=Ze("example"),bN=Ze("form-data"),yN=Ze("header-set"),EN=Ze("mixed"),DN=Ze("multilingual"),MN=Ze("parallel"),CN=Ze("related"),LN=Ze("report"),BN=Ze("signed"),PN=Ze("vnd.bint.med-plus"),RN=Ze("voice-message"),VN=Ze("x-mixed-replace");var ps={};st(ps,{Text_Cache_Manifest:()=>IN,Text_Calendar:()=>WN,Text_Calender:()=>ON,Text_Cmd:()=>NN,Text_Coffeescript:()=>HN,Text_Css:()=>hn,Text_Csv:()=>jN,Text_Csv_Schema:()=>XN,Text_Directory:()=>UN,Text_Dns:()=>zN,Text_Ecmascript:()=>GN,Text_Encaprtp:()=>qN,Text_Enriched:()=>JN,Text_Event_Stream:()=>$N,Text_Example:()=>KN,Text_Flexfec:()=>YN,Text_Fwdred:()=>QN,Text_Grammar_Ref_List:()=>ZN,Text_Html:()=>cs,Text_Jade:()=>eH,Text_Javascript:()=>tH,Text_Jcr_Cnd:()=>nH,Text_Jsx:()=>oH,Text_Less:()=>rH,Text_Markdown:()=>iH,Text_Mdx:()=>sH,Text_Mizar:()=>aH,Text_N3:()=>lH,Text_Parameters:()=>cH,Text_Parityfec:()=>uH,Text_Plain:()=>Ao,Text_PlainUTF8:()=>pH,Text_Provenance_Notation:()=>dH,Text_PrsFallensteinRst:()=>hH,Text_PrsLinesTag:()=>mH,Text_PrsPropLogic:()=>gH,Text_RED:()=>xH,Text_Raptorfec:()=>fH,Text_Rfc822_Headers:()=>FH,Text_Richtext:()=>wH,Text_Rtf:()=>_H,Text_Rtp_Enc_Aescm128:()=>AH,Text_Rtploopback:()=>SH,Text_Rtx:()=>kH,Text_Sgml:()=>vH,Text_Shex:()=>TH,Text_Slim:()=>bH,Text_Strings:()=>yH,Text_Stylus:()=>EH,Text_T140:()=>DH,Text_Tab_Separated_Values:()=>MH,Text_Troff:()=>CH,Text_Turtle:()=>LH,Text_Ulpfec:()=>BH,Text_Uri_List:()=>PH,Text_Vcard:()=>RH,Text_Vendor_1d_Interleaved_Parityfec:()=>VH,Text_Vendor_A:()=>IH,Text_Vendor_Abc:()=>WH,Text_Vendor_Ascii_Art:()=>OH,Text_Vendor_Curl:()=>NH,Text_Vendor_CurlDcurl:()=>HH,Text_Vendor_CurlMcurl:()=>jH,Text_Vendor_CurlScurl:()=>XH,Text_Vendor_DMClientScript:()=>zH,Text_Vendor_DebianCopyright:()=>UH,Text_Vendor_DvbSubtitle:()=>GH,Text_Vendor_EsmertecTheme_Descriptor:()=>qH,Text_Vendor_FiclabFlt:()=>JH,Text_Vendor_Fly:()=>$H,Text_Vendor_FmiFlexstor:()=>KH,Text_Vendor_Gml:()=>YH,Text_Vendor_Graphviz:()=>QH,Text_Vendor_Hgl:()=>ZH,Text_Vendor_IPTCNITF:()=>o9,Text_Vendor_IPTCNewsML:()=>n9,Text_Vendor_In3d3dml:()=>e9,Text_Vendor_In3dSpot:()=>t9,Text_Vendor_Latex_Z:()=>r9,Text_Vendor_MotorolaReflex:()=>i9,Text_Vendor_Ms_Mediapackage:()=>s9,Text_Vendor_Net2phoneCommcenterCommand:()=>a9,Text_Vendor_RadisysMsml_Basic_Layout:()=>l9,Text_Vendor_SenxWarpscript:()=>c9,Text_Vendor_SiUricatalogue:()=>u9,Text_Vendor_Sosi:()=>p9,Text_Vendor_SunJ2meApp_Descriptor:()=>d9,Text_Vendor_TrolltechLinguist:()=>h9,Text_Vendor_WapSi:()=>m9,Text_Vendor_WapSl:()=>g9,Text_Vendor_WapWml:()=>f9,Text_Vendor_WapWmlscript:()=>x9,Text_Vtt:()=>F9,Text_X_Asm:()=>w9,Text_X_C:()=>_9,Text_X_Fortran:()=>A9,Text_X_Gwt_Rpc:()=>S9,Text_X_Handlebars_Template:()=>k9,Text_X_Java_Source:()=>v9,Text_X_Jquery_Tmpl:()=>T9,Text_X_Lua:()=>b9,Text_X_Markdown:()=>y9,Text_X_Nfo:()=>E9,Text_X_Opml:()=>D9,Text_X_Org:()=>M9,Text_X_Pascal:()=>C9,Text_X_Processing:()=>L9,Text_X_Sass:()=>B9,Text_X_Scss:()=>P9,Text_X_Setext:()=>R9,Text_X_Sfv:()=>V9,Text_X_Suse_Ymp:()=>I9,Text_X_Uuencode:()=>W9,Text_X_Vcalendar:()=>O9,Text_X_Vcard:()=>N9,Text_Xml:()=>us,Text_Xml_External_Parsed_Entity:()=>H9,Text_Yaml:()=>j9});var oe=Me("text"),IN=oe("cache-manifest","appcache"),WN=oe("calendar","ics","ifb"),ON=oe("calender"),NN=oe("cmd"),HN=oe("coffeescript","coffee","litcoffee"),hn=oe("css","css"),jN=oe("csv","csv"),XN=oe("csv-schema"),UN=oe("directory").deprecate("by RFC6350"),zN=oe("dns"),GN=oe("ecmascript").deprecate("in favor of application/ecmascript"),qN=oe("encaprtp"),JN=oe("enriched"),$N=oe("event-stream"),KN=oe("example"),YN=oe("flexfec"),QN=oe("fwdred"),ZN=oe("grammar-ref-list"),cs=oe("html","html","htm"),eH=oe("jade","jade"),tH=oe("javascript").deprecate("in favor of application/javascript"),nH=oe("jcr-cnd"),oH=oe("jsx","jsx"),rH=oe("less","less"),iH=oe("markdown"),sH=oe("mdx","mdx"),aH=oe("mizar"),lH=oe("n3","n3"),cH=oe("parameters"),uH=oe("parityfec"),Ao=oe("plain","txt","text","conf","def","list","log","in"),pH=oe("plain; charset=UTF-8","txt","text","conf","def","list","log","in"),dH=oe("provenance-notation"),hH=oe("prs.fallenstein.rst"),mH=oe("prs.lines.tag","dsc"),gH=oe("prs.prop.logic"),fH=oe("raptorfec"),xH=oe("red"),FH=oe("rfc822-headers"),wH=oe("richtext","rtx"),_H=oe("rtf"),AH=oe("rtp-enc-aescm128"),SH=oe("rtploopback"),kH=oe("rtx"),vH=oe("sgml","sgml","sgm"),TH=oe("shex","shex"),bH=oe("slim","slim","slm"),yH=oe("strings"),EH=oe("stylus","stylus","styl"),DH=oe("t140"),MH=oe("tab-separated-values","tsv"),CH=oe("troff","t","tr","roff","man","me","ms"),LH=oe("turtle","ttl"),BH=oe("ulpfec"),PH=oe("uri-list","uri","uris","urls"),RH=oe("vcard","vcard"),VH=oe("1d-interleaved-parityfec"),IH=oe("vnd.a"),WH=oe("vnd.abc"),OH=oe("vnd.ascii-art"),NH=oe("vnd.curl","curl"),HH=oe("vnd.curl.dcurl","dcurl"),jH=oe("vnd.curl.mcurl","mcurl"),XH=oe("vnd.curl.scurl","scurl"),UH=oe("vnd.debian.copyright"),zH=oe("vnd.dmclientscript"),GH=oe("vnd.dvb.subtitle","sub"),qH=oe("vnd.esmertec.theme-descriptor"),JH=oe("vnd.ficlab.flt"),$H=oe("vnd.fly","fly"),KH=oe("vnd.fmi.flexstor","flx"),YH=oe("vnd.gml"),QH=oe("vnd.graphviz","gv"),ZH=oe("vnd.hgl"),e9=oe("vnd.in3d.3dml","3dml"),t9=oe("vnd.in3d.spot","spot"),n9=oe("vnd.iptc.newsml"),o9=oe("vnd.iptc.nitf"),r9=oe("vnd.latex-z"),i9=oe("vnd.motorola.reflex"),s9=oe("vnd.ms-mediapackage"),a9=oe("vnd.net2phone.commcenter.command"),l9=oe("vnd.radisys.msml-basic-layout"),c9=oe("vnd.senx.warpscript"),u9=oe("vnd.si.uricatalogue").deprecate("by request"),p9=oe("vnd.sosi"),d9=oe("vnd.sun.j2me.app-descriptor","jad"),h9=oe("vnd.trolltech.linguist"),m9=oe("vnd.wap.si"),g9=oe("vnd.wap.sl"),f9=oe("vnd.wap.wml","wml"),x9=oe("vnd.wap.wmlscript","wmls"),F9=oe("vtt"),w9=oe("x-asm","s","asm"),_9=oe("x-c","c","cc","cxx","cpp","h","hh","dic"),A9=oe("x-fortran","f","for","f77","f90"),S9=oe("x-gwt-rpc"),k9=oe("x-handlebars-template","hbs"),v9=oe("x-java-source","java"),T9=oe("x-jquery-tmpl"),b9=oe("x-lua","lua"),y9=oe("x-markdown","mkd"),E9=oe("x-nfo","nfo"),D9=oe("x-opml","opml"),M9=oe("x-org","org"),C9=oe("x-pascal","p","pas"),L9=oe("x-processing","pde"),B9=oe("x-sass","sass"),P9=oe("x-scss","scss"),R9=oe("x-setext","etx"),V9=oe("x-sfv","sfv"),I9=oe("x-suse-ymp","ymp"),W9=oe("x-uuencode","uu"),O9=oe("x-vcalendar","vcs"),N9=oe("x-vcard","vcf"),us=oe("xml"),H9=oe("xml-external-parsed-entity"),j9=oe("yaml","yaml","yml");var hs={};st(hs,{Video_BMPEG:()=>X9,Video_BT656:()=>U9,Video_CelB:()=>z9,Video_DV:()=>G9,Video_Encaprtp:()=>q9,Video_Example:()=>J9,Video_Flexfec:()=>$9,Video_H261:()=>K9,Video_H263:()=>Y9,Video_H263_1998:()=>Q9,Video_H263_2000:()=>Z9,Video_H264:()=>ej,Video_H264_RCDO:()=>tj,Video_H264_SVC:()=>nj,Video_H265:()=>oj,Video_IsoSegment:()=>rj,Video_JPEG:()=>ij,Video_Jpeg2000:()=>sj,Video_Jpm:()=>aj,Video_MP1S:()=>cj,Video_MP2P:()=>uj,Video_MP2T:()=>pj,Video_MP4V_ES:()=>hj,Video_MPV:()=>fj,Video_Mj2:()=>lj,Video_Mp4:()=>dj,Video_Mpeg:()=>mj,Video_Mpeg4_Generic:()=>gj,Video_Nv:()=>xj,Video_Ogg:()=>Fj,Video_Parityfec:()=>wj,Video_Pointer:()=>_j,Video_Quicktime:()=>Aj,Video_Raptorfec:()=>Sj,Video_Raw:()=>kj,Video_Rtp_Enc_Aescm128:()=>vj,Video_Rtploopback:()=>Tj,Video_Rtx:()=>bj,Video_SMPTE292M:()=>Ej,Video_Smpte291:()=>yj,Video_Ulpfec:()=>Dj,Video_VP8:()=>FX,Video_Vc1:()=>Mj,Video_Vc2:()=>Cj,Video_Vendor_1d_Interleaved_Parityfec:()=>Lj,Video_Vendor_3gpp:()=>Bj,Video_Vendor_3gpp2:()=>Rj,Video_Vendor_3gpp_Tt:()=>Pj,Video_Vendor_CCTV:()=>Vj,Video_Vendor_DeceHd:()=>Ij,Video_Vendor_DeceMobile:()=>Wj,Video_Vendor_DeceMp4:()=>Oj,Video_Vendor_DecePd:()=>Nj,Video_Vendor_DeceSd:()=>Hj,Video_Vendor_DeceVideo:()=>jj,Video_Vendor_DirectvMpeg:()=>Xj,Video_Vendor_DirectvMpeg_Tts:()=>Uj,Video_Vendor_DlnaMpeg_Tts:()=>zj,Video_Vendor_DvbFile:()=>Gj,Video_Vendor_Fvt:()=>qj,Video_Vendor_HnsVideo:()=>Jj,Video_Vendor_Iptvforum1dparityfec_1010:()=>$j,Video_Vendor_Iptvforum1dparityfec_2005:()=>Kj,Video_Vendor_Iptvforum2dparityfec_1010:()=>Yj,Video_Vendor_Iptvforum2dparityfec_2005:()=>Qj,Video_Vendor_IptvforumTtsavc:()=>Zj,Video_Vendor_IptvforumTtsmpeg2:()=>eX,Video_Vendor_MotorolaVideo:()=>tX,Video_Vendor_MotorolaVideop:()=>nX,Video_Vendor_Mpeg_Dash_Mpd:()=>ds,Video_Vendor_Mpegurl:()=>oX,Video_Vendor_Ms_PlayreadyMediaPyv:()=>rX,Video_Vendor_NokiaInterleaved_Multimedia:()=>iX,Video_Vendor_NokiaMp4vr:()=>sX,Video_Vendor_NokiaVideovoip:()=>aX,Video_Vendor_Objectvideo:()=>lX,Video_Vendor_RadgamettoolsBink:()=>cX,Video_Vendor_RadgamettoolsSmacker:()=>uX,Video_Vendor_SealedMpeg1:()=>dX,Video_Vendor_SealedMpeg4:()=>hX,Video_Vendor_SealedSwf:()=>mX,Video_Vendor_SealedmediaSoftsealMov:()=>pX,Video_Vendor_UvvuMp4:()=>gX,Video_Vendor_Vivo:()=>fX,Video_Vendor_YoutubeYt:()=>xX,Video_Webm:()=>wX,Video_X_F4v:()=>_X,Video_X_Fli:()=>AX,Video_X_Flv:()=>SX,Video_X_M4v:()=>kX,Video_X_Matroska:()=>vX,Video_X_Mng:()=>TX,Video_X_Ms_Asf:()=>bX,Video_X_Ms_Vob:()=>yX,Video_X_Ms_Wm:()=>EX,Video_X_Ms_Wmv:()=>DX,Video_X_Ms_Wmx:()=>MX,Video_X_Ms_Wvx:()=>CX,Video_X_Msvideo:()=>LX,Video_X_Sgi_Movie:()=>BX,Video_X_Smv:()=>PX});var se=Me("video"),X9=se("bmpeg"),U9=se("bt656"),z9=se("celb"),G9=se("dv"),q9=se("encaprtp"),J9=se("example"),$9=se("flexfec"),K9=se("h261","h261"),Y9=se("h263","h263"),Q9=se("h263-1998"),Z9=se("h263-2000"),ej=se("h264","h264"),tj=se("h264-rcdo"),nj=se("h264-svc"),oj=se("h265"),rj=se("iso.segment"),ij=se("jpeg","jpgv"),sj=se("jpeg2000"),aj=se("jpm","jpm","jpgm"),lj=se("mj2","mj2","mjp2"),cj=se("mp1s"),uj=se("mp2p"),pj=se("mp2t"),dj=se("mp4","mp4","mp4v","mpg4"),hj=se("mp4v-es"),mj=se("mpeg","mpeg","mpg","mpe","m1v","m2v"),gj=se("mpeg4-generic"),fj=se("mpv"),xj=se("nv"),Fj=se("ogg","ogv"),wj=se("parityfec"),_j=se("pointer"),Aj=se("quicktime","qt","mov"),Sj=se("raptorfec"),kj=se("raw"),vj=se("rtp-enc-aescm128"),Tj=se("rtploopback"),bj=se("rtx"),yj=se("smpte291"),Ej=se("smpte292m"),Dj=se("ulpfec"),Mj=se("vc1"),Cj=se("vc2"),Lj=se("1d-interleaved-parityfec"),Bj=se("3gpp","3gp"),Pj=se("3gpp-tt"),Rj=se("3gpp2","3g2"),Vj=se("vnd.cctv"),Ij=se("vnd.dece.hd","uvh","uvvh"),Wj=se("vnd.dece.mobile","uvm","uvvm"),Oj=se("vnd.dece.mp4"),Nj=se("vnd.dece.pd","uvp","uvvp"),Hj=se("vnd.dece.sd","uvs","uvvs"),jj=se("vnd.dece.video","uvv","uvvv"),Xj=se("vnd.directv.mpeg"),Uj=se("vnd.directv.mpeg-tts"),zj=se("vnd.dlna.mpeg-tts"),Gj=se("vnd.dvb.file","dvb"),qj=se("vnd.fvt","fvt"),Jj=se("vnd.hns.video"),$j=se("vnd.iptvforum.1dparityfec-1010"),Kj=se("vnd.iptvforum.1dparityfec-2005"),Yj=se("vnd.iptvforum.2dparityfec-1010"),Qj=se("vnd.iptvforum.2dparityfec-2005"),Zj=se("vnd.iptvforum.ttsavc"),eX=se("vnd.iptvforum.ttsmpeg2"),tX=se("vnd.motorola.video"),nX=se("vnd.motorola.videop"),oX=se("vnd.mpegurl","mxu","m4u"),rX=se("vnd.ms-playready.media.pyv","pyv"),iX=se("vnd.nokia.interleaved-multimedia"),sX=se("vnd.nokia.mp4vr"),aX=se("vnd.nokia.videovoip"),lX=se("vnd.objectvideo"),cX=se("vnd.radgamettools.bink"),uX=se("vnd.radgamettools.smacker"),pX=se("vnd.sealedmedia.softseal.mov"),dX=se("vnd.sealed.mpeg1"),hX=se("vnd.sealed.mpeg4"),mX=se("vnd.sealed.swf"),gX=se("vnd.uvvu.mp4","uvu","uvvu"),fX=se("vnd.vivo","viv"),xX=se("vnd.youtube.yt"),ds=se("vnd.mpeg.dash.mpd","mpd"),FX=se("vp8"),wX=se("webm","webm"),_X=se("x-f4v","f4v"),AX=se("x-fli","fli"),SX=se("x-flv","flv"),kX=se("x-m4v","m4v"),vX=se("x-matroska","mkv","mk3d","mks"),TX=se("x-mng","mng"),bX=se("x-ms-asf","asf","asx"),yX=se("x-ms-vob","vob"),EX=se("x-ms-wm","wm"),DX=se("x-ms-wmv","wmv"),MX=se("x-ms-wmx","wmx"),CX=se("x-ms-wvx","wvx"),LX=se("x-msvideo","avi"),BX=se("x-sgi-movie","movie"),PX=se("x-smv","smv");var ms={};st(ms,{XConference_XCooltalk:()=>VX});var RX=Me("xconference"),VX=RX("x-cooltalk","ice");var gs={};st(gs,{XShader_XFragment:()=>WX,XShader_XVertex:()=>IX});var Ja=Me("x-shader"),IX=Ja("x-vertex","vert","vs","glsl"),WX=Ja("x-fragment","frag","fs","glsl");function $a(o){return Ct(o)?o.element instanceof Element:!1}function je(o){return $a(o)?o.element:fe(o)?xs(o):o}function OX(o){return Ct(o)&&"applyToElement"in o&&ye(o.applyToElement)}function be(o,e,t=""){o=je(o),e?(o.style.removeProperty("display"),getComputedStyle(o).display==="none"&&(o.style.display=t||"block")):o.style.display="none"}function On(o){return o=je(o),o.style.display!=="none"}function fs(o,e,t){o=je(o),e=je(e),t=je(t),o&&e&&o.insertBefore(e,t)}function So(o){if(o=je(o),o.parentElement){for(let e=0;e<o.parentElement.childElementCount;++e)if(o.parentElement.children[e]===o)return e}return null}function Se(o,...e){let t=o instanceof Element||o instanceof ShadowRoot?o:fe(o)?document.querySelector(o):o.element,r=t instanceof HTMLTemplateElement?t.content:t;for(let i of e)O(i)&&(i instanceof Node?r.appendChild(i):$a(i)?r.appendChild(je(i)):OX(i)?t instanceof ShadowRoot||i.applyToElement(t):r.appendChild(document.createTextNode(i.toLocaleString())));return t}function Ka(o,...e){return o=je(o),o.replaceWith(...e.map(je)),o}function xs(o){return document.querySelector(o)}function Ya(o){return Array.from(document.querySelectorAll(o))}function ko(o){return xs(o)}function Qa(o){return xs(o)}function Te(o,...e){let t=null,r=e.filter(xo).filter(i=>i.key==="id"||i.key==="query");for(let i of r)i.key==="query"?(t=i.value,dt(e,i)):i.key==="id"&&(t=document.getElementById(i.value),t&&dt(e,i));return t&&t.tagName!==o.toUpperCase()&&console.warn(`Expected a "${o.toUpperCase()}" element but found a "${t.tagName}".`),t||(t=document.createElement(o)),Se(t,...e),t}function Nn(o){return Ct(o)&&"disabled"in o&&Ft(o.disabled)}function We(o){for(o=je(o);o.lastChild;)o.lastChild.remove()}function et(o,e){o=je(o),We(o),o.append(HX(e))}function Za(o){return o=je(o),o.innerText}function kr(o,e){o=je(o),o.title=e}function mt(o,e,t){o=je(o);let r=O(t),i=r&&o.classList.contains(t);r&&i!==e&&o.classList.toggle(t)}function Hn(o,e,t,r,i){o=je(o);let s=null,l=null,d=null;Ft(e)?(l=e,d=t,i=r):(s=e,l=t,d=r),o.disabled=!l,d&&et(o,d),i&&kr(o,i),s&&(o.classList.toggle("btn-"+s,l),o.classList.toggle("btn-outline-"+s,!l))}async function NX(o,e,t){O(t)&&t.start();let r=o==="canplay"?e.HAVE_CURRENT_DATA:e.HAVE_ENOUGH_DATA;if(e.readyState>=r)return!0;try{return await Ue(e,o,"error"),!0}catch(i){return console.warn(e.error,i),!1}finally{O(t)&&t.end()}}function vr(o,e){return NX("canplaythrough",o,e)}function Rt(...o){return Te("audio",...o)}function el(...o){return Te("button",...o)}function Xt(...o){return el(...o,Et("button"))}function vo(...o){return Xt(...o,ge("btn","btn-sm"))}function mn(...o){return Xt(...o,ge("btn","btn-primary"))}function To(...o){return Xt(...o,ge("btn","btn-sm","btn-primary"))}function tl(...o){return Xt(...o,ge("btn","btn-secondary"))}function nl(...o){return Xt(...o,ge("btn","btn-sm","btn-secondary"))}function ol(...o){return Xt(...o,ge("btn","btn-sm","btn-outline-secondary"))}function Tr(...o){return Xt(...o,ge("btn","btn-danger"))}function rl(...o){return el(...o,Et("reset"))}function br(...o){return Te("canvas",...o)}function il(...o){return Te("datalist",...o)}function Fs(...o){return Te("dd",...o)}function me(...o){return Te("div",...o)}function sl(...o){return Te("dl",...o)}function al(...o){return Te("dt",...o)}function yr(...o){return Te("em",...o)}function ll(...o){return Te("h1",...o)}function gn(...o){return Te("h2",...o)}function Er(...o){return Te("iframe",...o)}function vt(...o){return Te("img",...o)}function bo(...o){return Te("input",...o)}function Dr(...o){return Te("label",...o)}function ws(...o){return Te("link",...o)}function gt(...o){return Te("option",...o)}function cl(...o){return Te("script",...o)}function jn(...o){return Te("select",...o)}function Xn(...o){return Te("span",...o)}function ul(...o){return Te("table",...o)}function pl(...o){return Te("tbody",...o)}function Mr(...o){return Te("td",...o)}function Cr(...o){return Te("textarea",...o)}function dl(...o){return Te("tfoot",...o)}function Un(...o){return Te("th",...o)}function hl(...o){return Te("thead",...o)}function zn(...o){return Te("tr",...o)}function Lr(...o){return Te("video",...o)}function Br(...o){return bo(Et("date"),...o)}function ml(...o){return bo(Et("file"),...o)}function gl(...o){return bo(Et("number"),...o)}function lt(...o){return bo(Et("text"),...o)}function fl(...o){return bo(Et("url"),...o)}function HX(o){return document.createTextNode(o)}function xl(...o){let e=new Blob(o.map(t=>t.toString()),{type:hn.value});return ws(xr("stylesheet"),Ba(e))}var jX="AudioContext"in globalThis,Fl=jX&&"AudioListener"in globalThis,XX=Fl&&"setPosition"in AudioListener.prototype,wl=Fl&&"positionX"in AudioListener.prototype,_s="createMediaStreamSource"in AudioContext.prototype,iG=ye(HTMLMediaElement.prototype.captureStream)||ye(HTMLMediaElement.prototype.mozCaptureStream);var yo=class extends Ae{constructor(e,t){let r=Rt(_t(!1),Va(_s),an(!0),ln(!1),ht("none"),Ji(t.mediaStream)),i;_s?i=new MediaStreamAudioSourceNode(e,t):i=new MediaElementAudioSourceNode(e,{mediaElement:r}),super("media-stream-audio-source",e,i),this._stream=t.mediaStream,this._element=r}onDisposing(){this._element.pause(),super.onDisposing()}get mediaStream(){return this._stream}};var Pr=class extends Ae{constructor(e,t){super("oscillator",e,new OscillatorNode(e,t)),this._node.addEventListener("ended",()=>this.dispatchEvent(new we("ended"))),this.parent(this.detune=new ke("detune",this.context,this._node.detune)),this.parent(this.frequency=new ke("frequency",this.context,this._node.frequency))}get type(){return this._node.type}set type(e){this._node.type=e}get onended(){return this._node.onended}set onended(e){this._node.onended=e}setPeriodicWave(e){this._node.setPeriodicWave(e)}start(e){this._node.start(e)}stop(e){this._node.stop(e)}};var Eo=class extends Ae{constructor(e,t){super("panner",e,new PannerNode(e,t)),this.parent(this.positionX=new ke("positionX",this.context,this._node.positionX)),this.parent(this.positionY=new ke("positionY",this.context,this._node.positionY)),this.parent(this.positionZ=new ke("positionZ",this.context,this._node.positionZ)),this.parent(this.orientationX=new ke("orientationX",this.context,this._node.orientationX)),this.parent(this.orientationY=new ke("orientationY",this.context,this._node.orientationY)),this.parent(this.orientationZ=new ke("orientationZ",this.context,this._node.orientationZ))}get coneInnerAngle(){return this._node.coneInnerAngle}set coneInnerAngle(e){this._node.coneInnerAngle=e}get coneOuterAngle(){return this._node.coneOuterAngle}set coneOuterAngle(e){this._node.coneOuterAngle=e}get coneOuterGain(){return this._node.coneOuterGain}set coneOuterGain(e){this._node.coneOuterGain=e}get distanceModel(){return this._node.distanceModel}set distanceModel(e){this._node.distanceModel=e}get maxDistance(){return this._node.maxDistance}set maxDistance(e){this._node.maxDistance=e}get panningModel(){return this._node.panningModel}set panningModel(e){this._node.panningModel=e}get refDistance(){return this._node.refDistance}set refDistance(e){this._node.refDistance=e}get rolloffFactor(){return this._node.rolloffFactor}set rolloffFactor(e){this._node.rolloffFactor=e}setOrientation(e,t,r){this._node.setOrientation(e,t,r)}setPosition(e,t,r){this._node.setPosition(e,t,r)}};var Rr=class extends Ae{constructor(e,t){super("stereo-panner",e,new StereoPannerNode(e,t)),this.parent(this.pan=new ke("pan",this.context,this._node.pan))}};var Vr=class extends Ae{constructor(e,t){super("wave-shaper",e,new WaveShaperNode(e,t))}get curve(){return this._node.curve}set curve(e){this._node.curve=e}get oversample(){return this._node.oversample}set oversample(e){this._node.oversample=e}};!("AudioContext"in globalThis)&&"webkitAudioContext"in globalThis&&(globalThis.AudioContext=globalThis.webkitAudioContext);!("OfflineAudioContext"in globalThis)&&"webkitOfflineAudioContext"in globalThis&&(globalThis.OfflineAudioContext=globalThis.webkitOfflineAudioContext);var As=class{constructor(e,t){this.type=e,this.name=t,this.connections=new Set}};function Ir(o,e,t,r,i){return o.type===e&&(le(t)||t===o.destination)&&(le(r)||r===o.output)&&(le(i)||i===o.input)}function Gn(o,e){let t=null,r=null;return O(o)&&({destination:t,input:r}=o.resolveInput(e)),{destination:t,input:r}}var fn=class extends AudioContext{get ready(){return this._ready}get isReady(){return this._ready.finished&&this._ready.resolved}constructor(e){super(e),this.counters=new Map,this.nodes=new Map,this._ready=new De,this._destination=new ir(this,super.destination),this.state==="running"?this._ready.resolve():this.state==="closed"?this.resume().then(()=>this._ready.resolve()):uo(()=>this.resume().then(()=>this._ready.resolve())),this.ready.then(()=>console.log("Audio is now ready"))}_init(e,t){if(!this.nodes.has(e)){this.counters.has(t)||this.counters.set(t,0);let r=this.counters.get(t),i=`${t}-${r}`;this.nodes.set(e,new As(t,i)),mo(e)&&(e.name=i),this.counters.set(t,r+1)}}_name(e,t){let{destination:r}=Gn(e);if(this.nodes.has(r)){let i=this.nodes.get(r);i.name=`${t}-${i.type}`}}_dispose(e){this.nodes.delete(e)}_isConnected(e,t,r,i){let{source:s,output:l}=e.resolveOutput(r),{destination:d,input:u}=Gn(t,i);if(le(s)||!this.nodes.has(s))return null;{let a=this.nodes.get(s);for(let p of a.connections)if(Ir(p,"conn",d,l,u))return!0;return!1}}_parent(e,t){let{source:r}=e.resolveOutput(),{destination:i}=Gn(t);this.nodes.has(r)&&this.nodes.get(r).connections.add({type:"parent",src:e,dest:t,destination:i,source:r})}_unparent(e,t){let{source:r}=e.resolveOutput(),{destination:i}=Gn(t);if(this.nodes.has(r)){let s=this.nodes.get(r).connections,l=new Set;for(let d of s)Ir(d,"parent",i)&&l.add(d);for(let d of l)s.delete(d)}}_getConnections(e){return this.nodes.has(e)?this.nodes.get(e).connections:null}_connect(e,t,r,i){let{source:s,output:l}=e.resolveOutput(r),{destination:d,input:u}=Gn(t,i);if(this.nodes.has(s)){let a=this.nodes.get(s).connections,p=!1;for(let x of a)Ir(x,"conn",d,l,u)&&(p=!0);p||a.add({type:"conn",src:e,dest:t,outp:r,inp:i,source:s,destination:d,output:l,input:u})}if(d instanceof AudioNode)return t=t,O(u)?(s.connect(d,l,u),t):O(l)?(s.connect(d,l),t):(s.connect(d),t);d instanceof AudioParam?O(l)?s.connect(d,l):O(d)?s.connect(d):Ge(d):Ge(d)}_disconnect(e,t,r,i){let s;Ie(t)?(s=void 0,r=t):s=t;let{source:l,output:d}=e.resolveOutput(r),{destination:u,input:a}=Gn(s,i);if(this.nodes.has(l)){let p=this.nodes.get(l).connections,x=new Set;for(let w of p)Ir(w,"conn",u,d,a)&&x.add(w);for(let w of x)p.delete(w)}u instanceof AudioNode?O(i)?l.disconnect(u,r,i):O(r)?l.disconnect(u,r):O(u)?l.disconnect(u):l.disconnect():O(r)?l.disconnect(u,r):O(u)?l.disconnect(u):l.disconnect()}getAudioGraph(e){let t=new Map;for(let[r,i]of this.nodes){let s=r instanceof AudioNode?"node":r instanceof AudioParam?"param":"unknown";(e||s!=="param")&&t.set(r,new nr({name:i.name,type:i.type,nodeClass:s}))}for(let[r,i]of this.nodes){let s=t.get(r);for(let l of i.connections){let d=l.destination;if(t.has(d)){let u=t.get(d);s.connectTo(u),u.connectTo(s)}}}return Array.from(t.values())}get destination(){return this._destination}createAnalyser(){return new or(this)}createBiquadFilter(){return new $t(this)}createBufferSource(){return new rr(this)}createChannelMerger(e){return new sr(this,{numberOfInputs:e})}createChannelSplitter(e){return new ar(this,{numberOfOutputs:e})}createConstantSource(){return new lr(this)}createConvolver(){return new cr(this)}createDelay(e){return new ur(this,{maxDelayTime:e})}createDynamicsCompressor(){return new pr(this)}createGain(){return new Nt(this)}createIIRFilter(e,t){return new dr(this,{feedforward:e,feedback:t})}createMediaElementSource(e){return new Lt(this,{mediaElement:e})}createMediaStreamDestination(){return new fo(this)}createMediaStreamSource(e){return new yo(this,{mediaStream:e})}createOscillator(){return new Pr(this)}createPanner(){return new Eo(this)}createStereoPanner(){return new Rr(this)}createWaveShaper(){return new Vr(this)}createScriptProcessor(){throw new Error("Script processor nodes are deprecated")}};function _l(o,e,t){return new Map(o.map(r=>[e(r),t(r)]))}function Do(o,e){return _l(o,e,at)}var Tt=class o{constructor(e,t,r=null){this.value=e,this.desc=t,this.value=e,this.desc=t,this.props=r||{}}contains(e){return e instanceof o?this.contains(e.value):this.value.indexOf(e)>=0}changeStyle(e,t){let r=this.value;return r.endsWith(e)&&(r=r.substring(0,r.length-e.length)),r+=t,r}get textStyle(){return this.changeStyle("\uFE0F","\uFE0E")}get emojiStyle(){return this.changeStyle("\uFE0E","\uFE0F")}};var Al=new Tt("\u2BC1","Black Diamond Centred");var Sl=new Tt("\u{1F503}\uFE0F","Clockwise Vertical Arrows");var kl=new Tt("\u2BC6","Black Medium Down-Pointing Triangle Centered");var vl=new Tt("\u2BC8","Black Medium Right-Pointing Triangle Centered");var Tl=new Tt("\u2795","Plus");var bl=new Tt("\u{1F4A1}","Light Bulb");var yl=new Tt("\u{1F4C1}","File Folder");var Ss=new Tt("\u26A0\uFE0F","Warning");var El=new Tt("\u{1F3F7}\uFE0F","Label");function qn(...o){return Promise.all(o)}function Mo(o){if(o.status>=400)throw new Error("Resource could not be retrieved: "+o.requestPath);return o}function Re(o){let{content:e}=Mo(o);return e}function Dl(o,e,t){let r=l=>O(l)&&O(t)&&t(l),i=new Jn(null),s=new Map;for(let l of o){let d=new Jn(l);s.set(l,d)}for(let l of s.values()){let d=e(l.value);(d!=null&&s.has(d)?s.get(d):i).connectSorted(l,r)}return i}var Jn=class extends Dn{get depth(){let e=0,t=this.parent;for(;O(t);)++e,t=t.parent;return e}removeFromParent(){for(;this.parent;)this.parent.disconnectFrom(this)}connectTo(e){e.removeFromParent(),super.connectTo(e)}connectAt(e,t){e.removeFromParent(),super.connectAt(e,t)}connectSorted(e,t){e.removeFromParent(),super.connectSorted(e,t)}get parent(){return this._reverse.length===0?null:this._reverse[0]}get children(){return this._forward}get isRoot(){return this._isEntryPoint}get isChild(){return!this._isEntryPoint}get isLeaf(){return this._isExitPoint}get hasChildren(){return!this._isExitPoint}};var Qt=class extends Pe{constructor(){super(...arguments),this.attached=new Array,this.soFar=null,this.total=null,this.msg=null,this.est=null}get p(){return this.total>0?this.soFar/this.total:0}report(e,t,r,i){this.soFar=e,this.total=t,this.msg=r,this.est=i;for(let s of this.attached)s.report(e,t,r,i)}attach(e){this.attached.push(e),e.report(this.soFar,this.total,this.msg,this.est)}clear(){this.report(0,0),this._clear()}start(e){this.report(0,1,e||"starting")}end(e){this.report(1,1,e||"done"),this._clear()}_clear(){this.soFar=null,this.total=null,this.msg=null,this.est=null,Be(this.attached)}};function ks(o){return!(o.shiftKey||o.altKey||o.ctrlKey||o.metaKey)}function Ml(o){return e=>{let t=e;ks(t)&&t.key==="Enter"&&o(t)}}var Wr=class{constructor(e,t,r){if(this.name=e,this.callback=t,!ye(t))throw new Error("A function instance is required for this parameter");this.opts=r,Object.freeze(this)}applyToElement(e){this.add(e)}add(e){e.addEventListener(this.name,this.callback,this.opts)}remove(e){e.removeEventListener(this.name,this.callback)}};function Mt(o,e,t){return new Wr(o,e,t)}function Ye(o,e){return Mt("click",o,e)}function Or(o,e){return Mt("contextmenu",o,e)}function Cl(o,e){return Mt("dblclick",o,e)}function Nr(o,e){return Mt("dragend",o,e)}function Ll(o,e){return Mt("dragleave",o,e)}function Hr(o,e){return Mt("dragover",o,e)}function Bl(o,e){return Mt("dragstart",o,e)}function jr(o,e){return Mt("drop",o,e)}function Co(o,e){return Mt("input",o,e)}function Pl(o,e){return Mt("keydown",o,e)}function $n(o,e){let t=0;Ie(o)?t=o:e=o;let r=!0;return(...i)=>{r&&(r=!1,setTimeout(()=>{r=!0,e(...i)},t))}}var UX=xl(`
.tree-view-node-children {
    padding-left: 1.25em;
}

.tree-view-node {
    white-space: pre;
    color: black;
    cursor: default;
}

    .tree-view-node:hover > .tree-view-node-label {
        background-color: rgb(127, 127, 127, 0.125);
    }

.tree-view-node-label[draggable=true] {
    cursor: grab;
}

.tree-view-node.disabled, .tree-view-node.disabled > .tree-view-node-label[draggable=true] {
    cursor: not-allowed;
}

    .tree-view-node.disabled > .tree-view-node-label, .tree-view-node.filtered > .tree-view-node-label {
        opacity: 0.5;
    }

    .tree-view-node.disabled:hover > .tree-view-node-label {
        background-color: unset;
    }

.tree-view-node.selected > .tree-view-node-label {
    background-color: rgb(221, 255, 255);
}

.tree-view-node.selected.disabled > .tree-view-node-label {
    background-color: lightgrey;
}

.tree-view-node .drag-buffer {
    width: 100%;
    height: 0.3em;
}

.tree-view-node.highlighted {
    background-color: rgb(221, 255, 221);
}

.tree-view-node .drag-buffer.highlighted {
    background-color: rgb(200 200 200);
}

.tree-view-node-collapser, .tree-view-node-adder {
    font-family: monospace;
    font-size: 80%;
    color: rgb(119, 119, 119);
    border: none;
    background-color: transparent;
}`),vs=class extends we{constructor(e){super("click"),this.node=e}},xn=class extends we{constructor(e){super("select"),this.node=e}},Xr=class extends we{get finished(){return this._finished}constructor(e,t){super(e),this.parent=t,this._finished=new De}complete(){this._finished.resolve()}},Ts=class extends Xr{constructor(e){super("add",e)}},Lo=class extends Xr{constructor(e){super("contextmenu",e)}},Bo=class extends HTMLElement{static create(e,t,r,i,s,l,d,u){let a=document.createElement("tree-view-node");return a.node=e,a.defaultLabel=t,a._getLabel=r,a._getDescription=i,a._canChangeOrder=s,a._getChildDescription=l,a._canHaveChildren=d,a.createElement=u,a}get node(){return this._node}set node(e){this._node=e}constructor(){super(),this.eventTarget=new Jt(super.addEventListener.bind(this),super.removeEventListener.bind(this),super.dispatchEvent.bind(this)),this.refresh=$n(()=>this.onRefresh());let e=t=>Ye(r=>{this.disabled||(r.preventDefault(),r.stopPropagation(),t(r))});this.root=me(ge("tree-view-node"),this.upper=me(ge("drag-buffer","top")),this.infoView=me(ge("tree-view-node-label"),e(()=>{this.selected||this._select(!0)}),Cl(t=>{!this.disabled&&this.canHaveChildren&&(t.preventDefault(),t.stopPropagation(),this.open=!this.open)}),this.collapser=vo(ge("tree-view-node-collapser"),Ye(t=>{this.canHaveChildren?(t.preventDefault(),t.stopPropagation(),this.open=!this.open):this._select(!0)})),this.labeler=Xn(Or(async t=>{this.disabled||await this._launchMenu(t,new Lo(this))}))),this.subView=me(ge("tree-view-node-children"),this.childTreeNodes=me(),this.adder=vo(ge("tree-view-node-adder"),e(async t=>{this.canHaveChildren&&await this._launchMenu(t,new Ts(this))}),Tl.emojiStyle)),this.lower=me(ge("drag-buffer","bottom")))}connectedCallback(){this.attachShadow({mode:"closed"}).append(UX.cloneNode(),this.root),this.infoView.draggable=this.canChangeOrder,et(this.labeler,this.label),this.adder.title=this.adderTitle,this.setAttribute("open",""),this.open=this.node.isRoot,this.refresh()}addEventListener(e,t,r){this.eventTarget.addEventListener(e,t,r)}removeEventListener(e,t){this.eventTarget.removeEventListener(e,t)}dispatchEvent(e){return this.eventTarget.dispatchEvent(e)}addBubbler(e){this.eventTarget.addBubbler(e)}removeBubbler(e){this.eventTarget.removeBubbler(e)}addScopedEventListener(e,t,r,i){this.eventTarget.addScopedEventListener(e,t,r,i)}removeScope(e){this.eventTarget.removeScope(e)}clearEventListeners(e){this.eventTarget.clearEventListeners(e)}async _launchMenu(e,t){e.preventDefault(),e.stopPropagation(),this.adder.disabled=!0;try{this.dispatchEvent(t),await t.finished}catch{t.complete()}finally{this.adder.disabled=!1}}onRefresh(){this.node.isRoot!==(this.adder.parentElement===this.subView)&&(this.node.isRoot?this.subView.append(this.adder):this.infoView.append(this.adder));let e=this.canHaveChildren&&this.node.hasChildren&&this.node.isChild;kr(this.collapser,this.collapserTitle),et(this.collapser,e?this.open?kl.emojiStyle:vl.emojiStyle:Al.emojiStyle),this.collapser.style.opacity=e?"1":"0",et(this.labeler,this.label),kr(this.adder,this.adderTitle),be(this.adder,this.canHaveChildren,"inline-block"),be(this.upper,this.node.isChild&&this.canChangeOrder&&le(this.previousSibling)),be(this.lower,this.node.isChild&&this.canChangeOrder),this.collapser.disabled=this.disabled&&!this.specialSelectMode||this.node.isRoot,this.adder.disabled=this.disabled||this.specialSelectMode}get specialSelectMode(){return this.adder.classList.contains("disabled")}set specialSelectMode(e){e!==this.specialSelectMode&&(this.adder.classList.toggle("disabled"),this.refresh())}get canHaveChildren(){return this._canHaveChildren(this.node)}get label(){return O(this.node.value)?this._getLabel(this.node.value):this.defaultLabel}get description(){return O(this.node.value)?this._getDescription(this.node.value):null}get childDescription(){return O(this.node.value)?this._getChildDescription(this.node.value):null}get canChangeOrder(){return O(this.node.value)&&this._canChangeOrder(this.node.value)}get collapserTitle(){return this.canHaveChildren?this.open?"Collapse "+this.description:"Expand "+this.description:"Select "+this.description}get adderTitle(){return"Add "+this.childDescription}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e!==this.disabled&&(e?this.setAttribute("disabled",""):this.removeAttribute("disabled"),this.root.classList.toggle("disabled",e),this.refresh())}get filtered(){return this.hasAttribute("filtered")}set _filtered(e){e!==this.filtered&&(e?this.setAttribute("filtered",""):this.removeAttribute("filtered"),this.root.classList.toggle("filtered",e))}get selected(){return this.hasAttribute("selected")}set _selected(e){e!==this.selected&&(e?this.setAttribute("selected",""):this.removeAttribute("selected"),this.root.classList.toggle("selected",e))}get highlighted(){return this.root.classList.contains("highlighted")?0:this.upper.classList.contains("highlighted")?-1:this.lower.classList.contains("highlighted")?1:null}set highlighted(e){e!==this.highlighted&&(this.root.classList.remove("highlighted"),this.upper.classList.remove("highlighted"),this.lower.classList.remove("highlighted"),e===0?this.root.classList.add("highlighted"):e===-1?this.upper.classList.add("highlighted"):e===1&&this.lower.classList.add("highlighted"))}get open(){return this.hasAttribute("open")}set open(e){e!==this.open&&(e?this.setAttribute("open",""):this.removeAttribute("open"),be(this.subView,e),this.refresh())}add(e){this.open=!0;let t=new Jn(e);this.node.connectTo(t),this.createElement(t),this.refresh()}_select(e){if(this.dispatchEvent(new vs(this.node)),!this.selected){let t=new xn(this.node);e||t.stopPropagation(),this.dispatchEvent(t)}}scrollIntoView(e){le(e)&&(e={}),Ft(e)||(le(e.behavior)&&(e.behavior="smooth"),le(e.block)&&(e.block="center"),le(e.inline)&&(e.inline="nearest")),super.scrollIntoView({behavior:"smooth",block:"center",inline:"nearest"})}};customElements.define("tree-view-node",Bo);var ot=class{constructor(e){if(this.items=new Map,this.defaultItems=new Array,O(e))for(let[t,r]of e)this.add(t,r)}add(e,...t){for(let r of t)if(le(e))this.defaultItems.push(r);else{let i=this.items.get(e);le(i)&&this.items.set(e,i=[]),i.push(r)}return this}entries(){return this.items.entries()}[Symbol.iterator](){return this.entries()}keys(){return this.items.keys()}*values(){for(let e of this.defaultItems)yield e;for(let e of this.items.values())for(let t of e)yield t}has(e){return O(e)?this.items.has(e):this.defaultItems.length>0}get(e){return le(e)?this.defaultItems:this.items.get(e)||[]}count(e){if(le(e))return this.defaultItems.length;let t=this.get(e);return O(t)?t.length:0}get size(){let e=this.defaultItems.length;for(let t of this.items.values())e+=t.length;return e}delete(e){return le(e)?Be(this.defaultItems).length>0:this.items.delete(e)}remove(e,t){if(le(e))dt(this.defaultItems,t);else{let r=this.items.get(e);O(r)&&(dt(r,t),r.length===0&&this.items.delete(e))}}clear(){this.items.clear(),Be(this.defaultItems)}};var Po=class{constructor(e,...t){this.name=e,this.properties=t}};function bs(o,...e){return new Po(o,...e)}var ys="DefaultPropertyGroup"+wt(16),zX=ge("single-item");function Rl(o){return o.flatMap(e=>GX(e).flatMap(at))}function GX(o){let e=ys,t=new Array;return o instanceof Po?(e=o.name,t.push(...o.properties.map(r=>Vl(e,r)))):t.push(Vl(e,o)),t}function Vl(o,e){let t=o===ys?null:At("groupname",o);if(Ot(e)){let[r,...i]=e,s=Dr(r);for(let l of i)if(l instanceof HTMLInputElement||l instanceof HTMLTextAreaElement||l instanceof HTMLSelectElement){l.id.length===0&&(l.id=wt(10)),s.htmlFor=l.id;break}return[al(t,s),Fs(t,...i)]}else return(fe(e)||Ie(e)||Ft(e)||ho(e))&&(e=gn(e)),[Fs(t,e)]}function qX(o){return O(o)&&!Qi(o)&&!xo(o)}var Vt=class o{static find(){return Array.from(o._find())}static*_find(){for(let e of Ya(".properties"))yield new o(e)}static create(...e){let t=e.filter(qX),r=e.filter(Qi),i=e.filter(xo),s=Rl(t);return new o(sl(ge("properties"),...r,...i,...s))}constructor(e){this.element=e,this.groups=new ot,this.controls=new Array,this._disabled=!1;let t=[...e.children];for(;t.length>0;){let r=t.shift();Nn(r)&&this.controls.push(r),r instanceof HTMLElement&&(this.checkGroup(r),t.push(...r.children))}}append(...e){let t=Rl(e);Se(this.element,...t);for(let r of e){let i=r instanceof Po?r.properties:[r];for(let s of i)if(!fe(s)){let[l,...d]=Ot(s)?s:[null,s];for(let u of d)Nn(u)&&this.controls.push(u)}}for(let r of t)this.checkGroup(r)}checkGroup(e){let t=je(e),r=t.dataset.groupname;r!==ys&&this.groups.add(r,e),t.parentElement===this.element&&t.tagName==="DD"&&(!t.previousElementSibling||t.previousElementSibling.tagName!=="DT")&&zX.applyToElement(t)}get disabled(){return this._disabled}set disabled(e){if(e!==this.disabled){this._disabled=e,mt(this,e,"disabled");for(let t of this.controls)t.disabled=e}}get enabled(){return!this.disabled}set enabled(e){this.disabled=!e}setGroupVisible(e,t){let r=this.groups.get(e);if(r)for(let i of r)be(i,t)}getGroupVisible(e){let t=this.groups.get(e);if(t)for(let r of t)return On(r);return!1}};var Es=class extends we{constructor(e,t){super("itemselected"),this.item=e,this.items=t}};function Il(...o){return Te("select",Pa("select-list"),...o)}function Ms(o,e){return new Ln(o,zr(e),!1,"select")}function Wl(o){return Ms("valueField",o)}function Ol(o){return Ms("labelField",o)}function Nl(o){return Ms("sortKeyField",o)}function zr(o){if(le(o)||o.length===0)return null;let e=null;return fe(o)?e=t=>(Ct(t)&&o in t&&(e=r=>r[o]),e?e(t):null):e=o,t=>le(t)?null:e(t)}function Ur(o){return le(o)?null:fe(o)?o:"toString"in o&&ye(o.toString)?o.toString():null}var Ds=class extends HTMLSelectElement{constructor(){super(),this.valueToOption=new Map,this.optionToItem=new Map,this._values=[],this._getValue=Ur,this._getLabel=Ur,this._getSortKey=null,this.noSelection=null,this.noSelectionText=null,this.eventTarget=new Jt(super.addEventListener.bind(this),super.removeEventListener.bind(this),super.dispatchEvent.bind(this)),this.addEventListener("input",()=>this.dispatchEvent(new Es(this.selectedItem,this.selectedItems)))}connectedCallback(){for(let e of this.getAttributeNames())this.setAttribute(e,this.getAttribute(e))}setAttribute(e,t){switch(e.toLowerCase()){case"valuefield":this.valueField=zr(t);break;case"labelfield":this.labelField=zr(t);break;case"sortkeyfield":this.sortKeyField=pt(zr(t));break;case"placeholder":this.placeholder=t;break;default:super.setAttribute(e,t)}}removeAttribute(e){switch(e.toLowerCase()){case"valuefield":this.valueField=null;break;case"labelfield":this.labelField=null;break;case"sortkeyfield":this.sortKeyField=null;break;case"placeholder":this.placeholder=null;break;default:super.removeAttribute(e)}}get valueField(){return this._getValue}set valueField(e){e!==this.valueField&&(super.removeAttribute("getValue"),this._getValue=e||Ur,this.render())}get labelField(){return this._getLabel}set labelField(e){e!==this.labelField&&(super.removeAttribute("getLabel"),this._getLabel=e||Ur,this.render())}get sortKeyField(){return this._getSortKey}set sortKeyField(e){e!==this.sortKeyField&&(this.removeAttribute("getSortKey"),this._getSortKey=e,this.render())}get placeholder(){return this.noSelectionText}set placeholder(e){e!==this.placeholder&&(this.noSelectionText=e,this.noSelectionText?this.noSelection=gt(La(!0),Ma(!0),e):this.noSelection=null,this.render())}get enabled(){return!this.disabled}set enabled(e){this.disabled=!e}get count(){return this._values&&this._values.length||0}get emptySelectionEnabled(){return!le(this.noSelection)}get data(){return this._values}set data(e){if(e=e||null,e!==this._values){let t=this.selectedItem;Qe(this._values,...e),this.render(),this.selectedItem=t}}get selectedOption(){return this.selectedOptions.item(0)}set selectedOption(e){for(let t=0;t<this.options.length;++t){let r=this.options[t];r.selected=r===e}}get makeValue(){return this.valueField||this.labelField}get makeLabel(){return this.labelField||this.valueField}get values(){return Array.from(this.selectedOptions).map(e=>e.value)}set values(e){let t=new Set(e);for(let r of this.options)r.selected=t.has(r.value||r.innerHTML)}get selectedItem(){return this.optionToItem.get(this.selectedOption)}set selectedItem(e){this.makeValue&&(this.selectedOption=this.valueToOption.get(this.makeValue(e)))}get selectedItems(){return Array.from(this.selectedOptions).map(e=>this.optionToItem.get(e))}set selectedItems(e){this.values=e.map(t=>this.makeValue(t))}render(){if(We(this),this.valueToOption.clear(),this.optionToItem.clear(),this.makeValue&&((this.count===0||this.emptySelectionEnabled)&&this.mapOption(null,this.noSelection),this.count>0)){let e=[...this.data];this.sortKeyField&&e.sort(this.sortKeyField);for(let t of e){let r=gt(St(this.makeValue(t)),this.makeLabel(t));this.mapOption(t,r)}}}mapOption(e,t){this.append(t),this.valueToOption.set(this.makeValue(e),t),this.optionToItem.set(t,e)}addEventListener(e,t,r){this.eventTarget.addEventListener(e,t,r)}removeEventListener(e,t){this.eventTarget.removeEventListener(e,t)}dispatchEvent(e){return this.eventTarget.dispatchEvent(e)}addBubbler(e){this.eventTarget.addBubbler(e)}removeBubbler(e){this.eventTarget.removeBubbler(e)}addScopedEventListener(e,t,r,i){this.eventTarget.addScopedEventListener(e,t,r,i)}removeScope(e){this.eventTarget.removeScope(e)}clearEventListeners(e){this.eventTarget.clearEventListeners(e)}};customElements.define("select-list",Ds,{extends:"select"});var Ro=class extends we{constructor(e,t){super(e),this.node=t}},Cs=class extends Ro{constructor(e){super("delete",e)}},Ls=class extends Ro{constructor(e,t){super("moved",e),this.newIndex=t}},Bs=class extends Ro{constructor(e,t){super("reparented",e),this.newParent=t}},Gr=class extends Pe{constructor(e,...t){super(),this.filterTypeInput=null,this.elements=new Array,this.nodes2Elements=new Map,this.htmlElements2Nodes=new Map,this.htmlElements2Elements=new Map,this._rootNode=null,this.locked=!1,this._disabled=!1,this.typeFilter=null,this.nameFilter=null,this.readonly=!1,this.createElement=this.createElement.bind(this),this.options=Object.assign({defaultLabel:null,getOrder:null,replaceElement:null,canReorder:mr,additionalProperties:[]},e);let r=this.options.canReorder;if(O(r)&&(this.options.canReorder=i=>!this.readonly&&r(i)),le(this.options.canParent)&&(this.options.canParent=this.options.canHaveChildren),this._canChangeOrder=ye(this.options.getOrder),this.element=me(ge("tree-view"),...t,this.filters=Vt.create(ge("tree-view-controls"),...this.options.additionalProperties),me(ge("tree-view-controls"),this.collapseButton=To(Ye(()=>this.collapseAll()),"Collapse all"),this.expandButton=To(Ye(()=>this.expandAll()),"Expand all")),me(ge("tree-view-inner"),Oa(0),Or(async i=>{if(!this.disabled){let s=this.nodes2Elements.get(this.rootNode);await s._launchMenu(i,new Lo(s))}}),Ye(i=>{if(!this.disabled&&!i.defaultPrevented){for(let s of this.elements)if(s.selected){this.selectedNode=null,this.dispatchEvent(new xn(null));return}}}),Pl(i=>{if(ks(i)){let s=this.selectedElement;if(s){if(i.key==="Delete")this.dispatchEvent(new Cs(s.node));else if(i.key==="ArrowUp"){let l=So(s);if(l>0){let d=s.parentElement.children[l-1];this.htmlElements2Elements.get(d)._select(!0)}else if(s.node.isChild&&s.node.parent.isChild){let d=s.node.parent;this.nodes2Elements.get(d)._select(!0)}}else if(i.key==="ArrowDown"){let l=So(s);if(l<s.parentElement.childElementCount-1){let d=s.parentElement.children[l+1];this.htmlElements2Elements.get(d)._select(!0)}else if(s.node.isChild){let d=s.node.parent,u=this.nodes2Elements.get(d),a=So(u),p=u.parentElement.children[a+1];p&&this.htmlElements2Elements.get(p)._select(!0)}}else if(i.key==="ArrowRight"){if(s.node.hasChildren)if(s.open){let l=s.childTreeNodes.children[0];l&&this.htmlElements2Elements.get(l)._select(!0)}else s.open=!0}else if(i.key==="ArrowLeft"){let l=this.selectedElement;l.open?l.open=!1:l.node.isChild&&l.node.parent.isChild&&this.nodes2Elements.get(l.node.parent)._select(!0)}}else if(this.children.children.length>0){let l=this.nodes2Elements.get(this.rootNode),d=null;i.key==="ArrowUp"?d=l.childTreeNodes.children[l.childTreeNodes.children.length-1]:i.key==="ArrowDown"&&(d=l.childTreeNodes.children[0]),d&&this.htmlElements2Elements.get(d)._select(!0)}}}),this.children=me(ge("tree-view-children")))),(this.options.showNameFilter||O(this.options.typeFilters))&&(this.options.showNameFilter&&this.filters.append(["Name",this.filterNameInput=lt(ge("form-control"),cn("Filter by name"),gr("off"),Co(()=>{this.nameFilter=this.filterNameInput.value.toLocaleLowerCase(),this.nameFilter.length===0&&(this.nameFilter=null),this.refreshFilter()}))]),O(this.options.typeFilters)&&(this.filters.append(["Type",this.filterTypeInput=Il(Wl(i=>i),Ol(this.options.typeFilters.getTypeLabel),Nl(this.options.typeFilters.getTypeLabel),cn("Filter by type"))]),this.filterTypeInput.data=this.options.typeFilters.getTypes(),this.filterTypeInput.addEventListener("itemselected",i=>{this.typeFilter=i.item,this.refreshFilter()})),this.filters.append(nl("Clear filter",Ye(()=>this.clearFilter())))),this.canChangeOrder){let i=null,s=null,l=null,d=0,u=null,a=()=>{l&&clearTimeout(l),u=null,s&&(s.highlighted=null,s=null),d=0};Se(this.children,Bl(p=>{a(),i=this.findElement(p.target),i.style.opacity="0.5"}),Hr(p=>{let x=p.target,w=x!==u,S=this.findElement(x);w&&(a(),u=x),S&&this.canReparent(S,i,x)&&(s=S,x===S.upper?d=-1:x===S.lower?d=1:d=0,s.highlighted=d,w&&d===0&&!S.open&&(l=setTimeout(()=>S.open=!0,1e3)),p.preventDefault())}),jr(p=>{this.canReparent(s,i,u)&&(p.preventDefault(),this.reparentNode(i.node,s.node,d)),a()}),Nr(()=>{i&&(i.style.opacity="1"),a()}))}this.options.replaceElement&&Ka(this.options.replaceElement,this)}clearFilter(){O(this.filterNameInput)&&(this.filterNameInput.value="",this.nameFilter=null),O(this.filterTypeInput)&&(this.filterTypeInput.selectedItem=null,this.typeFilter=null),this.refreshFilter()}refreshFilter(){let e=new Set;for(let t of this.rootNode.depthFirst()){let r=le(this.nameFilter)||O(t.value)&&this.options.getLabel(t.value).toLocaleLowerCase().indexOf(this.nameFilter)>=0,i=le(this.typeFilter)||O(t.value)&&this.options.typeFilters.getTypeFor(t.value)===this.typeFilter,s=r&&i,l=s||e.has(t),d=this.nodes2Elements.get(t);be(d,l,"block"),d._filtered=e.has(t)&&!s,d.open=!0,l&&O(t.parent)&&e.add(t.parent)}O(this.selectedElement)&&this.selectedElement.scrollIntoView()}canReparent(e,t,r){return!this.readonly&&O(e)&&O(t)&&(e.canHaveChildren&&this.options.canParent(e.node,t.node)||r===e.upper||r===e.lower)&&!t.node.contains(e.node)&&t.node.parent!==e.node}get canChangeOrder(){return!this.readonly&&this._canChangeOrder}get enabled(){return!this.disabled}set enabled(e){this.disabled=!e}get disabled(){return this._disabled}set disabled(e){this.expandButton.disabled=this.collapseButton.disabled=this.filters.disabled=this._disabled=e;for(let t of this.elements)t.disabled=e}async withLock(e){let t=this.enabled;if(this.enabled)try{await e()}finally{this.enabled=t}}findAll(e){return Array.from(this.rootNode.searchAll(t=>e(t.value)))}enableOnlyValues(e){for(let t of this.elements)t.disabled=e.indexOf(t.node.value)===-1,t.specialSelectMode=!0}enableAllElements(){for(let e of this.elements)e.disabled=!1,e.specialSelectMode=!1}get values(){return this.rootNode.children.flatMap(e=>Array.from(e.breadthFirst())).map(e=>e.value)}set values(e){this.rootNode=Dl(e,this.options.getParent,this.options.getOrder)}get rootNode(){return this._rootNode}set rootNode(e){if(e!==this.rootNode){this.locked=!0;for(let t of this.elements)t.removeScope(this),t.removeBubbler(this);if(We(this.children),Be(this.elements),this.nodes2Elements.clear(),this.htmlElements2Nodes.clear(),this.htmlElements2Elements.clear(),this._rootNode=e,this.rootNode){for(let r of this.rootNode.breadthFirst())this.createElement(r);let t=this.nodes2Elements.get(this.rootNode);Se(this.children,t)}this.locked=!1;for(let t of this.elements)t.canHaveChildren&&this.reorderChildren(t);this.rootNode&&this.nodes2Elements.get(this.rootNode).refresh()}}clear(){this.rootNode=null}get selectedValue(){let e=this.selectedNode;return e?e.value:null}findNode(e){return this.rootNode.find(e)}set selectedValue(e){e!==this.selectedValue&&(this.selectedNode=this.rootNode.find(e))}get selectedNode(){let e=this.selectedElement;return e?e.node:null}set selectedNode(e){e!==this.selectedNode&&(this.selectedElement=this.nodes2Elements.get(e))}get selectedElement(){for(let e of this.elements)if(e.selected)return e;return null}set selectedElement(e){if(O(e)){e._select(!1);let t=e;for(;O(t);)t.open=!0,t=this.nodes2Elements.get(t.node.parent);e.scrollIntoView()}else e=this.selectedElement,O(e)&&(e._selected=!1),this.dispatchEvent(new xn(null))}findElement(e){let t=e;for(;t!==null;){let r=this.htmlElements2Elements.get(t);if(O(r))return r;if(t=t.parentElement,t===this.children)return null}return null}reorderChildren(e){if(!this.locked&&this.canChangeOrder){let t=e.childTreeNodes.children.length;for(let r=0;r<t;++r){let i=e.childTreeNodes.children[r],s=this.htmlElements2Nodes.get(i),l=this.nodes2Elements.get(s);this.options.getOrder(s.value)!==r&&this.dispatchEvent(new Ls(s,r)),l.refresh()}e.refresh()}}createElement(e){let t=Bo.create(e,this.options.defaultLabel,this.options.getLabel,this.options.getDescription,this.options.canReorder,this.options.getChildDescription,this.options.canHaveChildren,this.createElement);t.addScopedEventListener(this,"select",i=>{for(let s of this.elements)s._selected=s.node===i.node}),t.addBubbler(this),this.elements.push(t),this.nodes2Elements.set(e,t),this.htmlElements2Nodes.set(t,e),this.htmlElements2Elements.set(t,t);let r=e.parent;if(r){let i=this.nodes2Elements.get(r);if(i)if(!this.canChangeOrder)Se(i.childTreeNodes,t);else{let s=this.options.getOrder(e.value),l=Number.MAX_SAFE_INTEGER,d=null;for(let a of r.children)if(a!==e){let p=this.options.getOrder(a.value);p>s&&p<l&&(d=a,l=p)}let u=this.nodes2Elements.has(d)&&this.nodes2Elements.get(d)||null;fs(i.childTreeNodes,t,u),this.reorderChildren(i)}}return t}addValue(e){let t=this.options.getParent(e),r=le(t)?this.rootNode:this.rootNode.find(t);this.nodes2Elements.get(r).add(e)}updateNode(e){let t=this.nodes2Elements.get(e);t&&t.refresh()}reparentNode(e,t,r){let i=e.parent,s=this.nodes2Elements.get(e),l=this.nodes2Elements.get(i),d=this.nodes2Elements.get(t),u=null;if(r!==0){if(u=d,t=t.parent,d=this.nodes2Elements.get(t),r===1){let a=So(u)+1,p=d.childTreeNodes.children[a];u=this.htmlElements2Elements.get(p)}}else if(this.canChangeOrder){let a=this.options.getOrder(e.value);for(let p=0;p<t.children.length&&u===null;++p){let x=t.children[p];this.options.getOrder(x.value)>a&&(u=this.nodes2Elements.get(x))}}fs(d.childTreeNodes,s,u),d!==l?(t.connectTo(e),this.reorderChildren(l),this.reorderChildren(d),this.dispatchEvent(new Bs(e,t))):this.reorderChildren(l),d.open=!0}removeValue(e){this.removeNode(this.rootNode.find(e))}removeNode(e){let t=this.nodes2Elements.get(e);t.selected&&this.dispatchEvent(new xn(null));let r=this.nodes2Elements.get(e.parent);t.removeScope(this),t.removeBubbler(this),t.remove(),e.removeFromParent(),dt(this.elements,t),this.nodes2Elements.delete(e),this.htmlElements2Nodes.delete(t),this.htmlElements2Elements.delete(t),this.reorderChildren(r)}collapseAll(){for(let e of this.elements)e.node.isChild&&e.canHaveChildren&&(e.open=!1)}expandAll(e=null){for(let t of this.elements)t.node.isChild&&t.canHaveChildren&&(le(e)||t.node.depth<=e)&&(t.open=!0)}};var Vo=class extends Qt{constructor(e,t){super(),this.i=e,this.prog=t}report(e,t,r,i){super.report(e,t,r,i),this.prog.update(this.i,e,t,r)}};var qr=class{constructor(e){this.prog=e,this.weightTotal=0,this.subProgressCallbacks=new Array,this.subProgressWeights=new Array,this.subProgressValues=new Array,this.start=performance.now();for(let t=0;t<this.subProgressWeights.length;++t)this.subProgressValues[t]=0,this.subProgressCallbacks[t]=new Vo(t,this)}addSubProgress(e){e=e||1,this.weightTotal+=e,this.subProgressWeights.push(e),this.subProgressValues.push(0);let t=new Vo(this.subProgressCallbacks.length,this);return this.subProgressCallbacks.push(t),t}update(e,t,r,i){if(this.prog){this.subProgressValues[e]=t/r;let s=0;for(let a=0;a<this.subProgressWeights.length;++a)s+=this.subProgressValues[a]*this.subProgressWeights[a];let l=performance.now(),d=l-this.start,u=this.start-l+d*this.weightTotal/s;this.prog.report(s,this.weightTotal,i,u)}}};function Io(o,e){return new Ps(e,o).subProgressCallbacks}function Hl(o,e){let t=new Array(e);for(let r=0;r<e;++r)t[r]=1;return Io(o,t)}var Ps=class extends qr{constructor(e,t){super(t);for(let r of e)this.addSubProgress(r)}};async function Rs(o,e){let t=new Array(e.length),r=new Array(e.length);for(let l=0;l<e.length;++l){let d=e[l];t[l]=d[0],r[l]=d[1]}let i=Io(o,t),s=new Array(e.length);for(let l=0;l<e.length;++l)s[l]=r[l](i[l]);return await Promise.all(s)}function jl(o,...e){let t=e.map(r=>[1,r]);return Rs(o,t)}function Ul(o){return O(o)&&ye(o.then)&&ye(o.catch)&&ye(o.finally)&&ye(o.fetch)&&ye(o.getSize)}var Xl=class{get result(){if(O(this.error))throw this.error;return this._result}get error(){return this._error}get started(){return this._started}get finished(){return this._finished}constructor(e,t){this.path=e,this.type=t,this._result=null,this._error=null,this._started=!1,this._finished=!1,this.resolve=null,this.reject=null,this.promise=new Promise((r,i)=>{this.resolve=s=>{this._result=s,this._finished=!0,r(s)},this.reject=s=>{this._error=s,this._finished=!0,i(s)}})}async getSize(e){try{let{contentLength:t}=await e.head(this.path).accept(this.type).exec();return[this,t||1]}catch(t){return console.warn(t),[this,1]}}async fetch(e,t){try{let r=await this.getResult(e,t);this.resolve(r)}catch(r){this.reject(r)}}get[Symbol.toStringTag](){return this.promise.toString()}then(e,t){return this.promise.then(e,t)}catch(e){return this.promise.catch(e)}finally(e){return this.promise.finally(e)}};function Vs(o,...e){if(!Ct(o))return!1;o=o;for(let t of e){if(!(t in o))return!1;let r=o[t];if(!ye(r))return!1}return!0}function JX(o){return Vs(o,"dispose")}function $X(o){return Vs(o,"destroy")}function KX(o){return Vs(o,"close")}function rt(o){JX(o)&&o.dispose(),KX(o)&&o.close(),$X(o)&&o.destroy()}function zl(o,e){try{return e(o)}finally{rt(o)}}var Is="HTMLCanvasElement"in globalThis,Rq="HTMLImageElement"in globalThis,Ws=!1,Fn=!Ws&&"OffscreenCanvas"in globalThis,Vq=!Ws&&"createImageBitmap"in globalThis;function YX(o){return Is&&o instanceof HTMLCanvasElement}function QX(o){return Fn&&o instanceof OffscreenCanvas}function ZX(){try{return new OffscreenCanvas(1,1).getContext("2d")!=null}catch{return!1}}var e8=Fn&&ZX(),Os=e8&&Ns||Is&&Jr||null,Gl=Is?Jr:Os;function t8(){try{return new OffscreenCanvas(1,1).getContext("webgl2")!=null}catch{return!1}}var Iq=Fn&&t8();function Ns(o,e){return new OffscreenCanvas(o,e)}function Jr(o,e){return br(Na(o),Ca(e))}function Hs(o,e){let t=o.getContext("2d");if(le(t))throw new Error("Could not create 2d context for canvas");t.drawImage(e,0,0)}function ql(o,e,t,r=1){return e=Math.floor(e*r),t=Math.floor(t*r),o.width!=e||o.height!=t?(o.width=e,o.height=t,!0):!1}function n8(o){return O(o.textBaseline)}function o8(o,e,t,r=1){let i=o.imageSmoothingEnabled,s=o.textBaseline,l=o.textAlign,d=o.font,u=ql(o.canvas,e,t,r);return u&&(o.imageSmoothingEnabled=i,o.textBaseline=s,o.textAlign=l,o.font=d),u}function Kn(o,e,t,r=1){return n8(o)?o8(o,e,t,r):ql(o.canvas,e,t,r)}function Jl(o,e=1){return Kn(o,o.canvas.clientWidth,o.canvas.clientHeight,e)}function $l(o,e,t){if(e instanceof Yt&&(e=e.value),QX(o))return o.convertToBlob({type:e,quality:t});if(YX(o)){let r=new De;return o.toBlob(r.resolve,e,t),r}else throw new Error("Cannot save image from canvas")}function Kl(o){let e=new De,t=setInterval(()=>{o()&&(clearInterval(t),e.resolve())},100);return e}async function Oe(o,e){let{status:t,requestPath:r,responsePath:i,content:s,contentType:l,contentLength:d,fileName:u,headers:a,date:p}=o;return{status:t,requestPath:r,responsePath:i,content:O(e)?await e(s):void 0,contentType:l,contentLength:d,fileName:u,headers:a,date:p}}var js=null;function Yl(o){return js===null&&(js=new Audio),js.canPlayType(o)!==""}var $r=class{constructor(e,t,r,i=!1){this.fetcher=e,this.method=t,this.path=r,this.useBLOBs=i,this.prog=null,this.request={method:t,path:this.path.href,body:null,headers:null,timeout:null,withCredentials:!1,useCache:!1,retryCount:3}}retries(e){return this.request.retryCount=e,this}query(e,t){return this.path.searchParams.set(e,t),this.request.path=this.path.href,this}header(e,t){return this.request.headers===null&&(this.request.headers=new Map),this.request.headers.set(e.toLowerCase(),t),this}headers(e){for(let[t,r]of e.entries())this.header(t,r);return this}timeout(e){return this.request.timeout=e,this}progress(e){return this.prog=e,this}body(e,t){if(O(e)){let r=new Set,i=new Array;i.push(e);let s=!1;for(;!s&&i.length>0;){let l=i.shift();if(l&&!r.has(l))if(r.add(l),l instanceof Blob){s=!0;break}else fe(l)||i.push(...Object.values(l))}if(s){let l=new FormData,d=new Map,u=new Set;for(let[a,p]of Object.entries(e))if(p instanceof Blob){let x=a+".name",w=e[x];fe(w)&&(d.set(p,w),u.add(x))}for(let[a,p]of Object.entries(e))u.has(a)||(p instanceof Blob?l.append(a,p,d.get(p)):fe(p)?l.append(a,p):O(p)&&ye(p.toString)?l.append(a,p.toString()):console.warn("Can't serialize value to formdata",a,p));e=l,t=void 0}this.request.body=e,this.content(t)}return this}withCredentials(){return this.request.withCredentials=!0,this}useCache(e=!0){return this.request.useCache=e,this}media(e,t){O(t)&&(fe(t)||(t=t.value),this.header(e,t))}content(e){this.media("content-type",e)}accept(e){return this.media("accept",e),this}blob(e){if(this.accept(e),this.method==="POST"||this.method==="PUT"||this.method==="PATCH"||this.method==="DELETE")return this.fetcher.sendObjectGetBlob(this.request,this.prog);if(this.method==="GET")return this.fetcher.sendNothingGetBlob(this.request,this.prog);if(this.method==="HEAD"||this.method==="OPTIONS")throw new Error(`${this.method} responses do not contain bodies`);Ge(this.method)}buffer(e){if(this.accept(e),this.method==="POST"||this.method==="PUT"||this.method==="PATCH"||this.method==="DELETE")return this.fetcher.sendObjectGetBuffer(this.request,this.prog);if(this.method==="GET")return this.fetcher.sendNothingGetBuffer(this.request,this.prog);if(this.method==="HEAD"||this.method==="OPTIONS")throw new Error(`${this.method} responses do not contain bodies`);Ge(this.method)}async file(e){if(this.accept(e),this.method==="POST"||this.method==="PUT"||this.method==="PATCH"||this.method==="DELETE")return await this.fetcher.sendObjectGetFile(this.request,this.prog);if(this.method==="GET"){if(this.useBLOBs)return await this.fetcher.sendNothingGetFile(this.request,this.prog);{let t=await this.fetcher.sendNothingGetNothing(this.request);return Oe(t,()=>this.request.path)}}else{if(this.method==="HEAD"||this.method==="OPTIONS")throw new Error(`${this.method} responses do not contain bodies`);Ge(this.method)}}text(e){if(this.accept(e||Ao),this.method==="POST"||this.method==="PUT"||this.method==="PATCH"||this.method==="DELETE")return this.fetcher.sendObjectGetText(this.request,this.prog);if(this.method==="GET")return this.fetcher.sendNothingGetText(this.request,this.prog);if(this.method==="HEAD"||this.method==="OPTIONS")throw new Error(`${this.method} responses do not contain bodies`);Ge(this.method)}object(e){if(this.accept(e||In),this.method==="POST"||this.method==="PUT"||this.method==="PATCH"||this.method==="DELETE")return this.fetcher.sendObjectGetObject(this.request,this.prog);if(this.method==="GET")return this.fetcher.sendNothingGetObject(this.request,this.prog);if(this.method==="HEAD"||this.method==="OPTIONS")throw new Error(`${this.method} responses do not contain bodies`);Ge(this.method)}xml(e){if(this.accept(e||us),this.method==="POST"||this.method==="PUT"||this.method==="PATCH"||this.method==="DELETE")return this.fetcher.sendObjectGetXml(this.request,this.prog);if(this.method==="GET")return this.fetcher.sendNothingGetXml(this.request,this.prog);if(this.method==="HEAD"||this.method==="OPTIONS")throw new Error(`${this.method} responses do not contain bodies`);Ge(this.method)}imageBitmap(e){if(this.accept(e),this.method==="POST"||this.method==="PUT"||this.method==="PATCH"||this.method==="DELETE")return this.fetcher.sendObjectGetImageBitmap(this.request,this.prog);if(this.method==="GET")return this.fetcher.sendNothingGetImageBitmap(this.request,this.prog);if(this.method==="HEAD"||this.method==="OPTIONS")throw new Error(`${this.method} responses do not contain bodies`);Ge(this.method)}exec(){if(this.method==="POST"||this.method==="PUT"||this.method==="PATCH"||this.method==="DELETE")return this.fetcher.sendObjectGetNothing(this.request,this.prog);if(this.method==="GET")throw new Error("GET requests should expect a response type");if(this.method==="HEAD"||this.method==="OPTIONS")return this.fetcher.sendNothingGetNothing(this.request);Ge(this.method)}async audioBlob(e){if(O(e)&&(fe(e)||(e=e.value),!Yl(e)))throw new Error(`Probably can't play file of type "${e}" at path: ${this.request.path}`);let t=await this.blob(e);if(Yl(t.contentType))return t;throw new Error(`Cannot play file of type "${t.contentType}" at path: ${this.request.path}`)}async audioBuffer(e,t){return Oe(await this.audioBlob(t),async r=>await e.decodeAudioData(await r.arrayBuffer()))}async htmlElement(e,t,r){let i=await this.file(r),s=Ue(e,t,"error");return e instanceof HTMLLinkElement?e.href=i.content:e.src=i.content,await s,await Oe(i,()=>e)}image(e){return this.htmlElement(vt(),"load",e)}async htmlCanvas(e){let t=Jr(1,1);if(this.method==="GET")if(Fn){this.accept(e);let r=await this.fetcher.drawImageToCanvas(this.request,t.transferControlToOffscreen(),this.prog);return await Oe(r,()=>t)}else{let r=await this.image(e);return await Oe(r,i=>(t.width=i.width,t.height=i.height,Hs(t,i),rt(i),t))}else{if(this.method==="POST"||this.method==="PUT"||this.method==="PATCH"||this.method==="DELETE"||this.method==="HEAD"||this.method==="OPTIONS")throw new Error(`${this.method} responses do not contain bodies`);Ge(this.method)}}canvas(e){return Fn?this.offscreenCanvas(e):this.htmlCanvas(e)}async offscreenCanvas(e){if(!Fn)throw new Error("This system does not support OffscreenCanvas");if(this.method==="GET"){let t=await this.image(e);return await Oe(t,r=>{let i=Ns(r.width,r.height);return Hs(i,r),rt(r),i})}else{if(this.method==="POST"||this.method==="PUT"||this.method==="PATCH"||this.method==="DELETE"||this.method==="HEAD"||this.method==="OPTIONS")throw new Error(`${this.method} responses do not contain bodies`);Ge(this.method)}}async style(){let e=ws(Et(hn),xr("stylesheet"));document.head.append(e);let t=await this.htmlElement(e,"load",hn);return Oe(t)}async getScript(){let e=cl(Et(jt));document.head.append(e);let t=await this.htmlElement(e,"load",jt);return Oe(t)}async script(e){let t=null,r=this.request.path;if(!e)t=await this.getScript();else if(!e()){let i=Kl(e);t=await this.getScript(),await i}return this.prog&&this.prog.end(r),t}async module(){let e=this.request.path,t=await this.file(jt),r=await import(t.content);return this.prog&&this.prog.end(e),Oe(t,()=>r)}async wasm(e){let t=await this.buffer(Sr);if(!Sr.matches(t.contentType))throw new Error(`Server did not respond with WASM file. Was: ${t.contentType}`);let r=await WebAssembly.compile(t.content),i=await WebAssembly.instantiate(r,e);return Oe(t,()=>i.exports)}async worker(e="module"){let t=this.request.path,r=await this.file(jt);this.prog=null,this.request.timeout=null;let i=new Worker(r.content,{type:e});return this.prog&&this.prog.end(t),Oe(r,()=>i)}};var Kr=class{constructor(e,t=!1){this.service=e,this.useBLOBs=t;{let r=ko("input[name=__RequestVerificationToken]");r&&this.service.setRequestVerificationToken(r.value)}}clearCache(){return this.service.clearCache()}evict(e,t){return this.service.evict(new URL(e,t||location.href).href)}request(e,t,r){return new $r(this.service,e,new URL(t,r||location.href),this.useBLOBs)}head(e,t){return this.request("HEAD",e,t)}options(e,t){return this.request("OPTIONS",e,t)}get(e,t){return this.request("GET",e,t)}post(e,t){return this.request("POST",e,t)}put(e,t){return this.request("PUT",e,t)}patch(e,t){return this.request("PATCH",e,t)}delete(e,t){return this.request("DELETE",e,t)}async assets(e,t,...r){le(r)&&(r=[]),r.unshift(t);let i;Ul(e)?r.unshift(e):O(e)&&(i=e),r=r.filter(O);let s=await Promise.all(r.map(d=>d.getSize(this))),l=new Map(s);await Rs(i,r.map(d=>[l.get(d),u=>d.fetch(this,u)]))}};var Yr=class{constructor(e){this.impl=e,this.defaultPostHeaders=new Map}setRequestVerificationToken(e){this.defaultPostHeaders.set("RequestVerificationToken",e)}clearCache(){return this.impl.clearCache()}evict(e){return this.impl.evict(e)}sendNothingGetNothing(e){return this.impl.sendNothingGetNothing(e)}sendNothingGetBlob(e,t){return this.impl.sendNothingGetSomething("blob",e,t)}sendObjectGetBlob(e,t){return this.impl.sendSomethingGetSomething("blob",e,this.defaultPostHeaders,t)}sendNothingGetBuffer(e,t){return this.impl.sendNothingGetSomething("arraybuffer",e,t)}sendObjectGetBuffer(e,t){return this.impl.sendSomethingGetSomething("arraybuffer",e,this.defaultPostHeaders,t)}sendNothingGetText(e,t){return this.impl.sendNothingGetSomething("text",e,t)}sendObjectGetText(e,t){return this.impl.sendSomethingGetSomething("text",e,this.defaultPostHeaders,t)}sendNothingGetObject(e,t){return this.impl.sendNothingGetSomething("json",e,t)}sendObjectGetObject(e,t){return this.impl.sendSomethingGetSomething("json",e,this.defaultPostHeaders,t)}sendObjectGetNothing(e,t){return this.impl.sendSomethingGetSomething("",e,this.defaultPostHeaders,t)}drawImageToCanvas(e,t,r){return this.impl.drawImageToCanvas(e,t,r)}async sendNothingGetFile(e,t){return Oe(await this.sendNothingGetBlob(e,t),URL.createObjectURL)}async sendObjectGetFile(e,t){return Oe(await this.sendObjectGetBlob(e,t),URL.createObjectURL)}async sendNothingGetXml(e,t){return Oe(await this.impl.sendNothingGetSomething("document",e,t),r=>r.documentElement)}async sendObjectGetXml(e,t){return Oe(await this.impl.sendSomethingGetSomething("document",e,this.defaultPostHeaders,t),r=>r.documentElement)}async sendNothingGetImageBitmap(e,t){return Oe(await this.sendNothingGetBlob(e,t),createImageBitmap)}async sendObjectGetImageBitmap(e,t){return Oe(await this.sendObjectGetBlob(e,t),createImageBitmap)}};var wn=class{constructor(e){if(this.items=new Map,O(e))for(let[t,r,i]of e)this.add(t,r,i)}add(e,t,r){let i=this.items.get(e);return le(i)&&this.items.set(e,i=new Map),i.set(t,r),this}*entries(){for(let[e,t]of this.items)for(let[r,i]of t)yield[e,r,i]}keys(e){return le(e)?this.items.keys():this.items.get(e).keys()}*values(){for(let e of this.items.values())for(let t of e.values())yield t}has(e,t){return this.items.has(e)&&(le(t)||this.items.get(e).has(t))}get(e,t){return le(t)?this.items.get(e):this.items.has(e)?this.items.get(e).get(t):null}count(e){return this.items.has(e)?this.items.get(e).size:null}get size(){let e=0;for(let t of this.items.values())e+=t.size;return e}delete(e,t){if(le(t))return this.items.delete(e);if(this.items.has(e)){let r=this.items.get(e),i=r.delete(t);return r.size===0&&this.items.delete(e),i}else return!1}clear(){this.items.clear()}};var Qr=class o{static delete(e){let t=indexedDB.deleteDatabase(e),r=Ue(t,"success","error","blocked");return Dt(r)}static async open(e,...t){let r=Do(t,C=>C.name),i=new wn(t.filter(C=>O(C.indexes)).flatMap(C=>C.indexes.map(M=>[C.name,M.name,M]))),s=new Array,l=new Array,d=new Array,u=new ot,a=new ot,p=null,x=indexedDB.open(e);if(await Dt(Ue(x,"success","error","blocked"))){let C=x.result;p=C.version;let M=new Array;for(let k of C.objectStoreNames)r.has(k)||l.push(k);for(let k of r.keys())C.objectStoreNames.contains(k)?M.push(k):s.push(k);if(M.length>0){let k=C.transaction(M),h=Ue(k,"complete","error","abort"),f=Dt(h);for(let T of M){let L=k.objectStore(T),D=r.get(T);O(D.options)&&L.keyPath!==D.options.keyPath&&(l.push(T),s.push(T));for(let H of L.indexNames)i.has(T,H)||(d.indexOf(T)===-1&&d.push(T),a.add(T,H));if(i.has(T))for(let H of i.get(T).keys())if(!L.indexNames.contains(H))d.indexOf(T)===-1&&d.push(T),u.add(T,H);else{let N=i.get(T,H),ee=L.index(H);(fe(N.keyPath)!==fe(ee.keyPath)||fe(N.keyPath)&&fe(ee.keyPath)&&N.keyPath!==ee.keyPath||Ot(N.keyPath)&&Ot(ee.keyPath)&&Ta(N.keyPath,ee.keyPath))&&(d.indexOf(T)===-1&&d.push(T),a.add(T,H),u.add(T,H))}}k.commit(),await f}rt(C)}else{p=0,s.push(...r.keys());for(let C of t)if(O(C.indexes))for(let M of C.indexes)u.add(C.name,M.name)}(s.length>0||l.length>0||u.size>0||a.size>0)&&++p;let w=new De,S=O(p)?indexedDB.open(e,p):indexedDB.open(e),m=Ue(S,"success","error","blocked"),A=Dt(w),b=Dt(m),I=w.resolver(!1);if(S.addEventListener("success",I),S.addEventListener("upgradeneeded",()=>{let C=Ue(S.transaction,"complete","error","abort"),M=S.result;for(let h of l)M.deleteObjectStore(h);let k=new Map;for(let h of s){let f=r.get(h),T=M.createObjectStore(h,f.options);k.set(h,T)}for(let h of d){let f=S.transaction.objectStore(h);k.set(h,f)}for(let[h,f]of k){for(let T of a.get(h))f.deleteIndex(T);for(let T of u.get(h)){let L=i.get(h,T);f.createIndex(T,L.keyPath,L.options)}}Dt(C).then(w.resolve).catch(w.reject).finally(()=>S.removeEventListener("success",I))}),!await A)throw w.error;if(!await b)throw m.error;return new o(S.result)}constructor(e){this.db=e}dispose(){rt(this.db)}get name(){return this.db.name}get version(){return this.db.version}get storeNames(){return Array.from(this.db.objectStoreNames)}getStore(e){return new Xs(this.db,e)}},Xs=class{constructor(e,t){this.db=e,this.storeName=t}async request(e,t){let r=this.db.transaction(this.storeName,t),i=Ue(r,"complete","error"),s=r.objectStore(this.storeName),l=e(s),d=Ue(l,"success","error");if(!await Dt(d))throw r.abort(),d.error;if(r.commit(),!await Dt(i))throw i.error;return l.result}add(e,t){return this.request(r=>r.add(e,t),"readwrite")}clear(){return this.request(e=>e.clear(),"readwrite")}getCount(e){return this.request(t=>t.count(e),"readonly")}async has(e){return await this.getCount(e)>0}delete(e){return this.request(t=>t.delete(e),"readwrite")}get(e){return this.request(t=>t.get(e),"readonly")}getAll(){return this.request(e=>e.getAll(),"readonly")}getAllKeys(){return this.request(e=>e.getAllKeys(),"readonly")}getKey(e){return this.request(t=>t.getKey(e),"readonly")}openCursor(e,t){return this.request(r=>r.openCursor(e,t),"readonly")}openKeyCursor(e,t){return this.request(r=>r.openKeyCursor(e,t),"readonly")}put(e,t){return this.request(r=>r.put(e,t),"readwrite")}};function Ql(o,...e){for(let t of e)if(O(t))for(let[r,i]of t)o.set(r,i);return o}var Us=class extends De{constructor(e){super(!1),this.milliseconds=e,this._timer=null}start(){super.start(),this._timer=setTimeout(()=>{this._timer=null,this.resolve()},this.milliseconds)}reset(){super.reset(),O(this._timer)&&(clearTimeout(this._timer),this._timer=null)}};function Zl(o){let e=new Us(o);return e.start(),e}function Zr(o,e){return async()=>{let t=null,r=500;for(let i=0;i<=o;++i)try{return i>0&&(await Zl(r),r*=2),await e()}catch(s){t=s}throw t}}function r8(o){return fe(o)||Sa(o)||o instanceof Blob||o instanceof FormData||ka(o)||"Document"in globalThis&&o instanceof Document}function ei(o,e,t,r,i,s){let l=!s;s&&s.then(()=>l=!0);let d=!1,u=i,a=new De;t.addEventListener("loadstart",()=>{l&&!d&&r&&r.start(o)}),t.addEventListener("progress",x=>{if(l&&!d){let w=x;r&&r.report(w.loaded,Math.max(w.loaded,w.total),o),w.loaded===w.total&&(u=!0,d&&a.resolve())}}),t.addEventListener("load",()=>{l&&!d&&(r&&r.end(o),d=!0,u&&a.resolve())});let p=x=>()=>{l&&a.reject(`${x} (${e.status})`)};return t.addEventListener("error",p("error")),t.addEventListener("abort",p("abort")),t.addEventListener("timeout",p("timeout")),a}function zs(o,e,t,r,i,s){if(o.open(e,t),o.responseType="blob",o.timeout=r,i)for(let[l,d]of i)o.setRequestHeader(l,d);O(s)?o.send(s):o.send()}function ti(o,e,t){if(!o.has(e))return null;let r=o.get(e);try{let i=t(r);return o.delete(e),i}catch(i){console.warn(e,i)}return null}var i8=/filename=\"(.+)\"(;|$)/,s8="Juniper:Fetcher:Cache",ni=class{constructor(){this.cache=null,this.store=null,this.tasks=new wn,this.cacheReady=this.openCache()}async drawImageToCanvas(e,t,r){let i=await this.sendNothingGetSomething("blob",e,r),s=i.content;return zl(await createImageBitmap(s,{imageOrientation:"from-image"}),l=>(t.width=l.width,t.height=l.height,t.getContext("2d").drawImage(l,0,0),Oe(i)))}async openCache(){let e={keyPath:"requestPath"};this.cache=await Qr.open(s8,{name:"files",options:e}),this.store=await this.cache.getStore("files")}async clearCache(){await this.cacheReady,await this.store.clear()}async evict(e){await this.cacheReady,this.store.has(e)&&await this.store.delete(e)}async readResponseHeaders(e,t){let r=t.getAllResponseHeaders().split(/[\r\n]+/).map(w=>w.trim()).filter(w=>w.length>0).map(w=>{let S=w.split(": "),m=S.shift().toLowerCase(),A=S.join(": ");return[m,A]}),i=new ot(r),s=Array.from(i.keys()).map(w=>[w,i.get(w).join(", ")]),l=new Map(s),d=ti(l,"content-type",at),u=ti(l,"content-length",parseFloat),a=ti(l,"date",w=>new Date(w)),p=ti(l,"content-disposition",w=>{if(O(w)){let S=w.match(i8);if(O(S))return S[1]}return null});return{status:t.status,requestPath:e,responsePath:t.responseURL,content:void 0,contentType:d,contentLength:u,fileName:p,date:a,headers:l}}async readResponse(e,t){let{responsePath:r,status:i,contentType:s,contentLength:l,fileName:d,date:u,headers:a}=await this.readResponseHeaders(e,t),p={requestPath:e,responsePath:r,status:i,contentType:s,contentLength:l,fileName:d,date:u,headers:a,content:t.response};return O(p.content)&&(p.contentType=p.contentType||p.content.type,p.contentLength=p.contentLength||p.content.size),p}async decodeContent(e,t){return Oe(t,async r=>{if(e==="")return null;if(le(t.contentType)){let i=Array.from(t.headers.entries()).map(s=>s.join(": ")).join(`
  `);throw new Error(`No content type found in headers: 
  `+i)}else{if(e==="blob")return r;if(e==="arraybuffer")return await r.arrayBuffer();if(e==="json"){let i=await r.text();return i.length>0?JSON.parse(i):null}else if(e==="document"){let i=new DOMParser;if(t.contentType==="application/xhtml+xml"||t.contentType==="text/html"||t.contentType==="application/xml"||t.contentType==="image/svg+xml"||t.contentType==="text/xml")return i.parseFromString(await r.text(),t.contentType);throw new Error("Couldn't parse document")}else{if(e==="text")return await r.text();Ge(e)}}})}async withCachedTask(e,t){return e.method!=="GET"&&e.method!=="HEAD"&&e.method!=="OPTIONS"?await t():(this.tasks.has(e.method,e.path)||this.tasks.add(e.method,e.path,t().finally(()=>this.tasks.delete(e.method,e.path))),this.tasks.get(e.method,e.path))}sendNothingGetNothing(e){return this.withCachedTask(e,Zr(e.retryCount,async()=>{let t=new XMLHttpRequest,r=ei(`requesting: ${e.path}`,t,t,null,!0);return zs(t,e.method,e.path,e.timeout,e.headers),await r,await this.readResponseHeaders(e.path,t)}))}sendNothingGetSomething(e,t,r){return this.withCachedTask(t,Zr(t.retryCount,async()=>{let i=null,s=t.useCache&&t.method==="GET";s&&(O(r)&&r.start(),await this.cacheReady,i=await this.store.get(t.path));let l=le(i);if(l){let u=new XMLHttpRequest,a=ei(`requesting: ${t.path}`,u,u,r,!0);zs(u,t.method,t.path,t.timeout,t.headers),await a,i=await this.readResponse(t.path,u),s&&await this.store.add(i)}let d=await this.decodeContent(e,i);return l&&O(r)&&r.end(),d}))}sendSomethingGetSomething(e,t,r,i){let s=null,l=Ql(new Map,r,t.headers),d=null;if(O(l)){let S=new Array;for(let m of l.keys())m.toLowerCase()==="content-type"&&S.push(m);if(S.length>0){t.body instanceof FormData||(d=l.get(S[0]),S.shift());for(let m of S)l.delete(m)}}r8(t.body)&&!fe(t.body)||fe(t.body)&&Ao.matches(d)?s=t.body:O(t.body)&&(s=JSON.stringify(t.body));let u=O(s),a=Hl(i,u?2:1),[p,x]=a,w=async()=>{let S=new XMLHttpRequest,m=u?ei("uploading",S,S.upload,p,!1):Promise.resolve(),A=ei("saving",S,S,x,!0,m);zs(S,t.method,t.path,t.timeout,l,s),await m,await A;let b=await this.readResponse(t.path,S);return await this.decodeContent(e,b)};return Zr(t.retryCount,w)()}};var a8=/OculusBrowser\/(\d+)\.(\d+)\.(\d+)/i,oi=navigator.userAgent.match(a8),ri=!!oi,NJ=ri&&{major:parseFloat(oi[1]),minor:parseFloat(oi[2]),patch:parseFloat(oi[3])},HJ=ri&&/pacific/i.test(navigator.userAgent),jJ=ri&&/quest/i.test(navigator.userAgent),XJ=ri&&/quest 2/i.test(navigator.userAgent);var l8="Worker"in globalThis;var ec=new URL(globalThis.location.href),Wo=ec.searchParams.has("DEBUG")&&!ec.searchParams.has("RELEASE");function _n(o,e){let t=globalThis,r=t[o];if(le(r)){if(le(e))throw new Error(`No value ${o} found`);r=e(),t[o]=r}return r}var c8="The quick brown fox jumps over the lazy dog",tc=_n("juniper::loadedFonts",()=>[]);function Gs(o){let e=[];return o.fontStyle&&o.fontStyle!=="normal"&&e.push(o.fontStyle),o.fontVariant&&o.fontVariant!=="normal"&&e.push(o.fontVariant),o.fontWeight&&o.fontWeight!=="normal"&&e.push(o.fontWeight),e.push(kt(o.fontSize)),e.push(o.fontFamily),e.join(" ")}async function qs(o,e=null,t){if(fe(o)||(o=Gs(o)),tc.indexOf(o)===-1){e=e||c8,t&&t.start(o);let r=await document.fonts.load(o,e);t&&t.end(o),r.length===0?console.warn(`Failed to load font "${o}". If this is a system font, just set the object's \`value\` property, instead of calling \`loadFontAndSetText\`.`):tc.push(o)}}var nc="3.7.24";var p8=Wo?wt(10):nc;var d8=50,h8=12,U$=d8*h8;var Yn={images:{backButton:"/images/back-button.jpg",defaultButton:"/images/back-button.jpg",title:"/images/menu-title.jpg",logo:{back:"/images/main-logo.png"}},font:{fontFamily:"Lato",fontSize:20,fontWeight:"bold"}},oc={fontFamily:"Lato",fontSize:20};var z$=wr(30,67,136),G$=wr(78,77,77),rc={fontFamily:oc.fontFamily,fontSize:oc.fontSize,textFillColor:"white"},q$=Object.assign({},rc,{bgFillColor:wr(0,120,215),bgStrokeColor:"black",bgStrokeSize:.02,padding:{top:.025,left:.05,bottom:.025,right:.05},minHeight:.2,maxHeight:.2,scale:300}),J$=Object.assign({},rc,{textStrokeColor:"black",textStrokeSize:.01,minHeight:.25,maxHeight:.25});var m8=Wo?".js":".min.js";function g8(o,e){return`/js/${e}/index${o}?v=${p8}`}function ic(o){return g8(m8,o)}function sc(o=!0){let e=new Yr(new ni);return new Kr(e,!Wo)}var ft=1e-6,tt=typeof Float32Array<"u"?Float32Array:Array,Zt=Math.random;var iK=Math.PI/180;Math.hypot||(Math.hypot=function(){for(var o=0,e=arguments.length;e--;)o+=arguments[e]*arguments[e];return Math.sqrt(o)});function ac(){var o=new tt(9);return tt!=Float32Array&&(o[1]=0,o[2]=0,o[3]=0,o[5]=0,o[6]=0,o[7]=0),o[0]=1,o[4]=1,o[8]=1,o}var Qn={};st(Qn,{add:()=>xU,calculateW:()=>sU,clone:()=>hU,conjugate:()=>uU,copy:()=>gU,create:()=>Ks,dot:()=>Pc,equals:()=>kU,exactEquals:()=>SU,exp:()=>Mc,fromEuler:()=>pU,fromMat3:()=>Lc,fromValues:()=>mU,getAngle:()=>nU,getAxisAngle:()=>tU,identity:()=>eU,invert:()=>cU,len:()=>_U,length:()=>Rc,lerp:()=>wU,ln:()=>Cc,mul:()=>FU,multiply:()=>Dc,normalize:()=>Ys,pow:()=>aU,random:()=>lU,rotateX:()=>oU,rotateY:()=>rU,rotateZ:()=>iU,rotationTo:()=>vU,scale:()=>Bc,set:()=>fU,setAxes:()=>bU,setAxisAngle:()=>Ec,slerp:()=>ci,sqlerp:()=>TU,sqrLen:()=>AU,squaredLength:()=>Vc,str:()=>dU});var bt={};st(bt,{add:()=>_8,angle:()=>N8,bezier:()=>L8,ceil:()=>A8,clone:()=>x8,copy:()=>F8,create:()=>si,cross:()=>Oo,dist:()=>J8,distance:()=>dc,div:()=>q8,divide:()=>pc,dot:()=>li,equals:()=>U8,exactEquals:()=>X8,floor:()=>S8,forEach:()=>Y8,fromValues:()=>ai,hermite:()=>C8,inverse:()=>D8,len:()=>$s,length:()=>lc,lerp:()=>M8,max:()=>v8,min:()=>k8,mul:()=>G8,multiply:()=>uc,negate:()=>E8,normalize:()=>Js,random:()=>B8,rotateX:()=>I8,rotateY:()=>W8,rotateZ:()=>O8,round:()=>T8,scale:()=>b8,scaleAndAdd:()=>y8,set:()=>w8,sqrDist:()=>$8,sqrLen:()=>K8,squaredDistance:()=>hc,squaredLength:()=>mc,str:()=>j8,sub:()=>z8,subtract:()=>cc,transformMat3:()=>R8,transformMat4:()=>P8,transformQuat:()=>V8,zero:()=>H8});function si(){var o=new tt(3);return tt!=Float32Array&&(o[0]=0,o[1]=0,o[2]=0),o}function x8(o){var e=new tt(3);return e[0]=o[0],e[1]=o[1],e[2]=o[2],e}function lc(o){var e=o[0],t=o[1],r=o[2];return Math.hypot(e,t,r)}function ai(o,e,t){var r=new tt(3);return r[0]=o,r[1]=e,r[2]=t,r}function F8(o,e){return o[0]=e[0],o[1]=e[1],o[2]=e[2],o}function w8(o,e,t,r){return o[0]=e,o[1]=t,o[2]=r,o}function _8(o,e,t){return o[0]=e[0]+t[0],o[1]=e[1]+t[1],o[2]=e[2]+t[2],o}function cc(o,e,t){return o[0]=e[0]-t[0],o[1]=e[1]-t[1],o[2]=e[2]-t[2],o}function uc(o,e,t){return o[0]=e[0]*t[0],o[1]=e[1]*t[1],o[2]=e[2]*t[2],o}function pc(o,e,t){return o[0]=e[0]/t[0],o[1]=e[1]/t[1],o[2]=e[2]/t[2],o}function A8(o,e){return o[0]=Math.ceil(e[0]),o[1]=Math.ceil(e[1]),o[2]=Math.ceil(e[2]),o}function S8(o,e){return o[0]=Math.floor(e[0]),o[1]=Math.floor(e[1]),o[2]=Math.floor(e[2]),o}function k8(o,e,t){return o[0]=Math.min(e[0],t[0]),o[1]=Math.min(e[1],t[1]),o[2]=Math.min(e[2],t[2]),o}function v8(o,e,t){return o[0]=Math.max(e[0],t[0]),o[1]=Math.max(e[1],t[1]),o[2]=Math.max(e[2],t[2]),o}function T8(o,e){return o[0]=Math.round(e[0]),o[1]=Math.round(e[1]),o[2]=Math.round(e[2]),o}function b8(o,e,t){return o[0]=e[0]*t,o[1]=e[1]*t,o[2]=e[2]*t,o}function y8(o,e,t,r){return o[0]=e[0]+t[0]*r,o[1]=e[1]+t[1]*r,o[2]=e[2]+t[2]*r,o}function dc(o,e){var t=e[0]-o[0],r=e[1]-o[1],i=e[2]-o[2];return Math.hypot(t,r,i)}function hc(o,e){var t=e[0]-o[0],r=e[1]-o[1],i=e[2]-o[2];return t*t+r*r+i*i}function mc(o){var e=o[0],t=o[1],r=o[2];return e*e+t*t+r*r}function E8(o,e){return o[0]=-e[0],o[1]=-e[1],o[2]=-e[2],o}function D8(o,e){return o[0]=1/e[0],o[1]=1/e[1],o[2]=1/e[2],o}function Js(o,e){var t=e[0],r=e[1],i=e[2],s=t*t+r*r+i*i;return s>0&&(s=1/Math.sqrt(s)),o[0]=e[0]*s,o[1]=e[1]*s,o[2]=e[2]*s,o}function li(o,e){return o[0]*e[0]+o[1]*e[1]+o[2]*e[2]}function Oo(o,e,t){var r=e[0],i=e[1],s=e[2],l=t[0],d=t[1],u=t[2];return o[0]=i*u-s*d,o[1]=s*l-r*u,o[2]=r*d-i*l,o}function M8(o,e,t,r){var i=e[0],s=e[1],l=e[2];return o[0]=i+r*(t[0]-i),o[1]=s+r*(t[1]-s),o[2]=l+r*(t[2]-l),o}function C8(o,e,t,r,i,s){var l=s*s,d=l*(2*s-3)+1,u=l*(s-2)+s,a=l*(s-1),p=l*(3-2*s);return o[0]=e[0]*d+t[0]*u+r[0]*a+i[0]*p,o[1]=e[1]*d+t[1]*u+r[1]*a+i[1]*p,o[2]=e[2]*d+t[2]*u+r[2]*a+i[2]*p,o}function L8(o,e,t,r,i,s){var l=1-s,d=l*l,u=s*s,a=d*l,p=3*s*d,x=3*u*l,w=u*s;return o[0]=e[0]*a+t[0]*p+r[0]*x+i[0]*w,o[1]=e[1]*a+t[1]*p+r[1]*x+i[1]*w,o[2]=e[2]*a+t[2]*p+r[2]*x+i[2]*w,o}function B8(o,e){e=e||1;var t=Zt()*2*Math.PI,r=Zt()*2-1,i=Math.sqrt(1-r*r)*e;return o[0]=Math.cos(t)*i,o[1]=Math.sin(t)*i,o[2]=r*e,o}function P8(o,e,t){var r=e[0],i=e[1],s=e[2],l=t[3]*r+t[7]*i+t[11]*s+t[15];return l=l||1,o[0]=(t[0]*r+t[4]*i+t[8]*s+t[12])/l,o[1]=(t[1]*r+t[5]*i+t[9]*s+t[13])/l,o[2]=(t[2]*r+t[6]*i+t[10]*s+t[14])/l,o}function R8(o,e,t){var r=e[0],i=e[1],s=e[2];return o[0]=r*t[0]+i*t[3]+s*t[6],o[1]=r*t[1]+i*t[4]+s*t[7],o[2]=r*t[2]+i*t[5]+s*t[8],o}function V8(o,e,t){var r=t[0],i=t[1],s=t[2],l=t[3],d=e[0],u=e[1],a=e[2],p=i*a-s*u,x=s*d-r*a,w=r*u-i*d,S=i*w-s*x,m=s*p-r*w,A=r*x-i*p,b=l*2;return p*=b,x*=b,w*=b,S*=2,m*=2,A*=2,o[0]=d+p+S,o[1]=u+x+m,o[2]=a+w+A,o}function I8(o,e,t,r){var i=[],s=[];return i[0]=e[0]-t[0],i[1]=e[1]-t[1],i[2]=e[2]-t[2],s[0]=i[0],s[1]=i[1]*Math.cos(r)-i[2]*Math.sin(r),s[2]=i[1]*Math.sin(r)+i[2]*Math.cos(r),o[0]=s[0]+t[0],o[1]=s[1]+t[1],o[2]=s[2]+t[2],o}function W8(o,e,t,r){var i=[],s=[];return i[0]=e[0]-t[0],i[1]=e[1]-t[1],i[2]=e[2]-t[2],s[0]=i[2]*Math.sin(r)+i[0]*Math.cos(r),s[1]=i[1],s[2]=i[2]*Math.cos(r)-i[0]*Math.sin(r),o[0]=s[0]+t[0],o[1]=s[1]+t[1],o[2]=s[2]+t[2],o}function O8(o,e,t,r){var i=[],s=[];return i[0]=e[0]-t[0],i[1]=e[1]-t[1],i[2]=e[2]-t[2],s[0]=i[0]*Math.cos(r)-i[1]*Math.sin(r),s[1]=i[0]*Math.sin(r)+i[1]*Math.cos(r),s[2]=i[2],o[0]=s[0]+t[0],o[1]=s[1]+t[1],o[2]=s[2]+t[2],o}function N8(o,e){var t=o[0],r=o[1],i=o[2],s=e[0],l=e[1],d=e[2],u=Math.sqrt(t*t+r*r+i*i),a=Math.sqrt(s*s+l*l+d*d),p=u*a,x=p&&li(o,e)/p;return Math.acos(Math.min(Math.max(x,-1),1))}function H8(o){return o[0]=0,o[1]=0,o[2]=0,o}function j8(o){return"vec3("+o[0]+", "+o[1]+", "+o[2]+")"}function X8(o,e){return o[0]===e[0]&&o[1]===e[1]&&o[2]===e[2]}function U8(o,e){var t=o[0],r=o[1],i=o[2],s=e[0],l=e[1],d=e[2];return Math.abs(t-s)<=ft*Math.max(1,Math.abs(t),Math.abs(s))&&Math.abs(r-l)<=ft*Math.max(1,Math.abs(r),Math.abs(l))&&Math.abs(i-d)<=ft*Math.max(1,Math.abs(i),Math.abs(d))}var z8=cc,G8=uc,q8=pc,J8=dc,$8=hc,$s=lc,K8=mc,Y8=function(){var o=si();return function(e,t,r,i,s,l){var d,u;for(t||(t=3),r||(r=0),i?u=Math.min(i*t+r,e.length):u=e.length,d=r;d<u;d+=t)o[0]=e[d],o[1]=e[d+1],o[2]=e[d+2],s(o,o,l),e[d]=o[0],e[d+1]=o[1],e[d+2]=o[2];return e}}();function Q8(){var o=new tt(4);return tt!=Float32Array&&(o[0]=0,o[1]=0,o[2]=0,o[3]=0),o}function gc(o){var e=new tt(4);return e[0]=o[0],e[1]=o[1],e[2]=o[2],e[3]=o[3],e}function fc(o,e,t,r){var i=new tt(4);return i[0]=o,i[1]=e,i[2]=t,i[3]=r,i}function xc(o,e){return o[0]=e[0],o[1]=e[1],o[2]=e[2],o[3]=e[3],o}function Fc(o,e,t,r,i){return o[0]=e,o[1]=t,o[2]=r,o[3]=i,o}function wc(o,e,t){return o[0]=e[0]+t[0],o[1]=e[1]+t[1],o[2]=e[2]+t[2],o[3]=e[3]+t[3],o}function _c(o,e,t){return o[0]=e[0]*t,o[1]=e[1]*t,o[2]=e[2]*t,o[3]=e[3]*t,o}function Ac(o){var e=o[0],t=o[1],r=o[2],i=o[3];return Math.hypot(e,t,r,i)}function Sc(o){var e=o[0],t=o[1],r=o[2],i=o[3];return e*e+t*t+r*r+i*i}function kc(o,e){var t=e[0],r=e[1],i=e[2],s=e[3],l=t*t+r*r+i*i+s*s;return l>0&&(l=1/Math.sqrt(l)),o[0]=t*l,o[1]=r*l,o[2]=i*l,o[3]=s*l,o}function vc(o,e){return o[0]*e[0]+o[1]*e[1]+o[2]*e[2]+o[3]*e[3]}function Tc(o,e,t,r){var i=e[0],s=e[1],l=e[2],d=e[3];return o[0]=i+r*(t[0]-i),o[1]=s+r*(t[1]-s),o[2]=l+r*(t[2]-l),o[3]=d+r*(t[3]-d),o}function bc(o,e){return o[0]===e[0]&&o[1]===e[1]&&o[2]===e[2]&&o[3]===e[3]}function yc(o,e){var t=o[0],r=o[1],i=o[2],s=o[3],l=e[0],d=e[1],u=e[2],a=e[3];return Math.abs(t-l)<=ft*Math.max(1,Math.abs(t),Math.abs(l))&&Math.abs(r-d)<=ft*Math.max(1,Math.abs(r),Math.abs(d))&&Math.abs(i-u)<=ft*Math.max(1,Math.abs(i),Math.abs(u))&&Math.abs(s-a)<=ft*Math.max(1,Math.abs(s),Math.abs(a))}var sK=function(){var o=Q8();return function(e,t,r,i,s,l){var d,u;for(t||(t=4),r||(r=0),i?u=Math.min(i*t+r,e.length):u=e.length,d=r;d<u;d+=t)o[0]=e[d],o[1]=e[d+1],o[2]=e[d+2],o[3]=e[d+3],s(o,o,l),e[d]=o[0],e[d+1]=o[1],e[d+2]=o[2],e[d+3]=o[3];return e}}();function Ks(){var o=new tt(4);return tt!=Float32Array&&(o[0]=0,o[1]=0,o[2]=0),o[3]=1,o}function eU(o){return o[0]=0,o[1]=0,o[2]=0,o[3]=1,o}function Ec(o,e,t){t=t*.5;var r=Math.sin(t);return o[0]=r*e[0],o[1]=r*e[1],o[2]=r*e[2],o[3]=Math.cos(t),o}function tU(o,e){var t=Math.acos(e[3])*2,r=Math.sin(t/2);return r>ft?(o[0]=e[0]/r,o[1]=e[1]/r,o[2]=e[2]/r):(o[0]=1,o[1]=0,o[2]=0),t}function nU(o,e){var t=Pc(o,e);return Math.acos(2*t*t-1)}function Dc(o,e,t){var r=e[0],i=e[1],s=e[2],l=e[3],d=t[0],u=t[1],a=t[2],p=t[3];return o[0]=r*p+l*d+i*a-s*u,o[1]=i*p+l*u+s*d-r*a,o[2]=s*p+l*a+r*u-i*d,o[3]=l*p-r*d-i*u-s*a,o}function oU(o,e,t){t*=.5;var r=e[0],i=e[1],s=e[2],l=e[3],d=Math.sin(t),u=Math.cos(t);return o[0]=r*u+l*d,o[1]=i*u+s*d,o[2]=s*u-i*d,o[3]=l*u-r*d,o}function rU(o,e,t){t*=.5;var r=e[0],i=e[1],s=e[2],l=e[3],d=Math.sin(t),u=Math.cos(t);return o[0]=r*u-s*d,o[1]=i*u+l*d,o[2]=s*u+r*d,o[3]=l*u-i*d,o}function iU(o,e,t){t*=.5;var r=e[0],i=e[1],s=e[2],l=e[3],d=Math.sin(t),u=Math.cos(t);return o[0]=r*u+i*d,o[1]=i*u-r*d,o[2]=s*u+l*d,o[3]=l*u-s*d,o}function sU(o,e){var t=e[0],r=e[1],i=e[2];return o[0]=t,o[1]=r,o[2]=i,o[3]=Math.sqrt(Math.abs(1-t*t-r*r-i*i)),o}function Mc(o,e){var t=e[0],r=e[1],i=e[2],s=e[3],l=Math.sqrt(t*t+r*r+i*i),d=Math.exp(s),u=l>0?d*Math.sin(l)/l:0;return o[0]=t*u,o[1]=r*u,o[2]=i*u,o[3]=d*Math.cos(l),o}function Cc(o,e){var t=e[0],r=e[1],i=e[2],s=e[3],l=Math.sqrt(t*t+r*r+i*i),d=l>0?Math.atan2(l,s)/l:0;return o[0]=t*d,o[1]=r*d,o[2]=i*d,o[3]=.5*Math.log(t*t+r*r+i*i+s*s),o}function aU(o,e,t){return Cc(o,e),Bc(o,o,t),Mc(o,o),o}function ci(o,e,t,r){var i=e[0],s=e[1],l=e[2],d=e[3],u=t[0],a=t[1],p=t[2],x=t[3],w,S,m,A,b;return S=i*u+s*a+l*p+d*x,S<0&&(S=-S,u=-u,a=-a,p=-p,x=-x),1-S>ft?(w=Math.acos(S),m=Math.sin(w),A=Math.sin((1-r)*w)/m,b=Math.sin(r*w)/m):(A=1-r,b=r),o[0]=A*i+b*u,o[1]=A*s+b*a,o[2]=A*l+b*p,o[3]=A*d+b*x,o}function lU(o){var e=Zt(),t=Zt(),r=Zt(),i=Math.sqrt(1-e),s=Math.sqrt(e);return o[0]=i*Math.sin(2*Math.PI*t),o[1]=i*Math.cos(2*Math.PI*t),o[2]=s*Math.sin(2*Math.PI*r),o[3]=s*Math.cos(2*Math.PI*r),o}function cU(o,e){var t=e[0],r=e[1],i=e[2],s=e[3],l=t*t+r*r+i*i+s*s,d=l?1/l:0;return o[0]=-t*d,o[1]=-r*d,o[2]=-i*d,o[3]=s*d,o}function uU(o,e){return o[0]=-e[0],o[1]=-e[1],o[2]=-e[2],o[3]=e[3],o}function Lc(o,e){var t=e[0]+e[4]+e[8],r;if(t>0)r=Math.sqrt(t+1),o[3]=.5*r,r=.5/r,o[0]=(e[5]-e[7])*r,o[1]=(e[6]-e[2])*r,o[2]=(e[1]-e[3])*r;else{var i=0;e[4]>e[0]&&(i=1),e[8]>e[i*3+i]&&(i=2);var s=(i+1)%3,l=(i+2)%3;r=Math.sqrt(e[i*3+i]-e[s*3+s]-e[l*3+l]+1),o[i]=.5*r,r=.5/r,o[3]=(e[s*3+l]-e[l*3+s])*r,o[s]=(e[s*3+i]+e[i*3+s])*r,o[l]=(e[l*3+i]+e[i*3+l])*r}return o}function pU(o,e,t,r){var i=.5*Math.PI/180;e*=i,t*=i,r*=i;var s=Math.sin(e),l=Math.cos(e),d=Math.sin(t),u=Math.cos(t),a=Math.sin(r),p=Math.cos(r);return o[0]=s*u*p-l*d*a,o[1]=l*d*p+s*u*a,o[2]=l*u*a-s*d*p,o[3]=l*u*p+s*d*a,o}function dU(o){return"quat("+o[0]+", "+o[1]+", "+o[2]+", "+o[3]+")"}var hU=gc,mU=fc,gU=xc,fU=Fc,xU=wc,FU=Dc,Bc=_c,Pc=vc,wU=Tc,Rc=Ac,_U=Rc,Vc=Sc,AU=Vc,Ys=kc,SU=bc,kU=yc,vU=function(){var o=si(),e=ai(1,0,0),t=ai(0,1,0);return function(r,i,s){var l=li(i,s);return l<-.999999?(Oo(o,e,i),$s(o)<1e-6&&Oo(o,t,i),Js(o,o),Ec(r,o,Math.PI),r):l>.999999?(r[0]=0,r[1]=0,r[2]=0,r[3]=1,r):(Oo(o,i,s),r[0]=o[0],r[1]=o[1],r[2]=o[2],r[3]=1+l,Ys(r,r))}}(),TU=function(){var o=Ks(),e=Ks();return function(t,r,i,s,l,d){return ci(o,r,l,d),ci(e,i,s,d),ci(t,o,e,2*d*(1-d)),t}}(),bU=function(){var o=ac();return function(e,t,r,i){return o[0]=r[0],o[3]=r[1],o[6]=r[2],o[1]=i[0],o[4]=i[1],o[7]=i[2],o[2]=-t[0],o[5]=-t[1],o[8]=-t[2],Ys(e,Lc(e,o))}}();var Ic=Math.PI,Qs=.5*Ic,cK=2*Ic;var EU=864e13,uK=-EU;function ui(o,e,t){return Math.min(t,Math.max(e,o))}var Zn=class extends Pe{constructor(e,t,r){super(),this._scale=250,this._visible=!0,this.wasVisible=null,this.redrawnEvt=new we("redrawn"),O(r)&&O(r.scale)&&(this._scale=r.scale),this._canvas=Gl(e,t),this._g=this.canvas.getContext("2d")}fillRect(e,t,r,i,s,l){this.g.fillStyle=e,this.g.fillRect(t+l,r+l,i-2*l,s-2*l)}drawText(e,t,r,i){this.g.textAlign=i,this.g.strokeText(e,t,r),this.g.fillText(e,t,r)}redraw(){(this.visible||this.wasVisible)&&this.onRedraw()&&(this.wasVisible=this.visible,this.dispatchEvent(this.redrawnEvt))}onClear(){this.g.clearRect(0,0,this.canvas.width,this.canvas.height)}clear(){this.onClear(),this.dispatchEvent(this.redrawnEvt)}get canvas(){return this._canvas}get g(){return this._g}get imageWidth(){return this.canvas.width}get imageHeight(){return this.canvas.height}get aspectRatio(){return this.imageWidth/this.imageHeight}get width(){return this.imageWidth/this.scale}get height(){return this.imageHeight/this.scale}get scale(){return this._scale}set scale(e){this.scale!==e&&(this._scale=e,this.redraw())}get visible(){return this._visible}set visible(e){this.visible!==e&&(this.wasVisible=this._visible,this._visible=e,this.redraw())}};var pi=class extends Zn{constructor(e){super(10,10,e),this.trueWidth=null,this.trueHeight=null,this.trueFontSize=null,this.dx=null,this._minWidth=null,this._maxWidth=null,this._minHeight=null,this._maxHeight=null,this._freezeDimensions=!1,this._dimensionsFrozen=!1,this._bgFillColor=null,this._bgStrokeColor=null,this._bgStrokeSize=null,this._textStrokeColor=null,this._textStrokeSize=null,this._textFillColor="black",this._textDirection="horizontal",this._fontStyle="normal",this._fontVariant="normal",this._fontWeight="normal",this._fontFamily="sans-serif",this._fontSize=20,this._value=null,this.lastValue=null,O(e)&&(O(e.minWidth)&&(this._minWidth=e.minWidth),O(e.maxWidth)&&(this._maxWidth=e.maxWidth),O(e.minHeight)&&(this._minHeight=e.minHeight),O(e.maxHeight)&&(this._maxHeight=e.maxHeight),O(e.freezeDimensions)&&(this._freezeDimensions=e.freezeDimensions),O(e.textStrokeColor)&&(this._textStrokeColor=e.textStrokeColor),O(e.textStrokeSize)&&(this._textStrokeSize=e.textStrokeSize),O(e.bgFillColor)&&(this._bgFillColor=e.bgFillColor),O(e.bgStrokeColor)&&(this._bgStrokeColor=e.bgStrokeColor),O(e.bgStrokeSize)&&(this._bgStrokeSize=e.bgStrokeSize),O(e.value)&&(this._value=e.value),O(e.textFillColor)&&(this._textFillColor=e.textFillColor),O(e.textDirection)&&(this._textDirection=e.textDirection),O(e.fontStyle)&&(this._fontStyle=e.fontStyle),O(e.fontVariant)&&(this._fontVariant=e.fontVariant),O(e.fontWeight)&&(this._fontWeight=e.fontWeight),O(e.fontFamily)&&(this._fontFamily=e.fontFamily),O(e.fontSize)&&(this._fontSize=e.fontSize),O(e.padding)&&(Ie(e.padding)?this._padding={left:e.padding,right:e.padding,top:e.padding,bottom:e.padding}:this._padding=e.padding)),le(this._padding)&&(this._padding={top:0,right:0,bottom:0,left:0}),this.redraw()}get minWidth(){return this._minWidth}set minWidth(e){this.minWidth!==e&&(this._minWidth=e,this.redraw())}get maxWidth(){return this._maxWidth}set maxWidth(e){this.maxWidth!==e&&(this._maxWidth=e,this.redraw())}get minHeight(){return this._minHeight}set minHeight(e){this.minHeight!==e&&(this._minHeight=e,this.redraw())}get maxHeight(){return this._maxHeight}set maxHeight(e){this.maxHeight!==e&&(this._maxHeight=e,this.redraw())}get padding(){return this._padding}set padding(e){if(e instanceof Array)throw new Error("Invalid padding");(this.padding.top!==e.top||this.padding.right!=e.right||this.padding.bottom!=e.bottom||this.padding.left!=e.left)&&(this._padding=e,this.redraw())}get textDirection(){return this._textDirection}set textDirection(e){this.textDirection!==e&&(this._textDirection=e,this.redraw())}get fontStyle(){return this._fontStyle}set fontStyle(e){this.fontStyle!==e&&(this._fontStyle=e,this.redraw())}get fontVariant(){return this._fontVariant}set fontVariant(e){this.fontVariant!==e&&(this._fontVariant=e,this.redraw())}get fontWeight(){return this._fontWeight}set fontWeight(e){this.fontWeight!==e&&(this._fontWeight=e,this.redraw())}get fontSize(){return this._fontSize}set fontSize(e){this.fontSize!==e&&(this._fontSize=e,this.redraw())}get fontFamily(){return this._fontFamily}set fontFamily(e){this.fontFamily!==e&&(this._fontFamily=e,this.redraw())}get textFillColor(){return this._textFillColor}set textFillColor(e){this.textFillColor!==e&&(this._textFillColor=e,this.redraw())}get textStrokeColor(){return this._textStrokeColor}set textStrokeColor(e){this.textStrokeColor!==e&&(this._textStrokeColor=e,this.redraw())}get textStrokeSize(){return this._textStrokeSize}set textStrokeSize(e){this.textStrokeSize!==e&&(this._textStrokeSize=e,this.redraw())}get bgFillColor(){return this._bgFillColor}set bgFillColor(e){this.bgFillColor!==e&&(this._bgFillColor=e,this.redraw())}get bgStrokeColor(){return this._bgStrokeColor}set bgStrokeColor(e){this.bgStrokeColor!==e&&(this._bgStrokeColor=e,this.redraw())}get bgStrokeSize(){return this._bgStrokeSize}set bgStrokeSize(e){this.bgStrokeSize!==e&&(this._bgStrokeSize=e,this.redraw())}get value(){return this._value}set value(e){this.value!==e&&(this._value=e,this.redraw())}split(e){return e.replace(/\r\n/g,`
`).split(`
`)}unfreeze(){this._dimensionsFrozen=!1}onRedraw(){if(this.onClear(),this.visible&&this.fontFamily&&this.fontSize&&(this.textFillColor||this.textStrokeColor&&this.textStrokeSize)&&this.value&&this.value!==this.lastValue){let e=this.split(this.value),t=this.textDirection&&this.textDirection.indexOf("vertical")===0;if(this.trueWidth===null||this.trueHeight===null||this.dx===null||this.trueFontSize===null||!this._dimensionsFrozen){this._dimensionsFrozen=this._freezeDimensions;let i=this.minWidth!=null||this.maxWidth!=null||this.minHeight!=null||this.maxHeight!=null,s=((this.minWidth||0)-this.padding.right-this.padding.left)*this.scale,l=((this.maxWidth||4096)-this.padding.right-this.padding.left)*this.scale,d=((this.minHeight||0)-this.padding.top-this.padding.bottom)*this.scale,u=((this.maxHeight||4096)-this.padding.top-this.padding.bottom)*this.scale,a=t?d:s,p=t?u:l,x=t?s:d,w=t?l:u,S=[];this.trueWidth=0,this.trueHeight=0,this.dx=0;let m=!1,A=!1,b=1e4,I=0;this.trueFontSize=ui(this.fontSize*this.scale,I,b);let C=null,M=Number.MAX_VALUE;do{let f=this.fontSize;this._fontSize=this.trueFontSize;let T=Gs(this);this._fontSize=f,this.g.textAlign="center",this.g.textBaseline="middle",this.g.font=T,this.trueWidth=0,this.trueHeight=0;for(let L of e){let D=this.g.measureText(L);this.trueWidth=Math.max(this.trueWidth,D.width),this.trueHeight+=this.trueFontSize,Ie(D.actualBoundingBoxLeft)&&Ie(D.actualBoundingBoxRight)&&Ie(D.actualBoundingBoxAscent)&&Ie(D.actualBoundingBoxDescent)&&(i||(this.trueWidth=D.actualBoundingBoxLeft+D.actualBoundingBoxRight,this.trueHeight=D.actualBoundingBoxAscent+D.actualBoundingBoxDescent,this.dx=(D.actualBoundingBoxLeft-this.trueWidth/2)/2))}if(i){let L=this.trueWidth-a,D=this.trueWidth-p,H=this.trueHeight-x,N=this.trueHeight-w,ee=Math.abs(L),te=Math.abs(D),X=Math.abs(H),j=Math.abs(N);m=D>1||N>1,A=L<-1&&H<-1;let U=Math.min(ee,Math.min(te,Math.min(X,j)));U<M&&(M=U,C=this.g.font),(m||A)&&S.indexOf(this.g.font)>-1&&C&&(this.g.font=C,m=!1,A=!1),m?(b=this.trueFontSize,this.trueFontSize=(I+this.trueFontSize)/2):A&&(I=this.trueFontSize,this.trueFontSize=(this.trueFontSize+b)/2)}S.push(this.g.font)}while(m||A);i&&(this.trueWidth<a?this.trueWidth=a:this.trueWidth>p&&(this.trueWidth=p),this.trueHeight<x?this.trueHeight=x:this.trueHeight>w&&(this.trueHeight=w));let k=this.trueWidth+this.scale*(this.padding.right+this.padding.left),h=this.trueHeight+this.scale*(this.padding.top+this.padding.bottom);try{Kn(this.g,k,h)}catch(f){throw console.error(f),f}}this.bgFillColor?(this.g.fillStyle=this.bgFillColor,this.g.fillRect(0,0,this.canvas.width,this.canvas.height)):this.g.clearRect(0,0,this.canvas.width,this.canvas.height),this.textStrokeColor&&this.textStrokeSize&&(this.g.lineWidth=this.textStrokeSize*this.scale,this.g.strokeStyle=this.textStrokeColor),this.textFillColor&&(this.g.fillStyle=this.textFillColor);let r=.5*(e.length-1);for(let i=0;i<e.length;++i){let s=e[i],l=(i-r)*this.trueFontSize,d=this.dx+this.trueWidth/2+this.scale*this.padding.left,u=l+this.trueHeight/2+this.scale*this.padding.top;this.textStrokeColor&&this.textStrokeSize&&this.g.strokeText(s,d,u),this.textFillColor&&this.g.fillText(s,d,u)}if(this.bgStrokeColor&&this.bgStrokeSize){this.g.strokeStyle=this.bgStrokeColor,this.g.lineWidth=this.bgStrokeSize*this.scale;let i=this.bgStrokeSize/2;this.g.strokeRect(i,i,this.canvas.width-this.bgStrokeSize,this.canvas.height-this.bgStrokeSize)}if(t){let i=Os(this.canvas.height,this.canvas.width),s=i.getContext("2d");s?(s.translate(i.width/2,i.height/2),this.textDirection==="vertical"||this.textDirection==="vertical-left"?s.rotate(Qs):this.textDirection==="vertical-right"&&s.rotate(-Qs),s.translate(-this.canvas.width/2,-this.canvas.height/2),s.drawImage(this.canvas,0,0),Kn(this.g,i.width,i.height)):console.warn("Couldn't rotate the TextImage"),this.g.drawImage(i,0,0)}return this.lastValue=this.value,!0}else{let e=this.value!==this.lastValue;return this.lastValue=this.value,e}}};var DU=new Map([[1,"KiB"],[2,"MiB"],[3,"GiB"],[4,"TiB"]]),MU=new Map([[1,"KB"],[2,"MB"],[3,"GB"],[4,"TB"]]);var CU=new Map([[2,DU],[10,MU]]);function di(o,e=10){let t=o<0;o=Math.abs(o);let r=e===2?1024:1e3,i=Math.min(4,Math.floor(Math.log(o)/Math.log(r))),s=Math.pow(r,i);2*o>=r*s&&i<4&&(i++,s*=r);let l;i===0?l="B":(l=CU.get(e).get(i),o/=s);let d=o%1===0;return`${t?"-":""}${o.toFixed(d?0:2)} ${l}`}function An(o){let e=o;for(;e&&e.tagName!=="TD"&&e.tagName!=="TH";)e=e.parentElement;if(e){let t=e.parentElement,r=0;for(let i of t.children){if(i===e)return r;i instanceof HTMLTableCellElement&&(r+=i.colSpan)}}return-1}function Hc(o){if(/^\d{4}-\d\d?-\d\d?$/.test(o)){let e=o.split("-"),t=e.shift();e.push(t),o=e.join("/")}return new Date(o)}function Wc(o){return o.classList.contains("range-start")}function LU(o){return o.classList.contains("range-end")}function Zs(o,e){return o instanceof HTMLInputElement&&(o.type.startsWith("date")||o.type.startsWith("time")||o.type.startsWith("month")||o.type.startsWith("week"))?e&&Hc(e)||null:o instanceof HTMLInputElement&&(o.type==="number"||o.type==="range")?e&&parseFloat(e)||null:e&&e.toLocaleLowerCase()||null}function Oc(o,e){let t=Array.from(o.querySelectorAll("input"));if(t.length===0){let r=o.textContent.trim();return[Zs(e,r)]}else return t.map(r=>Zs(r,r.value))}var Nc=[10,25,50,100],BU=pt(at),eo=class o{static create(e){let t=zn(),r=zn(),i=0,s=0;for(let u of e.columns){let a=null;if(i>0)--i;else{let p=Dr(u.header);u.filter&&(a=wt(10),p.htmlFor=a);let x=Un(p);O(u.headerColSpan)&&(x.colSpan=u.headerColSpan,i=u.headerColSpan-1),t.appendChild(x)}if(s>0)--s;else if(u.filter){let p=u.filter;a&&(p.id=a),u.header&&p instanceof HTMLInputElement&&(p.placeholder="Filter by "+u.header);let x=Un(p);O(u.filterColSpan)&&(x.colSpan=u.filterColSpan,s=u.filterColSpan-1),r.appendChild(x)}}let l=An(t.lastElementChild)-1;for(;An(r.lastElementChild)<l;)r.appendChild(Un());for(r.appendChild(Un(rl(ge("btn","btn-secondary"),"Reset"))),l=An(r.lastElementChild);l>An(t.lastElementChild);)t.appendChild(Un());let d=new o(ul(ge("table","table-responsive","table-hover","table-striped","summary"),At("resourcename",e.resourceName),hl(t,r),pl()));return e.columns.forEach((u,a)=>d.setCellMapper(a,u.getCellValue)),d.setPageSizes(e.pageSizes||Nc),d}get pageIndex(){return this._pageIndex}set pageIndex(e){this._pageIndex=e,localStorage.setItem(this.pageIndexKey,e.toString())}get pageSize(){return this._pageSize}set pageSize(e){this._pageSize=e,localStorage.setItem(this.pageSizeKey,e.toString())}constructor(e){this.element=e,this.ranges=new Map,this.valueCache=new Map,this.resetButton=null,this.cellMappers=new Map,this.pageSizes=[0,...Nc],this.update=$n(this._update.bind(this)),this.resourceName=this.element.dataset.resourcename,this.pageIndexKey=`${this.resourceName}-page-index`,this.pageSizeKey=`${this.resourceName}-page-size`,this.rows=Pn(this.element,"tbody > tr"),this.ranges=new Map,this.element.tHead?(this.filterElements=Pn(this.element.tHead,"input,select"),this.resetButton=this.element.tHead.querySelector("button[type=reset]")):this.filterElements=[],this.colCount=Math.max(...Pn(this.element,"tr").map(t=>t.children.length)),this.noContentMessageElement=zn(Mr(qi(this.colCount),"No content")),this.paginator=Mr(qi(this.colCount),ge("multi")),this.columnIndices=new Map,this.resetButton&&this.resetButton.addEventListener("click",()=>{this.valueCache.clear();for(let t of this.filterElements)this.deleteValue(t),t.value="";this.update()}),this.element.tFoot||(this.element.tFoot=dl()),Se(this.element.tFoot,this.noContentMessageElement,...this.element.tFoot.children,zn(this.paginator));for(let t of this.filterElements){let r=An(t);if(this.columnIndices.set(t,r),t.addEventListener("input",this.update.bind(null,t)),this.restoreValue(t),Wc(t)||LU(t)){this.ranges.has(r)||this.ranges.set(r,[null,null]);let i=this.ranges.get(r),s=Wc(t)?0:1;i[s]=t}}for(let t of this.element.querySelectorAll("input"))t.classList.add("form-control","form-control-sm");for(let t of this.element.querySelectorAll("select"))t.classList.add("custom-select","custom-select-sm");if(this.pageIndex=parseFloat(localStorage.getItem(this.pageIndexKey)||"0"),this.pageSize=parseFloat(localStorage.getItem(this.pageSizeKey)||"10"),O(this.element.dataset.pagesizes)&&this.element.dataset.pagesizes.length>0){let t=this.element.dataset.pagesizes.split(",").map(r=>parseFloat(r.trim())).filter(at);this.setPageSizes(t)}else this.update()}setPageSizes(e){if(le(e)||e.length===0)throw new Error("Need at least one page size");Qe(this.pageSizes,0,...e),this.pageSize=this.pageSizes[1],this.update()}setCellMapper(e,t){this.cellMappers.set(e,t)}clear(){Be(this.rows);for(let e of this.element.tBodies)We(e);this._update()}setValues(...e){let t=e.map(r=>{let i=zn();for(let s=0;s<this.colCount;++s){let l=Mr();this.cellMappers.has(s)&&Se(l,this.cellMappers.get(s)(r,i)),i.appendChild(l)}return this.rows.push(i),i});Qe(this.rows,...t);for(let r of this.element.tBodies)We(r);Se(this.contentRoot,...this.rows),this._update()}select(e){let t=null;for(let r=0;r<this.rows.length;++r){let i=this.rows[r],s=i===e;mt(i,s,"selected"),s&&(t=r)}t!==null&&(this.pageIndex=Math.floor(t/this.pageSize)*this.pageSize,this.update())}get noContentMessage(){return Za(this.noContentMessageElement)}set noContentMessage(e){et(this.noContentMessageElement,e)}get contentRoot(){return this.element.tBodies[0]}makeKey(e){return`yarrow:${this.resourceName}:${e.id}`}saveValue(e,t){let r=this.makeKey(e);t?localStorage.setItem(r,t.toString()):localStorage.removeItem(r)}deleteValue(e){let t=this.makeKey(e);localStorage.removeItem(t)}restoreValue(e){let t=this.makeKey(e),r=localStorage.getItem(t);if(!O(r))e.value="";else if(e instanceof HTMLSelectElement)e.value=r,this.valueCache.set(e,e.value);else if(e.type.startsWith("date")){let i=Hc(r);e.valueAsDate=i,this.valueCache.set(e,i)}else if(e.type==="number"||e.type==="range"){let i=parseFloat(r);e.valueAsNumber=i,this.valueCache.set(e,i)}else e.value=r,this.valueCache.set(e,e.value)}isRange(e){let t=An(e);return this.ranges.has(t)}_update(e=null){if(O(e)){let M=Zs(e,e.value);this.saveValue(e,M),M?this.valueCache.set(e,M):this.valueCache.delete(e)}this.resetButton&&(Hn(this.resetButton,this.valueCache.size>0,"Reset","Clear out filters"),mt(this.resetButton,this.valueCache.size>0,"btn-secondary"),mt(this.resetButton,this.valueCache.size===0,"btn-outline-secondary"));let t=0;for(let M=0;M<this.rows.length;++M){let k=this.rows[M],h=!0;for(let f=0;f<this.filterElements.length&&h;++f){let T=this.filterElements[f],L=this.columnIndices.get(T);if(this.isRange(T)){let[D,H]=this.ranges.get(L),N=this.valueCache.get(D),ee=this.valueCache.get(H),te=k.children[L],X=Oc(te,D),j=null;if(O(N)&&O(ee)?j=X.map(U=>N<=U&&U<=ee):O(N)?j=X.map(U=>N<=U):O(ee)&&(j=X.map(U=>U<=ee)),j){let U=j.reduce((Q,K)=>Q||K,!1);h&&=U}}else{let D=this.valueCache.get(T);if(D){let H=k.children[L],te=Oc(H,T).map(X=>le(X)?!0:ho(X)?D.getTime()===X.getTime():Ie(X)?X===D:D==="XXX_NONE_XXX"?X.length===0||X==="NONE":T.classList.contains("exact")?X.toLocaleLowerCase()===D:X.toLocaleLowerCase().indexOf(D)>-1).reduce((X,j)=>X||j,!1);h&&=te}}}h&&++t,k.style.display=h?"":"none"}let r=Math.ceil(t/this.pageSize),i=Math.max(0,r-1),s=Math.min(i,Math.floor(this.pageIndex/this.pageSize));this.pageIndex=s*this.pageSize;let l=Math.min(i,s+1),d=Math.max(0,s-1),u=s*this.pageSize,a=u+this.pageSize,p=this.rows.filter(M=>M.style.display!=="none");for(let M=0;M<p.length;++M)(M<u||a<=M)&&(p[M].style.display="none");this.noContentMessageElement.style.display=t===0?"":"none",We(this.paginator);let x=[],w=M=>{let k=zi(x,M,BU);k<0&&qt(x,M,k)};w(0),w(s),w(d),w(l),w(i);let S=i*this.pageSize,m=Math.max(0,this.pageIndex-this.pageSize),A=(M,k)=>{let h;return k?h=ol(M):h=Xn(za(kt(5),kt(10)),M),this.paginator.append(h),h},b=(M,k)=>{let h=0<=k&&k<=S&&k!==this.pageIndex,f=A(M,h);h&&f.addEventListener("click",()=>{this.pageIndex=k,this.update()})},I=M=>{let k=M!==this.pageSize,h=A(M.toString(),k);k&&h.addEventListener("click",()=>{this.pageSize=M,this.update()})};b("<",m);let C=-1;for(let M of x){let k=M-C;C=M,k>1&&A("...",!1),b((M+1).toFixed(0),M*this.pageSize)}if(b(">",a),A("|",!1),A(`${t} filtered items of ${this.rows.length} results`,!1),this.pageSizes.length>2){A("|",!1),A("Items per page:",!1);for(let M=1;M<this.pageSizes.length;++M)this.rows.length>this.pageSizes[M-1]&&I(this.pageSizes[M])}}};var hi=class{constructor(e){this.task=new De(!1),this.element=me(ge("dialog"),ht("none"),At("dialogname",e),this.container=me(ge("dialog-container"),this.titleElement=ll(ge("title-bar"),e),this.contentArea=me(ge("dialog-content")),me(ge("dialog-controls"),this.confirmButton=mn("Confirm",ge("confirm-button")),this.cancelButton=tl("Cancel",ge("cancel-button"))))),this.confirmButton.addEventListener("click",this.task.resolver(!0)),this.cancelButton.addEventListener("click",this.task.resolver(!1)),Se(document.body,this)}get title(){return this._title}set title(e){et(this.titleElement,this._title=e)}async onShowing(){}onShown(){}async onConfirm(){}onCancel(){}async onClosing(){}onClosed(){}show(e){be(this,e)}get isOpen(){return On(this)}hide(){this.show(!1)}async toggle(){this.isOpen?this.hide():this.showDialog()}async showDialog(){return await this.onShowing(),this.show(!0),this.onShown(),this.task.restart(),await this.task?await this.onConfirm():this.onCancel(),await this.onClosing(),this.show(!1),this.onClosed(),this.task.result}};var ea=class extends we{constructor(e){super("tabselected"),this.tabname=e}};function jc(...o){return Te("tab-panel",...o)}var ta=class extends HTMLElement{constructor(){super(),this.buttons=new Map,this.curTab=null,this._disabled=!1,this.eventTarget=new Jt(super.addEventListener.bind(this),super.removeEventListener.bind(this),super.dispatchEvent.bind(this)),this.panels=new Map(Pn(this,":scope > [data-tab-name]").map(e=>[e.dataset.tabName,e])),this.panelNames=Array.from(this.panels.keys()),this.buttons=new Map(this.panelNames.map(e=>{let t=new ea(e);return[e,vo(e,Ye(()=>{this.select(e),this.dispatchEvent(t)}))]})),this.controls=me(ge("tabs"),...Array.from(this.buttons.values())),this.inner=me(ge("panels"))}connectedCallback(){this.append(this.controls,this.inner),this.inner.append(...Array.from(this.panels.values())),this.panelNames.length>0&&this.select(this.panelNames[0])}disconnectedCallback(){this.controls.remove(),this.inner.replaceWith(...Array.from(this.panels.values()))}get enabled(){return!this.disabled}set enabled(e){this.disabled=!e}get disabled(){return this._disabled}set disabled(e){this._disabled=e;for(let[t,r]of this.panels){let i=this.buttons.get(t);if(i.disabled=e||t===this.curTab,mt(r,e,"disabled"),Nn(r))r.disabled=e;else{let s=je(r);Nn(s)&&(s.disabled=e)}}}isSelected(e){return this.curTab===e}select(e){if(this.panels.has(e)){this.curTab=e;for(let[t,r]of this.panels){let i=t===this.curTab,s=this.buttons.get(t);s.disabled=i||this.disabled,be(r,i)}}}addEventListener(e,t,r){this.eventTarget.addEventListener(e,t,r)}removeEventListener(e,t){this.eventTarget.removeEventListener(e,t)}dispatchEvent(e){return this.eventTarget.dispatchEvent(e)}addBubbler(e){this.eventTarget.addBubbler(e)}removeBubbler(e){this.eventTarget.removeBubbler(e)}addScopedEventListener(e,t,r,i){this.eventTarget.addScopedEventListener(e,t,r,i)}removeScope(e){this.eventTarget.removeScope(e)}clearEventListeners(e){this.eventTarget.clearEventListeners(e)}};customElements.define("tab-panel",ta);var to=class extends we{constructor(){super("refresh")}};var na=class{constructor(e="controls progress"){let t=me(ge("progress-bar"),Ia("progressbar"),Da(0),Ea(0),ya(1),Fo(0));this.element=me(ge(e),t),this.progress=new oa(t)}clear(){this.progress.clear()}report(e,t,r,i){this.progress.report(e,t,r,i)}attach(e){this.progress.attach(e)}start(e){this.progress.start(e)}end(e){this.progress.end(e)}},oa=class extends Qt{constructor(e,t=!0){super(),this.progressBar=e,this.showMessage=t}report(e,t,r,i){if(super.report(e,t,r,i),e===0)this.progressBar.style.width="0",this.progressBar.setAttribute("aria-valuenow","0");else{let s=(100*this.p).toFixed(1);this.progressBar.style.width=`${s}%`,this.progressBar.setAttribute("aria-valuenow",s)}this.showMessage&&et(this.progressBar,r||"")}};function mi(o="controls progress"){return new na(o)}var gi=class{constructor(e=.25){this.debounceSeconds=e}timer=null;curTask=null;nextTask=null;throttle(e){O(this.curTask)?this.nextTask=e:(O(this.timer)&&(clearTimeout(this.timer),this.timer=null),this.timer=setTimeout(async()=>{this.timer=null,this.run(e)},this.debounceSeconds*1e3))}async run(e){this.curTask=e(),await this.curTask;let t=this.nextTask;O(t)?(this.nextTask=null,this.run(t)):this.curTask=null}};var fi=Me("video")("vnd.yarrow.ytdlp+json","ytdlp.json","ytdlp","json"),dY=Me("image")("vnd.google.streetview.pano");function ra(o){return O(o)&&o.length>0?parseFloat(o):null}var en=class{constructor(e,t){this._url=null,this._base=void 0,this._protocol=null,this._host=null,this._hostName=null,this._userName=null,this._password=null,this._port=null,this._pathName=null,this._hash=null,this._query=new Map,e!==void 0&&(this._url=new URL(e,t),this.rehydrate())}rehydrate(){O(this._protocol)&&this._protocol!==this._url.protocol&&(this._url.protocol=this._protocol),O(this._host)&&this._host!==this._url.host&&(this._url.host=this._host),O(this._hostName)&&this._hostName!==this._url.hostname&&(this._url.hostname=this._hostName),O(this._userName)&&this._userName!==this._url.username&&(this._url.username=this._userName),O(this._password)&&this._password!==this._url.password&&(this._url.password=this._password),O(this._port)&&this._port.toFixed(0)!==this._url.port&&(this._url.port=this._port.toFixed(0)),O(this._pathName)&&this._pathName!==this._url.pathname&&(this._url.pathname=this._pathName),O(this._hash)&&this._hash!==this._url.hash&&(this._url.hash=this._hash);for(let[e,t]of this._query)this._url.searchParams.set(e,t);this._protocol=this._url.protocol,this._host=this._url.host,this._hostName=this._url.hostname,this._userName=this._url.username,this._password=this._url.password,this._port=ra(this._url.port),this._pathName=this._url.pathname,this._hash=this._url.hash,this._url.searchParams.forEach((e,t)=>this._query.set(t,e))}refresh(){if(this._url===null){if(O(this._protocol)&&(O(this._host)||O(this._hostName))){if(O(this._host))return this._url=new URL(`${this._protocol}//${this._host}`,this._base),this._port=ra(this._url.port),this.rehydrate(),!1;if(O(this._hostName))return this._url=new URL(`${this._protocol}//${this._hostName}`,this._base),this.rehydrate(),!1}else if(O(this._pathName)&&O(this._base))return this._url=new URL(this._pathName,this._base),this.rehydrate(),!1}return O(this._url)}base(e){if(this._url!==null)throw new Error("Cannot redefine base after defining the protocol and domain");return this._base=e,this.refresh(),this}protocol(e){return this._protocol=e,this.refresh()&&(this._url.protocol=e),this}host(e){return this._host=e,this.refresh()&&(this._url.host=e,this._hostName=this._url.hostname,this._port=ra(this._url.port)),this}hostName(e){return this._hostName=e,this.refresh()&&(this._url.hostname=e,this._host=`${this._url.hostname}:${this._url.port}`),this}port(e){return this._port=e,this.refresh()&&(this._url.port=e.toFixed(0),this._host=`${this._url.hostname}:${this._url.port}`),this}userName(e){return this._userName=e,this.refresh()&&(this._url.username=e),this}password(e){return this._password=e,this.refresh()&&(this._url.password=e),this}path(e){return this._pathName=e,this.refresh()&&(this._url.pathname=e),this}pathPop(e){return e=e||/\/[^/]+\/?$/,this.path(this._pathName.replace(e,""))}pathPush(e){let t=this._pathName;return t.endsWith("/")||(t+="/"),t+=e,this.path(t)}query(e,t){return this._query.set(e,t),this.refresh()&&this._url.searchParams.set(e,t),this}hash(e){return this._hash=e,this.refresh()&&(this._url.hash=e),this}toURL(){return this._url}toString(){return this._url.href}[Symbol.toStringTag](){return this.toString()}};function Fi(o){return o.hostname==="www.youtube.com"||o.hostname==="youtube.com"||o.hostname==="youtu.be"}var PU=new Map([["vp9","vp09.00.10.08"]]);function RU(o){return le(o.vcodec)||o.vcodec==="none"?"audio":"video"}function Xc(o,e){let t=[o];if(O(e)&&e.length>0&&e!=="none"&&(e=PU.get(e)||e),O(e)&&e.length>0&&e!=="none"){let r=encodeURI(e)!==e?"*":"";t.push(`codecs${r}="${e}"`)}return t.join(";")}var xi=class{constructor(e,t){this.fetcher=e,this.makeProxyURL=t}makeVideoRecord(e){let{content_type:t,acodec:r,vcodec:i}=e;return{contentType:Xc(t,i),url:this.makeProxyURL(e.url).href,acodec:r,abr:e.abr*1024,asr:e.asr,vcodec:i,vbr:e.vbr*1024,fps:e.fps,width:e.width,height:e.height,resolution:e.width*e.height}}makeAudioRecord(e){let{content_type:t,acodec:r}=e;return{contentType:Xc(t,r),url:this.makeProxyURL(e.url).href,acodec:r,abr:e.abr*1024,asr:e.asr,resolution:e.abr}}makeImageRecord(e){let{content_type:t,url:r,width:i,height:s}=e;return{contentType:t,url:this.makeProxyURL(r).href,width:i,height:s,resolution:i*s}}async loadData(e,t){if(le(e))throw new Error("must provide a YouTube URL or a YTMetadata object");O(t)&&t.start();let r=null;fe(e)?r=await this.fetcher.get(e).progress(t).object().then(Re):(O(t)&&t.end(e.title),r=e);let i=0;if(O(r.original_url)){let w=new URL(r.original_url);Fi(w)&&w.searchParams.has("t")&&(i=parseFloat(w.searchParams.get("t")))}let s=new ot((await Promise.all(r.formats)).map(w=>[RU(w),w])),l=r.title,d=r.thumbnails||[],u=r.thumbnail&&this.makeImageRecord(sn(d,w=>w.url===r.thumbnail)),a=s.get("video").map(w=>this.makeVideoRecord(w)),p=s.get("audio").map(w=>this.makeAudioRecord(w));return{title:l,thumbnail:u,videos:a,audios:p,startTime:i}}};function ia(o){return le(o)?null:(fe(o)&&(o=new URL(o,location.href)),o)}function Uc(o){return le(o)?!1:(o=ia(o),Fi(o))}function sa(o){if(le(o))throw new Error("URL is undefined");if(o=ia(o),Fi(o)){let e=Array.from(o.searchParams.keys()).filter(t=>t!=="v"&&t!=="t");for(let t of e)o.searchParams.delete(t)}return o}function no(o){if(o=ia(o),le(o))throw new Error("URL is undefined");return o=sa(o),new en("/vr/link",location.href).query("q",o.href).toURL()}var oo=class extends we{constructor(){super("selecting")}},wi=class extends we{constructor(t){super("urlselected");this.file=t}},ro=class extends we{constructor(t){super("filedataselected");this.file=t}},_i=class extends we{constructor(t,r){super("fileselected");this.file=t;this.mediaType=r}};var aa=class extends we{constructor(t){super("tagschanged");this.tags=t}},Ai=Fo(ja(100)),io=class extends Pe{element;_tags=new Array;newTagName;addTagButton;removeTagButton;tagsList;constructor(e,t,r,i){super(),this.element=me(ht("grid"),Xa("row"),Fo(Fr(10))),fe(e)?(this.newTagName=lt(Ke("newTagName"),fr(e),Ai),this.addTagButton=mn(Ke("addTagButton"),Ai,"Add"),this.removeTagButton=Tr(Ke("removeTagButton"),Ai,"Remove"),this.tagsList=jn(Ke("tagsList"),Ra(!0),Ai)):(this.newTagName=e,this.addTagButton=t,this.removeTagButton=r,this.tagsList=i,this.newTagName.replaceWith(this.element)),Se(this.element,this.newTagName,this.addTagButton,this.tagsList,this.removeTagButton),this.addTagButton.disabled=!0,this.removeTagButton.disabled=!0,this.newTagName.addEventListener("input",()=>{this.addTagButton.disabled=this.newTagName.value.length===0});let s=()=>{this.newTagName.value.length>0&&this.updateTags(this.newTagName.value.toLocaleLowerCase(),null)};this.addTagButton.addEventListener("click",s),this.newTagName.addEventListener("keydown",Ml(s)),this.tagsList.addEventListener("input",()=>{this.removeTagButton.disabled=this.tagsList.selectedIndex===-1}),this.removeTagButton.addEventListener("click",()=>{if(this.tagsList.selectedIndex>-1){let l=this.tagsList.selectedOptions[0].value;this.updateTags(null,l)}})}updateTags(e,t){let r=new Array;e!==null&&(e=e.trim().toLocaleLowerCase(),e.length>0&&qt(r,e,pt(at),"set"));for(let i=0;i<this.tagsList.options.length;++i)this.tagsList.options[i].value!==t&&qt(r,e,pt(at),"set");this.tags=r,this.dispatchEvent(new aa(r))}get tags(){return this._tags}set tags(e){Qe(this._tags,...e),this._tags.sort(),We(this.tagsList),this.tagsList.append(...e.map(t=>gt(St(t),t))),this.newTagName.value="",this.addTagButton.disabled=this.removeTagButton.disabled=!0}};function VU(o){return new Blob([o.href],{type:wo.value})}var Si=class extends Pe{constructor(t,r){super();this.fetcher=t;this.element=me(Vt.create(["File",this.urlInput=fl(cn("Paste in URL to file"),Kt(!0)),this.loadingIndicator=Xn(ht("none"),Sl.emojiStyle),this.selectionMessage=me()],["Copyright",this.copyrightInput=lt(Ke("copyright"),Bn("copyright"),Kt(!0))],["Copyright date",this.copyrightDateInput=Br(Ke("copyrightDate"),Bn("copyrightDate"),Kt(!0))],["Tags",this.tagPicker=new io(r)]),this.uploadProgress=mi("progress"));let i=()=>this.refresh();this.urlInput.addEventListener("input",i),this.copyrightInput.addEventListener("input",i),this.copyrightDateInput.addEventListener("input",i);let s=new gi(1);this.urlInput.addEventListener("input",()=>{if(this.urlInput.value.length>0&&!/^[a-z]+:\/\//.test(this.urlInput.value)){let{selectionStart:l,selectionEnd:d,selectionDirection:u}=this.urlInput,a="https://";this.urlInput.value=a+this.urlInput.value,this.urlInput.setSelectionRange(l+a.length,d+a.length,u)}this.hasURL&&(this.checkingURL=!0,be(this.loadingIndicator,!0,"inline-block"),s.throttle(async()=>{try{if(this.dispatchEvent(new oo),this.selectedURL=new URL(this.urlInput.value),Uc(this.selectedURL)){this.selectedURL=sa(this.selectedURL),this.urlInput.value=this.selectedURL.href;let l=this.selectedType=fi.value,d=no(this.selectedURL),u=await this.fetcher.get(d).object().then(Re),a=this.selectedName=u.title,p=this.copyrightInput.value=u.uploader,x=u.upload_date.substring(0,4),w=u.upload_date.substring(4,6),S=u.upload_date.substring(6,8),m=this.copyrightDateInput.valueAsDate=new Date(`${x}/${w}/${S}`),A={filePath:d.href,mediaType:l,name:a,copyright:p,copyrightDate:m,size:null,sizeString:"--",id:null,tagsString:null,metadata:u};this.dispatchEvent(new ro(A))}else{let l=await this.fetcher.head(no(this.selectedURL)).exec(),d=this.selectedURL.pathname.split("/");this.copyrightInput.value=this.selectedURL.hostname,this.copyrightDateInput.valueAsDate=l.date,this.selectedName=l.fileName||d[d.length-1],this.selectedType=l.contentType,this.dispatchEvent(new wi(this.selectedURL))}this.checkingURL=!1,this.refresh()}catch{this.selectedType=null,this.checkingURL=!1,this.refresh("Not a valid target")}})),this.refresh()})}element;urlInput;loadingIndicator;selectionMessage;copyrightInput;copyrightDateInput;tagPicker;uploadProgress;selectedType=null;selectedURL=null;typeFilters=new Array;accept=null;selectedName=null;checkingURL=!1;clearFileSelection(t){this.uploadProgress.clear(),this.selectedType=null,this.urlInput.value=null,this.copyrightInput.value=null,this.copyrightDateInput.value=null,this.tagPicker.tags=t,this.refresh()}addMessage(t){Se(this.selectionMessage,me(t))}refresh(t){We(this.selectionMessage),fe(t)?this.addMessage(t):this.hasURL&&!this.checkingURL&&!this.hasType?this.addMessage("No file found at give location"):this.hasType&&!this.hasCorrectType&&this.addMessage(`Unexpected file type: ${this.selectedType}. Expected: ${this.accept}`),this.hasCopyright||this.addMessage("Copyright holder is required"),this.hasCopyrightDate||this.addMessage("Copyright date is required"),be(this.loadingIndicator,this.checkingURL),this.dispatchEvent(new to)}setTypeFilters(...t){Qe(this.typeFilters,...t),this.accept=un(t)}isExpectedType(t){return le(t)?!1:this.typeFilters.length===0?!0:this.typeFilters.map(r=>r.matches(t)).reduce((r,i)=>r||i,!1)}get tagString(){return this.tagPicker.tags.join()}get hasURL(){return this.urlInput.validity.valid}get hasFile(){return O(this.selectedURL)}get hasType(){return O(this.selectedType)}get hasCorrectType(){return this.isExpectedType(this.selectedType)}get hasCopyright(){return this.copyrightInput.value.length>0}get hasCopyrightDate(){return this.copyrightDateInput.validity.valid}get requirementsMet(){return this.hasURL&&this.hasFile&&this.hasCorrectType&&this.hasCopyright&&this.hasCopyrightDate}async upload(){try{let t=new FormData,r=VU(this.selectedURL);return t.set("FormFile",r,this.selectedName),t.set("AltContentType",this.selectedType),t.set("Copyright",this.copyrightInput.value),t.set("CopyrightDate",this.copyrightDateInput.valueAsDate.toDateString()),t.set("TagString",this.tagString),await this.fetcher.post("/editor/files/create").body(t).progress(this.uploadProgress).object().then(Re)}catch(t){throw console.error(t),t}}};var la=class extends we{constructor(){super("searching")}},ca=class extends we{constructor(){super("searchcomplete")}},ki=class extends Pe{constructor(t,r){super();this.fetcher=t;this.table=eo.create({resourceName:"file-picker",columns:[{header:"ID",filter:gl(),getCellValue:i=>i.id.toFixed(0)},{header:"Name",filter:lt(),getCellValue:i=>i.name},{header:"Type",filter:this.typeSelector=jn(),getCellValue:i=>i.mediaType},{header:"Tags",filter:lt(fr(r)),getCellValue:i=>i.tagsString},{header:"Size",getCellValue:i=>i.sizeString},{getCellValue:(i,s)=>{let l=To("Select",Ye(()=>this.selectFile(l,i)));return this.selectors.push(l),this.rows.set(l,s),l}}]})}table;typeSelector;get element(){return this.table.element}typeFilters=new Array;selectors=new Array;rows=new Map;_selectedFile=null;tagFilter=null;typeFilter=null;get selectedFile(){return this._selectedFile}get hasFile(){return O(this._selectedFile)}upload(){return Promise.resolve(this.selectedFile)}get requirementsMet(){return this.hasFile}setTypeFilters(...t){Qe(this.typeFilters,...t),this.typeFilter=un(this.typeFilters),We(this.typeSelector),Se(this.typeSelector,gt(St(""),"--"),...this.typeFilters.map(r=>gt(St(r.value),r.value)))}clearFileSelection(t){this.tagFilter=t.join(),this.selectFile(null,null)}search(t){return this.tagFilter=t,this.update()}async update(){this.dispatchEvent(new la),Be(this.selectors),this.rows.clear();let t={typeFilter:this.typeFilter,tagFilter:this.tagFilter};this.table.noContentMessage="Searching...",this.table.clear();let r=await this.fetcher.post("/Editor/Files/Search").body(t,pn).object().then(Re);this.table.noContentMessage="No content.",this.table.setValues(...r),this.dispatchEvent(new ca)}selectFile(t,r){this._selectedFile=r;for(let i of this.selectors){let s=this.rows.get(i),l=t===i;mt(s,l,"selected"),i.disabled=l}this._selectedFile&&(this.dispatchEvent(new oo),this.dispatchEvent(new ro(this._selectedFile)))}};var vi=_n("Juniper:TSLib:MediaTypeDB",()=>{let o=new Map;function e(l){if(!l)return console.warn("Couldn't guess media type. Must provide a valid fileName."),[];let d=l.lastIndexOf(".");if(d===-1)return console.warn("Couldn't guess media type. FileName has no extension."),[];let u=l.substring(d);return u?u[0]=="."&&(u=u.substring(1)):u="unknown",o.has(u)?o.get(u):[new Yt("unknown",u,[u])]}function t(l,d){if(!d&&l.indexOf(".")>-1){let u=e(l);u.length>0&&(d=u[0].value)}return d}function r(l){let d=!1,u=l.__getValueUnsafe();if(l=_n("Juniper.MediaTypes:"+u,()=>(d=!0,l)),d)for(let a of l.__getExtensionsUnsafe()){o.has(a)||o.set(a,new Array);let p=o.get(a);p.indexOf(l)<0&&p.push(l)}return l}let i={normalizeFileType:t};function s(l){Object.values(l).forEach(r)}return s(es),s(ts),s(ns),s(os),s(is),s(ss),s(as),s(ls),s(ps),s(hs),s(ms),s(gs),i});var ua=class extends we{constructor(e){super("input"),this.files=e}},Ti=class extends Pe{get dragTarget(){return this._dragTarget}set dragTarget(e){e!==this.dragTarget&&(this.dragTarget&&(this.dragTarget.removeEventListener("dragover",this.onDragOver),this.dragTarget.removeEventListener("dragend",this.onDragEnd),this.dragTarget.removeEventListener("dragleave",this.onDragEnd),this.dragTarget.removeEventListener("drop",this.onDrop)),this._dragTarget=e,this.dragTarget&&Se(this.dragTarget,Hr(this.onDragOver),Ll(this.onDragEnd),Nr(this.onDragEnd),jr(this.onDrop)))}constructor(e,t,r,i=null){super(),this.file=r,this.typeFilters=new Array,this.element=null,this._dragTarget=null;let s=u=>Array.from(u).filter(a=>this.typeFilters.length===0||this.typeFilters.filter(p=>p.matches(a.type)).length>0),l=u=>Array.from(u).filter(a=>a.kind=="file"&&(this.typeFilters.length===0||this.typeFilters.filter(p=>p.matches(a.type)).length>0));this.onDragOver=u=>{this.enabled&&(l(u.dataTransfer.items).length>0?et(this.element,"Drop file..."):et(this.element,"No files matching expected type(s)")),u.preventDefault()},this.onDragEnd=u=>{this.enabled&&et(this.element,e),u.preventDefault()},this.onDrop=u=>{this.enabled&&d(u.dataTransfer.files),this.onDragEnd(u)};let d=u=>{let a=s(u);a.length>0&&this.dispatchEvent(new ua(a))};this.file.style.display="none",this.file.insertAdjacentElement("afterend",this.element=Xt(ge("btn",`btn-${t}`),Ye(()=>this.show()),e)),this.dragTarget=i||this.element,this.file.addEventListener("input",()=>d(this.file.files)),this.setTypeFilters(),this.enabled=!0}show(){this.file.showPicker?this.file.showPicker():this.file.click()}setTypeFilters(...e){Qe(this.typeFilters,...e),this.file.accept=un(e)}isExpectedType(e){return le(e)?!1:this.typeFilters.length===0?!0:this.typeFilters.map(t=>t.matches(e)).reduce((t,r)=>t||r,!1)}get accept(){return this.file.accept}get enabled(){return!this.file.disabled}set enabled(e){this.file.disabled=!e,this.element.disabled=!e}get disabled(){return!this.enabled}set disabled(e){this.enabled=!e}get files(){return this.file.files}clear(){this.file.value=null}};var bi=class extends Pe{constructor(t,r){super();this.fetcher=t;this.element=me(Vt.create(["File",this.picker=new Ti("Upload new file","primary",ml(Kt(!0))),this.selectionMessage=me()],["Copyright",this.copyrightInput=lt(Ke("copyright"),Bn("copyright"),Kt(!0))],["Copyright date",this.copyrightDateInput=Br(Ke("copyrightDate"),Bn("copyrightDate"),Kt(!0))],["Tags",this.tagPicker=new io(r)]),this.uploadProgress=mi("progress")),this.picker.dragTarget=this.element,this.picker.addEventListener("input",async s=>{s.files.length>0&&(this.selectedFile=s.files[0],this.selectedType=this.selectedFile.type,(le(this.selectedType)||this.selectedType.length===0)&&(this.selectedType=vi.normalizeFileType(this.selectedFile.name,this.selectedType)),this.refresh(),this.dispatchEvent(new _i(this.selectedFile,this.selectedType)))});let i=this.refresh.bind(this);this.copyrightInput.addEventListener("input",i),this.copyrightDateInput.addEventListener("input",i)}element;picker;selectionMessage;copyrightInput;copyrightDateInput;tagPicker;uploadProgress;selectedFile=null;selectedType=null;setTypeFilters(...t){this.picker.setTypeFilters(...t)}get accept(){return this.picker.accept}addMessage(t){Se(this.selectionMessage,me(t))}refresh(){We(this.selectionMessage),this.hasType&&!this.hasCorrectType&&this.addMessage(`Unexpected file type: ${this.selectedType}. Expected: ${this.picker.accept}`),this.hasCopyright||this.addMessage("Copyright holder is required"),this.hasCopyrightDate||this.addMessage("Copyright date is required"),this.dispatchEvent(new to)}clearFileSelection(t){this.uploadProgress.clear(),this.selectedType=null,this.picker.clear(),this.copyrightInput.value=null,this.copyrightDateInput.value=null,this.tagPicker.tags=t,this.refresh()}get tagString(){return this.tagPicker.tags.join(",")}get hasFile(){return O(this.selectedFile)}get hasType(){return O(this.selectedType)}get hasCorrectType(){return this.picker.isExpectedType(this.selectedType)}get hasCopyright(){return this.copyrightInput.value.length>0}get hasCopyrightDate(){return this.copyrightDateInput.validity.valid}get requirementsMet(){return this.hasFile&&this.hasCorrectType&&this.hasCopyright&&this.hasCopyrightDate}upload(){let t=new FormData;return t.set("FormFile",this.selectedFile,this.selectedFile.name),t.set("Copyright",this.copyrightInput.value),t.set("CopyrightDate",this.copyrightDateInput.valueAsDate.toDateString()),t.set("TagString",this.tagString),this.fetcher.post("/editor/files/create").body(t).progress(this.uploadProgress).object().then(Re)}};var It=class o extends Cn{get exemplar(){return this.allNodes[0]}constructor(e,t,r,i,s){super(e,t),r=r||[],s=s||[];let l=i||r;this.inputs=r;let d=r.filter(go).map(u=>u);this.outputs=l.filter(go).map(u=>u),this.allNodes=Array.from(new Set([...d,...this.outputs,...s]))}add(e){this.allNodes.push(e),this.context._parent(this,e)}remove(e){dt(this.allNodes,e),this.context._unparent(this,e)}onDisposing(){this.allNodes.forEach(rt),super.onDisposing()}get channelCount(){return this.exemplar.channelCount}set channelCount(e){this.allNodes.forEach(t=>t.channelCount=e)}get channelCountMode(){return this.exemplar.channelCountMode}set channelCountMode(e){this.allNodes.forEach(t=>t.channelCountMode=e)}get channelInterpretation(){return this.exemplar.channelInterpretation}set channelInterpretation(e){this.allNodes.forEach(t=>t.channelInterpretation=e)}get numberOfInputs(){return this.inputs.length}get numberOfOutputs(){return this.outputs.length}static resolve(e,t){return t=t||0,t<0||e.length<=t?null:e[t]}_resolveInput(e){return{destination:o.resolve(this.inputs,e)}}_resolveOutput(e){return{source:o.resolve(this.outputs,e)}}};var WU=pt(o=>o.label);var hZ=ye(HTMLAudioElement.prototype.setSinkId);var No=class{constructor(){this.p=bt.create(),this.q=Qn.create(),Object.seal(this)}set(e,t,r,i,s,l,d){this.setPosition(e,t,r),this.setOrientation(i,s,l,d)}setPosition(e,t,r){bt.set(this.p,e,t,r)}setOrientation(e,t,r,i){Qn.set(this.q,e,t,r,i)}copy(e){bt.copy(this.p,e.p),Qn.copy(this.q,e.q)}};var AZ=bt.create(),SZ=bt.create();var Ho=class extends It{constructor(e,t,r,i,s,l){super(e,t,i,s,l),this.spatialized=r,this._minDistance=1,this._maxDistance=10,this._algorithm="inverse"}get minDistance(){return this._minDistance}get maxDistance(){return this._maxDistance}get algorithm(){return this._algorithm}setAudioProperties(e,t,r){this._minDistance=e,this._maxDistance=t,this._algorithm=r}};var VZ=bt.create();var pa=class extends It{constructor(e){let t=new $t(e,{type:"bandpass",frequency:2500,Q:4.5}),r=new Nt(e,{gain:10});t.connect(r),super("radio-effect",e,[t],[r])}};function zc(o,e){let t=new pa(e);return t.name=`${o}-radio-effect`,t}function Gc(o,e){let t=new $t(e,{type:"bandpass",frequency:400,Q:4.5});return t.name=`${o}-wall-effect`,t}var qc=new Map([["Radio",zc],["Wall",Gc]]);var tn=class extends It{constructor(e,t,r,i,s){let l=new Nt(t);l.name="volume-control",s=s||[],super(e,t,[],[r],s),this.spatializer=r,this.effects=new Array,this.pose=new No,this.volumeControl=l,this.setEffects(...i)}onDisposing(){Be(this.effects),super.onDisposing()}setEffects(...e){this.disable();for(let r of this.effects)this.remove(r),rt(r);Be(this.effects);let t=this.volumeControl;for(let r of e)if(O(r)){let i=qc.get(r);if(O(i)){let s=i(r,this.context);this.add(s),this.effects.push(s),t=t.connect(s)}}this.enable()}get spatialized(){return this.spatializer.spatialized}get lastInternal(){return this.effects[this.effects.length-1]||this.volumeControl}enable(){this.lastInternal.isConnected()||this.lastInternal.connect(this.spatializer)}disable(){this.lastInternal.isConnected()&&this.lastInternal.disconnect()}tog(){this.lastInternal.isConnected()?this.disable():this.enable()}get volume(){return this.volumeControl.gain.value}set volume(e){this.volumeControl.gain.value=e}get minDistance(){return O(this.spatializer)?this.spatializer.minDistance:null}get maxDistance(){return O(this.spatializer)?this.spatializer.maxDistance:null}get algorithm(){return O(this.spatializer)?this.spatializer.algorithm:null}setPosition(e,t,r){O(this.spatializer)&&(this.pose.setPosition(e,t,r),this.spatializer.readPose(this.pose))}setOrientation(e,t,r,i){O(this.spatializer)&&(this.pose.setOrientation(e,t,r,i),this.spatializer.readPose(this.pose))}set(e,t,r,i,s,l,d){O(this.spatializer)&&(this.pose.set(e,t,r,i,s,l,d),this.spatializer.readPose(this.pose))}setAudioProperties(e,t,r){O(this.spatializer)&&this.spatializer.setAudioProperties(e,t,r)}};var Ut=class extends we{constructor(e,t){super(e),this.source=t}},Sn=class extends Ut{constructor(e){super("loaded",e)}};var kn=class extends Ut{constructor(e){super("played",e)}},vn=class extends Ut{constructor(e){super("paused",e)}},Tn=class extends Ut{constructor(e){super("stopped",e)}},bn=class extends Ut{constructor(e){super("progress",e),this.value=0,this.total=0}};var Wee=new we("disposing");var jo=class extends Ho{constructor(e){super("no-spatializer",e.context,!1,[e],[e])}readPose(e){}getGainAtDistance(e){return 1}};var kte=new we("useheadphonestoggled");var Xo=new we("released");var yi=pt("descending",o=>o.resolution);var da=class extends Ut{constructor(e,t){super(e,t)}},so=class extends da{constructor(e){super("loading",e)}};var Ei=class extends tn{get data(){return this._data}get loaded(){return this._loaded}get title(){return this.audioElement.title}setTitle(e){this.audioElement.title=e}constructor(e,t){let r=Rt(an(!1),ln(!1),_t(!0)),i=new Lt(e,{mediaElement:r});i.name="JuniperAudioPlayer-Input",super("audio-player",e,t,[],[i]),this.cacheBustSources=new Map,this._data=null,this._loaded=!1,this.sourcesByURL=new Map,this.sources=new Array,this.potatoes=new Array,i.connect(this.volumeControl),this.audioElement=r,this.loadingEvt=new so(this),this.loadEvt=new Sn(this),this.playEvt=new kn(this),this.pauseEvt=new vn(this),this.stopEvt=new Tn(this),this.progEvt=new bn(this),this.onPlay=async()=>{this.enable(),this.dispatchEvent(this.playEvt)},this.onPause=s=>{this.disable(),this.audioElement.currentTime===0||s.type==="ended"?this.dispatchEvent(this.stopEvt):this.dispatchEvent(this.pauseEvt)},this.onTimeUpdate=async()=>{this.progEvt.value=this.audioElement.currentTime,this.progEvt.total=this.audioElement.duration,this.dispatchEvent(this.progEvt)},this.onError=()=>this.loadAudio(),this.audioElement.addEventListener("play",this.onPlay),this.audioElement.addEventListener("pause",this.onPause),this.audioElement.addEventListener("ended",this.onPause),this.audioElement.addEventListener("error",this.onError),this.audioElement.addEventListener("waiting",this.onWaiting),this.audioElement.addEventListener("canplay",this.onCanPlay),this.audioElement.addEventListener("timeupdate",this.onTimeUpdate),Object.assign(window,{audioPlayer:this})}get hasAudio(){let e=this.sourcesByURL.get(this.audioElement.src);return O(e)&&e.acodec!=="none"||O(this.audioElement.audioTracks)&&this.audioElement.audioTracks.length>0||O(this.audioElement.webkitAudioDecodedByteCount)&&this.audioElement.webkitAudioDecodedByteCount>0||O(this.audioElement.mozHasAudio)&&this.audioElement.mozHasAudio}onDisposing(){super.onDisposing(),this.clear(),this.audioElement.removeEventListener("play",this.onPlay),this.audioElement.removeEventListener("pause",this.onPause),this.audioElement.removeEventListener("ended",this.onPause),this.audioElement.removeEventListener("error",this.onError),this.audioElement.removeEventListener("waiting",this.onWaiting),this.audioElement.removeEventListener("canplay",this.onCanPlay),this.audioElement.removeEventListener("timeupdate",this.onTimeUpdate),this.audioElement.dispatchEvent(Xo)}clear(){this.stop(),this.sourcesByURL.clear(),Be(this.sources),Be(this.potatoes),this.audioElement.src="",this._data=null,this._loaded=!1}cacheBust(e){let t=this.cacheBustSources.get(e)||0;this.cacheBustSources.set(e,t+1)}async load(e,t){this.clear(),this._data=e,fe(e)?(this.setTitle(e),this.potatoes.push(e)):(this.setTitle(e.title),e.audios.sort(yi),Qe(this.sources,...e.audios));for(let r of this.sources)this.sourcesByURL.set(r.url,r);if(!this.hasSources)throw new Error("No audio sources");if(this.dispatchEvent(this.loadingEvt),await this.loadAudio(t),!this.hasSources)throw new Error("No audio sources");return this._loaded=!0,this.dispatchEvent(this.loadEvt),this}async getMediaCapabilities(e){let t={type:"file",audio:{contentType:e.contentType,bitrate:e.abr*1024,samplerate:e.asr}};try{return await navigator.mediaCapabilities.decodingInfo(t)}catch{return{supported:!0,powerEfficient:!1,smooth:!1,configuration:t}}}get hasSources(){return this.sources.length>0||this.potatoes.length>0}async loadAudio(e){for(O(e)&&e.start(),this.audioElement.removeEventListener("error",this.onError);this.hasSources;){let t=null,r=this.sources.shift();if(O(r)){let s=await this.getMediaCapabilities(r);if(!s.smooth||!s.powerEfficient){this.potatoes.push(r.url);continue}else t=r.url}else t=this.potatoes.shift();let i=this.cacheBustSources.get(this.data);if(O(i)){let s=new en(t,location.href);s.query("v",i.toString()),t=s.toString()}if(this.audioElement.src=t,this.audioElement.load(),await vr(this.audioElement)){O(r)?this.sources.unshift(r):this.potatoes.unshift(t),this.audioElement.addEventListener("error",this.onError),O(e)&&e.end();return}}}get playbackState(){return le(this.data)?"empty":this.loaded?this.audioElement.error?"errored":this.audioElement.ended||this.audioElement.paused&&this.audioElement.currentTime===0?"stopped":this.audioElement.paused?"paused":"playing":"loading"}async play(){await this.context.ready,await this.audioElement.play()}async playThrough(){let e=Ue(this,"stopped");await this.play(),await e}pause(){this.audioElement.pause()}stop(){this.pause(),this.audioElement.currentTime=0}restart(){return this.stop(),this.play()}get element(){return this.audioElement}};var Di=class extends Error{constructor(e,t=null){super(e),this.innerError=t}};var ha=class extends Di{constructor(){super("Cancellation!")}},Uo=class{constructor(){this._cancelled=!1}get cancelled(){return this._cancelled}check(){if(this.cancelled)throw new ha}cancel(){this._cancelled=!0}};var Mi=yu(Zc(),1);var ga="2.16.105";var zo=_n("Juniper:PdfReady",()=>new De(!1)),Go=class extends Zn{static async prepare(e,t,r,i,s){let l=null;if(i instanceof Uo?l=i:s=i,l=l||new Uo,!zo.started){zo.start(),console.info(`PDF.js v${ga}`);let d=new en(e,location.href);d.query("v",ga),e=d.toString(),Mi.GlobalWorkerOptions.workerSrc=await t.get(e).useCache(!r).progress(s).file().then(Re),l.check(),zo.resolve()}await zo,l.check()}get curPageIndex(){return this._curPageIndex}get curPageNumber(){return this.curPageIndex+1}get canGoBack(){return this._curPageIndex>0}get canGoForward(){return this._curPageIndex<this.numPages-1}constructor(e,t){super(1,1),this.viewportParams=t,this.pdf=null,this._curPageIndex=null,this.ready=this.load(e)}async load(e){await zo;let t=Mi.getDocument(e);if(this.pdf=await t.promise,this.pdf.numPages===0)throw new Error("No pages found in PDF")}async getPage(e){if(await this.ready,e=ui(e,0,this.pdf.numPages-1),e!==this._curPageIndex){this._curPageIndex=e;let t=await this.pdf.getPage(e+1),r=t.getViewport(this.viewportParams);Kn(this.g,r.width,r.height),await t.render({canvasContext:this.g,viewport:r,intent:"print"}).promise,this.dispatchEvent(this.redrawnEvt)}}get numPages(){return this.pdf?this.pdf.numPages:null}onRedraw(){return!1}};function eu(o){return new URL(URL.createObjectURL(o))}function tu(o){return fe(o.vcodec)}var Ci=class o extends tn{get data(){return this._data}get loaded(){return this._loaded}get title(){return this.video.title}setTitle(e){this.video.title=e,this.audio.title=e}constructor(e,t,r){let i=o.createMediaElement(Lr,_t(!0)),s=o.createMediaElement(Rt,_t(!1)),l=new Lt(t,{mediaElement:i});l.name=`${e}-video`;let d=new Lt(t,{mediaElement:s});d.name=`${e}-audio`,super(e,t,r,[],[l,d]),this.onTimeUpdate=null,this.wasUsingAudioElement=!1,this.nextStartTime=null,this._data=null,this._loaded=!1,this.onError=new Map,this.sourcesByURL=new Map,this.sources=new ot,this.potatoes=new ot,l.connect(this.volumeControl),d.connect(this.volumeControl),this.video=i,this.audio=s,this.loadingEvt=new so(this),this.loadEvt=new Sn(this),this.playEvt=new kn(this),this.pauseEvt=new vn(this),this.stopEvt=new Tn(this),this.progEvt=new bn(this),this.onSeeked=()=>{this.useAudioElement&&(this.audio.currentTime=this.video.currentTime)},this.onPlay=async()=>{this.onSeeked(),this.useAudioElement&&(await this.context.ready,await this.audio.play()),this.dispatchEvent(this.playEvt)},this.onPause=a=>{this.useAudioElement&&(this.onSeeked(),this.audio.pause()),this.video.currentTime===0||a.type==="ended"?this.dispatchEvent(this.stopEvt):this.dispatchEvent(this.pauseEvt)};let u=!1;this.onWaiting=()=>{this.useAudioElement&&(u=!0,this.audio.pause())},this.onCanPlay=async()=>{this.useAudioElement&&u&&(await this.context.ready,await this.audio.play(),u=!1)},this.wasUsingAudioElement=!1,this.onTimeUpdate=async()=>{if(this.video.getVideoPlaybackQuality().totalVideoFrames===0){let p=this.onError.get(this.video);O(p)&&await p()}else if(this.useAudioElement){this.wasUsingAudioElement=!1;let p=this.video.currentTime-this.audio.currentTime;Math.abs(p)>.25&&(this.audio.currentTime=this.video.currentTime)}else this.wasUsingAudioElement||(this.wasUsingAudioElement=!0,this.audio.pause());this.progEvt.value=this.video.currentTime,this.progEvt.total=this.video.duration,this.dispatchEvent(this.progEvt)},this.video.addEventListener("seeked",this.onSeeked),this.video.addEventListener("play",this.onPlay),this.video.addEventListener("pause",this.onPause),this.video.addEventListener("ended",this.onPause),this.video.addEventListener("waiting",this.onWaiting),this.video.addEventListener("canplay",this.onCanPlay),this.video.addEventListener("timeupdate",this.onTimeUpdate),Object.assign(window,{videoPlayer:this})}elementHasAudio(e){let t=this.sourcesByURL.get(e.src);return O(t)&&t.acodec!=="none"||O(e.audioTracks)&&e.audioTracks.length>0||O(e.webkitAudioDecodedByteCount)&&e.webkitAudioDecodedByteCount>0||O(e.mozHasAudio)&&e.mozHasAudio}get useAudioElement(){return!this.elementHasAudio(this.video)&&this.elementHasAudio(this.audio)}onDisposing(){this.clear(),this.video.removeEventListener("seeked",this.onSeeked),this.video.removeEventListener("play",this.onPlay),this.video.removeEventListener("pause",this.onPause),this.video.removeEventListener("ended",this.onPause),this.video.removeEventListener("waiting",this.onWaiting),this.video.removeEventListener("canplay",this.onCanPlay),this.video.removeEventListener("timeupdate",this.onTimeUpdate),super.onDisposing(),this.audio.dispatchEvent(Xo),this.video.dispatchEvent(Xo)}clear(){this.stop();for(let[e,t]of this.onError)e.removeEventListener("error",t);this.onError.clear(),this.sourcesByURL.clear(),this.sources.clear(),this.potatoes.clear(),this.video.src="",this.audio.src="",this.wasUsingAudioElement=!1,this._data=null,this._loaded=!1}async load(e,t){if(this.clear(),this._data=e,fe(e)?(this.setTitle(e),this.potatoes.add(this.video,e)):(this.setTitle(e.title),this.fillSources(this.video,e.videos),this.fillSources(this.audio,e.audios)),!this.hasSources(this.video))throw new Error("No video sources found");if(this.dispatchEvent(this.loadingEvt),await jl(t,r=>this.loadMediaElement(this.audio,r),r=>this.loadMediaElement(this.video,r)),fe(e)?this.nextStartTime=null:this.nextStartTime=e.startTime,!this.hasSources(this.video))throw new Error("No video playable sources");return this._loaded=!0,this.dispatchEvent(this.loadEvt),this}fillSources(e,t){t.sort(yi);for(let r of t)ds.matches(r.contentType)||(this.sources.add(e,r),this.sourcesByURL.set(r.url,r))}static createMediaElement(e,...t){return e(an(!1),ln(!1),...t)}async getMediaCapabilities(e){let t={type:"file"};tu(e)?t.video={contentType:e.contentType,bitrate:e.vbr*1024,framerate:e.fps,width:e.width,height:e.height}:e.acodec!=="none"&&(t.audio={contentType:e.contentType,bitrate:e.abr*1024,samplerate:e.asr});try{return await navigator.mediaCapabilities.decodingInfo(t)}catch{return{supported:!0,powerEfficient:!1,smooth:!1,configuration:t}}}hasSources(e){return this.sources.get(e).length>0||this.potatoes.count(e)>0}async loadMediaElement(e,t){for(O(t)&&t.start(),this.onError.has(e)&&(e.removeEventListener("error",this.onError.get(e)),this.onError.delete(e));this.hasSources(e);){let r=null,i=this.sources.get(e).shift();if(O(i)){let s=await this.getMediaCapabilities(i);if(!s.smooth||!s.powerEfficient){this.potatoes.add(e,i.url);continue}else r=i.url}else r=this.potatoes.get(e).shift();if(e.src=r,e.load(),await vr(e)){O(i)?this.sources.get(e).unshift(i):this.potatoes.get(e).unshift(r);let s=()=>this.loadMediaElement(e,t);e.addEventListener("error",s),this.onError.set(e,s),this.wasUsingAudioElement=this.wasUsingAudioElement,O(t)&&t.end();return}}}get width(){return this.video.videoWidth}get height(){return this.video.videoHeight}get playbackState(){return le(this.data)?"empty":this.loaded?this.video.error?"errored":this.video.ended||this.video.paused&&this.video.currentTime===0?"stopped":this.video.paused?"paused":"playing":"loading"}async play(){await this.context.ready,O(this.nextStartTime)&&this.nextStartTime>0&&(this.video.pause(),this.video.currentTime=this.nextStartTime,this.nextStartTime=null),await this.video.play()}async playThrough(){let e=Ue(this,"stopped");await this.play(),await e}pause(){this.video.pause()}stop(){this.pause(),this.video.currentTime=0}restart(){return this.stop(),this.play()}};var nu="wait",XU="pointer",UU="not-allowed",qo=class extends Ci{constructor(e,t){super("video-player",e,t),this.element=me(ht("inline-block"),this.thumbnail=vt(_r(nu)),this.video,this.audio),this.thumbnail.addEventListener("click",()=>{this.loaded&&this.play()}),this.addEventListener("played",()=>this.showVideo(!0)),this.addEventListener("stopped",()=>this.showVideo(!1)),this.showVideo(!1)}onDisposing(){super.onDisposing(),O(this.element.parentElement)&&this.element.remove()}showVideo(e){be(this.video,e,"inline-block"),be(this.thumbnail,!e,"inline-block")}async load(e,t){try{Se(this.thumbnail,Ar(.5),_r(nu));let r=Io(t,[1,10]);return await qn(super.load(e,r.shift()),this.loadThumbnail(e,r.shift())),this}finally{Se(this.thumbnail,Ar(1),_r(this.loaded?XU:UU))}}clear(){super.clear(),this.thumbnail.src=""}setTitle(e){super.setTitle(e),this.thumbnail.title=e}async loadThumbnail(e,t){if(t.start(),O(e)){Se(this.thumbnail,Bt(e.thumbnail.url),Ar(.5));let r=Ue(this.thumbnail,"load","error");await Dt(r)}t.end()}};function zU(o,e){be(Wt,!0,"block"),be(iu,!e,"block"),be(su,e,"block");let t=o.src.match(/\/file\/(\d+)$/);if(e&&t){let r=parseInt(t[1],10);su.src=`/Editor/PhotosphereViewer?FileID=${r}`}else iu.src=o.src}function ou(){Wt.style.display="none"}var ru=new WeakSet;function au(){let o=document.querySelectorAll(".thumbnail");for(let e of o)ru.has(e)||(e.addEventListener("click",()=>zU(e,e.classList.contains("photosphere"))),ru.add(e))}var lu="33D0371F-B096-473D-AEE3-B17F5392CCEC",Wt=document.getElementById(lu);Wt||(Wt=me(Ke(lu),ge("thumbnail-view"),ht("none"),vt(Rn("Thumbnail")),Er(Rn("Preview"))));var iu=Wt.querySelector("img"),su=Wt.querySelector("iframe");Wt.parentElement||(Se(document.body,Wt),Wt.addEventListener("pointerleave",ou),Wt.addEventListener("click",ou));var GU=Vn("audio","*"),qU=Vn("image","*"),JU=Vn("text","*"),$U=Vn("video","*"),Li=class{constructor(e,t,r){this.element=e;this.fetcher=t;this.audioSys=r;Go.prepare(ic("pdfjs"),t,!0),this.yt=new xi(this.fetcher,no);let i=this.audioSys;if(i instanceof fn){let l=new jo(i.destination);this.vid=new qo(i,l),this.aud=new Ei(i,l)}else this.vid=new qo(i.audio.context,i.audio.noSpatializer),this.aud=i.audioPlayer,i=i.audio.context;let s=this.element.dataset.json;if(O(s)){let l=JSON.parse(s);this.setFile(l,...l.tagsString.split(",").map(d=>d.trim().toLowerCase()))}}_hasFile;yt;vid;aud;get hasFile(){return this._hasFile}showLoading(){this.setElement(me("Loading"),"Loading","Loading",null)}async setFile(e,...t){this.showLoading();let r=null,i=null,s=null,l=null,d=null;if(e instanceof URL){let a=await this.fetcher.get(no(e)).file();r=a.content,s=a.fileName??e.href,i=a.contentType,l=a.contentLength}else e instanceof File?(r=URL.createObjectURL(e),s=e.name,i=e.type,l=e.size):(r=e.filePath,s=e.name,i=e.mediaType,l=e.size,d=e.metadata);(le(i)||i.length===0)&&(i=vi.normalizeFileType(s,i));let u=null;if(fi.matches(i)){let a=await this.yt.loadData(d||r);le(a.videos)||a.videos.length===0?u=await this.aud.load(a):u=await this.vid.load(a)}else cs.matches(i)||wo.matches(i)?u=this.makeIFrame(r):Zi.matches(i)?u=await this.makePDF(r):GU.matches(i)?u=this.makeAudio(r):$U.matches(i)?u=this.makeVideo(r):qU.matches(i)?u=this.makeImage(r):JU.matches(i)||In.matches(i)||jt.matches(i)?u=await this.makeText(r):u=await this.makeUnknown(r);this.setElement(u,i,s,l,...t)}clear(){We(this),this._hasFile=!1}makeAudio(e){return Rt(_t(!0),Bt(e))}makeVideo(e){return Lr(_t(!0),Bt(e))}async makeText(e){let t=await this.fetcher.get(e).text().then(Re);return Cr(t)}async makePDF(e){let t=new Go(e,{scale:1.44});await t.getPage(0);let r=await $l(t.canvas,_o),i=eu(r);return vt(ge("thumbnail","image"),Bt(i))}makeImage(e){return vt(ge("thumbnail","image"),Bt(e))}makeUnknown(e){return me(`Cannot preview file at path: ${e}`)}makeIFrame(e){return Er(Bt(e))}setElement(e,t,r,i,...s){e=je(e),this._hasFile=e.tagName!=="DIV",We(this),Se(this,gn(r),me(i&&`${t}: ${di(i)}`||""),Se(e,ge(...s))),(e.tagName==="IMG"||e.tagName==="CANVAS")&&au()}};var Bi="existingTags",Pi=class extends hi{constructor(t,r){super("File Upload");this.fetcher=t;this.element.classList.add("file-picker"),this.preview=new Li(me(Ht("preview")),this.fetcher,r),Se(this.contentArea,this.existingTags=il(Ke(Bi)),this.tabs=jc(me(At("tab-name","Upload new file"),this.uploadTab=new bi(this.fetcher,Bi)),me(At("tab-name","Link to file"),this.linkTab=new Si(this.fetcher,Bi)),me(At("tab-name","Pick existing file"),this.selectTab=new ki(this.fetcher,Bi))),this.preview);let i=()=>this.refresh(),s=()=>this.preview.showLoading(),l=d=>this.preview.setFile(d.file,...this.tags);this.uploadTab.addEventListener("refresh",i),this.linkTab.addEventListener("refresh",i),this.linkTab.addEventListener("selecting",s),this.selectTab.addEventListener("selecting",s),this.uploadTab.addEventListener("fileselected",l),this.linkTab.addEventListener("filedataselected",l),this.linkTab.addEventListener("urlselected",l),this.selectTab.addEventListener("filedataselected",d=>{i(),l(d)}),this.selectTab.addEventListener("searching",()=>{this.confirmButton.disabled=!0,this.cancelButton.disabled=!0}),this.selectTab.addEventListener("searchcomplete",()=>{this.confirmButton.disabled=!this.canConfirm,this.cancelButton.disabled=!1}),this.tabs.addEventListener("tabselected",this.clearFileSelection.bind(this)),this.getTags()}preview;tags=new Array;tabs;existingTags;uploadTab;linkTab;selectTab;_selectedFile=null;get selectedFile(){return this._selectedFile}setTags(...t){Qe(this.tags,...t),this.tags.sort()}setTypeFilters(...t){this.uploadTab.setTypeFilters(...t),this.linkTab.setTypeFilters(...t),this.selectTab.setTypeFilters(...t)}async getTags(){let t=await this.fetcher.get("/editor/files/tags").object().then(Re);We(this.existingTags),this.existingTags.append(...t.map(r=>gt(St(r),r)))}clearFileSelection(){this.preview.clear(),this.uploadTab.clearFileSelection(this.tags),this.linkTab.clearFileSelection(this.tags),this.selectTab.clearFileSelection(this.tags)}onShown(){super.onShown(),this.clearFileSelection(),this.tabs.select("upload-file"),this.selectTab.search(this.tags.join())}async onConfirm(){this.confirmButton.disabled=!0,this._selectedFile=await this.currentTab.upload(),super.onConfirm()}onClosed(){this.clearFileSelection(),this.preview.clear(),this.getTags(),super.onClosed()}get isUploading(){return this.tabs.isSelected("upload-file")}get isLinking(){return this.tabs.isSelected("link-file")}get isSelecting(){return this.tabs.isSelected("pick-file")}get currentTab(){return this.isUploading&&this.uploadTab||this.isLinking&&this.linkTab||this.isSelecting&&this.selectTab}get canConfirm(){return this.currentTab.requirementsMet}refresh(){let t=this.canConfirm?"Confirm":this.isUploading?"Upload requirements not met":this.isLinking?"Link requirements not met":"No file choice made";Hn(this.confirmButton,this.canConfirm,t,t)}};var Ri=class extends Pe{_element=null;_enabled=!0;refresh;constructor(){super(),this.refresh=$n(()=>this.onRefresh())}get visible(){return On(this.element)}set visible(e){be(this.element,e)}get element(){return this._element}get enabled(){return this._enabled}set enabled(e){e!==this.enabled&&(this._enabled=e,this.refresh())}get disabled(){return!this.enabled}set disabled(e){this.enabled=!e}};var Vi=class extends we{constructor(t,r){super(r);this.node=t}},xa=class extends Vi{constructor(e){super(e,"update")}},Fa=class extends Vi{constructor(e){super(e,"delete")}},fa=512,cu=1024,Ii=class extends Ri{constructor(t,r){super();this.fetcher=t;let i=s=>Ye(l=>{this.hasNode&&(l.preventDefault(),s())});this.fileUpload=new Pi(this.fetcher,r),this.fileUpload.setTypeFilters(_o,rs),this.fileUpload.setTags("ui"),this._element=me(Ht("menu-item-view"),me(Ht("controls"),this.deleter=Tr(Rn("Delete menu item"),i(()=>{this.deleter.disabled=!0,this.dispatchEvent(new Fa(this.node))}),"Delete")),this.fields=Vt.create(gn("Properties"),["Label",this.labelField=Cr(cn("Enter label"),ge("form-control"),Ha("soft"),gr("off"),At("lpignore","true"),Co(()=>{this.hasNode&&(this.node.value.label=this.labelField.value,this.onUpdate())}))],["",me(Ht("alert alert-info"),bl.emojiStyle," ",yr(`Upload PNG or JPEG files, ${kt(fa)} wide by ${kt(cu)} tall.`)),this.aspectWarning=me(Ht("alert alert-warning"),Ss.emojiStyle," ",yr("Images should be twice as tall as they are wide. This image will be distorted in the menu.")),this.resolutionWarning=me(Ht("alert alert-warning"),Ss.emojiStyle," ",yr(`Images should be ${kt(fa)} wide by ${kt(cu)} tall. This image will be blurry in the menu.`)),this.pickFileButton=mn(Ye(async()=>{if(this.hasNode&&await this.fileUpload.showDialog()){let s=this.fileUpload.selectedFile;this.node.value.fileID=s.id,this.node.value.filePath=s.filePath,this.node.value.fileName=s.name,this.node.value.fileSize=s.size,this.node.value.fileType=s.mediaType,this.onUpdate()}})),this.fileNameField=me("file name field")],bs(this.actionTypeID="actionType"+wt(8),["Action type",this.actionType=jn(ge("custom-select","custom-select-sm"),gt("NONE",St("")),gt("Start scenario",St("yarrow")),Co(()=>{this.hasNode&&this.actionType.value!=="yarrow"&&O(this.node.value.scenarioGroupID)?(this.node.value.scenarioGroupID=null,this.node.value.scenarioID=null,this.onUpdate()):this.refresh()}))]),bs(this.scenarioListID="scenarioList"+wt(8),["Scenario",this.scenariosTable=eo.create({resourceName:"scenario-picker",pageSizes:[5,10,20],columns:[{header:"Language",filter:lt(),getCellValue:s=>s.languageName},{header:"Name",filter:lt(),getCellValue:s=>s.name},{header:"Version",getCellValue:s=>s.latestVersion&&s.latestVersion.version||"--"},{getCellValue:(s,l)=>(this.scenarioIDsToRows.set(s.id,l),mn("Select",Ye(()=>{this.scenariosTable.select(l),this.node.value.label=s.name,this.node.value.scenarioGroupID=s.id,this.node.value.scenarioID=s.latestVersion&&s.latestVersion.id||null,this.onUpdate()})))}]})])),me(Ht("preview"),gn("Preview"),this.previewCanvas=br())),this.image=vt(Rn("Menu item image")),this.previewContext=this.previewCanvas.getContext("2d"),this.textImage=new pi({textFillColor:"white",textDirection:"horizontal",padding:{top:.025,right:.05,bottom:.025,left:.05},scale:400,fontFamily:Yn.font.fontFamily,fontSize:Yn.font.fontSize,fontWeight:Yn.font.fontWeight,maxWidth:.5,maxHeight:1}),this.load()}fileUpload;pickFileButton;deleter;fields;labelField;actionTypeID;actionType;scenarioListID;fileNameField;image;previewCanvas;previewContext;textImage;aspectWarning;resolutionWarning;scenarioIDsToRows=new Map;_node=null;scenariosTable;lastImagePath="";async load(){this.enabled=!1,await qs(Yn.font),this.enabled=!0}setScenarios(t){this.scenarioIDsToRows.clear(),this.scenariosTable.setValues(...t)}onUpdate(){this.dispatchEvent(new xa(this.node)),this.refresh()}get node(){return this._node}set node(t){t!==this.node&&(this.scenariosTable.select(null),this._node=t,this.node&&this.node.value&&(this.node.value.scenarioGroupID||this.node.value.scenarioID)?(this.actionType.value="yarrow",this.scenariosTable.select(this.scenarioIDsToRows.get(this.node.value.scenarioGroupID))):(this.actionType.value="",this.scenariosTable.select(null)),this.refresh())}get hasNode(){return O(this.node)}onRefresh(){let t=null,r="N/A",i=null,s=null;if(this.hasNode){let d=this.node.value;this.deleter.disabled=!this.enabled||this.node.hasChildren,this.labelField.value=d.label||"",this.fields.setGroupVisible(this.actionTypeID,this.node.isLeaf),this.fields.setGroupVisible(this.scenarioListID,this.actionType.value.length>0),t=d.fileName,r=d.fileType,i=di(d.fileSize),s=d.filePath,this.labelField.disabled=this.actionType.disabled=!this.enabled}else this.labelField.value="",this.fields.setGroupVisible(this.actionTypeID,!1),this.fields.setGroupVisible(this.scenarioListID,!1),this.labelField.disabled=this.actionType.disabled=this.deleter.disabled=!0;let l=O(t);mt(this.pickFileButton,l,"btn-danger"),mt(this.pickFileButton,!l,"btn-primary"),Hn(this.pickFileButton,this.enabled&&this.hasNode,l?"Replace image":"Select image",l?"Replace the current image with a new one":"Select an image to upload"),s!==this.lastImagePath&&(be(this.aspectWarning,!1),be(this.resolutionWarning,!1),be(this.image,l),this.image.src="",s&&requestAnimationFrame(()=>this.image.src=s),this.lastImagePath=s),this.drawPreview(t,r,i)}async drawPreview(t,r,i){Jl(this.previewContext,devicePixelRatio);let{width:s,height:l}=this.previewCanvas;if(this.previewContext.clearRect(0,0,s,l),this.hasNode){let d=await this.fetcher.get(this.lastImagePath||Yn.images.defaultButton).image().then(Re),u=d.height/d.width,a=Math.abs(2-u);this.previewContext.drawImage(d,0,0,d.width,d.height,0,0,s,l),this.textImage.scale=l,this.textImage.value=this.labelField.value;let p=(s-this.textImage.imageWidth)/2,x=l*.975-this.textImage.imageHeight;this.previewContext.drawImage(this.textImage.canvas,p,x,this.textImage.imageWidth,this.textImage.imageHeight),be(this.aspectWarning,a>.01),be(this.resolutionWarning,d.width<fa),O(t)?t=`${t} (${r}) (${i}) ${kt(d.width)} x ${kt(d.height)}`:t="No file selected. Default image will be used (see Preview)."}et(this.fileNameField,t)}};var wa=new De,_a=null,Wi,$o=new Map,uu=ko("#selectedMenuItemID"),ao=sc(),KU=new fn,ct=new Ii(ao,KU),pu=o=>O(o)&&(O(o.scenarioGroupID)||O(o.scenarioID)),du=o=>O(o)&&le(o.scenarioGroupID)&&le(o.scenarioID),Ko=ko("#orgId"),Jo=Qa("#organizations"),hu={showNameFilter:!0,defaultLabel:"Menu",getParent:o=>Wi.get(o.parentID),getOrder:o=>o.order,getLabel:o=>pu(o)?El.emojiStyle+o.label.replace(/\s+/g," ").trim():du(o)?yl.emojiStyle+o.label.replace(/\s+/g," ").trim():"Menu",getDescription:o=>pu(o)&&"scenario"||"sub menu",getChildDescription:()=>"item",canHaveChildren:o=>o.isRoot||du(o.value),canReorder:hr};Jo&&(hu.additionalProperties=[["Organization",Jo]],Ko.value=Jo.value,Jo.addEventListener("input",()=>{Ko.value=Jo.value,mu()}));var yt=new Gr(hu,Ua(Fr(20)));Se("#menuForm",me(Ke("menuEditor"),yt,ct));yt.addEventListener("select",o=>{o.node&&o.node.value?(ct.node=o.node,ct.enabled=!0):(ct.node=null,ct.enabled=!1)});yt.addEventListener("add",async o=>{let e=await YU(o.parent.node.value);o.parent.add(e),yt.selectedValue=e,ct.node=yt.selectedNode,ct.enabled=!0,o.parent.node.isChild&&await gu(o.parent.node.value)});yt.addEventListener("moved",async o=>{o.node.value.order=o.newIndex,await Oi(o.node.value)});yt.addEventListener("reparented",async o=>{o.newParent.isRoot?o.node.value.parentID=null:(o.node.value.parentID=o.newParent.value.id,gu(o.newParent.value)),await Oi(o.node.value)});ct.addEventListener("update",async o=>{yt.updateNode(o.node),await Oi(o.node.value)});ct.addEventListener("delete",async o=>{await QU(o.node.value),yt.removeNode(o.node)});mu();async function mu(){ct.node=null;let[o,e]=await qn(ao.get("/Editor/Menu").query("orgId",Ko.value).object().then(Re),ao.get("/Editor/Scenarios").query("orgId",Ko.value).object().then(Re));if(ct.setScenarios(e),Wi=Do(o,t=>t.id),yt.values=o,uu.value.length>0){let t=parseFloat(uu.value),r=sn(o,i=>i.id===t);yt.selectedValue=r,ct.node=yt.selectedNode}}async function YU(o){let e=o&&o.id&&o.id.toFixed(0)||null,t=new FormData;t.append("organizationID",Ko.value),t.append("parentID",e);let r=await ao.post("/Editor/Menu").query("handler","Create").body(t).object().then(Re);return Wi.set(r.id,r),r}async function gu(o){(o.scenarioGroupID!==null||o.scenarioID!==null)&&(o.scenarioGroupID=null,o.scenarioID=null,await Oi(o))}function Oi(o){return $o.set(o.id,o),_a&&clearTimeout(_a),_a=setTimeout(async()=>{if($o.size>0){let e=Array.from($o.values());try{await ao.post("/Editor/Menu").query("handler","Update").body(e,pn).exec().then(Mo),$o.clear(),wa.resolve()}catch(t){wa.reject(t)}}ct.refresh()},250),wa}async function QU(o){O(o)&&(Wi.delete(o.id),$o.delete(o.id),await ao.post("/Editor/Menu").query("handler","Delete").body(o.id,pn).exec().then(Mo)),ct.refresh()}
