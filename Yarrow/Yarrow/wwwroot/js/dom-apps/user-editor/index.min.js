function x(e,t,n){return typeof e===t||e instanceof n}function i(e){return x(e,"string",String)}function C(e){return o(e)&&x(e,"object",Object)}function u(e){return e==null}function o(e){return!u(e)}function s(e){return e.splice(0)}var p=class{constructor(t=!0){this.autoStart=t;this.onThens=new Array;this.onCatches=new Array;this._result=void 0;this._error=void 0;this._executionState="waiting";this._resultState="none";this.resolve=n=>{if(this.running){this._result=n,this._resultState="resolved";for(let r of this.onThens)r(n);this.clear(),this._executionState="finished"}},this.reject=n=>{if(this.running){this._error=n,this._resultState="errored";for(let r of this.onCatches)r(n);this.clear(),this._executionState="finished"}},this.autoStart&&this.start()}clear(){s(this.onThens),s(this.onCatches)}start(){this._executionState="running"}resolver(t){return()=>this.resolve(t)}resolveOn(t,n,r){let a=this.resolver(r);t.addEventListener(n,a),this.finally(()=>t.removeEventListener(n,a))}get result(){if(o(this.error))throw this.error;return this._result}get error(){return this._error}get executionState(){return this._executionState}get waiting(){return this.executionState==="waiting"}get started(){return this.executionState!=="waiting"}get running(){return this.executionState==="running"}get finished(){return this.executionState==="finished"}get resultState(){return this._resultState}get resolved(){return this.resultState==="resolved"}get errored(){return this.resultState==="errored"}get[Symbol.toStringTag](){return this.toString()}project(){return new Promise((t,n)=>{this.finished?this.errored?n(this.error):t(this.result):(this.onThens.push(t),this.onCatches.push(n))})}then(t,n){return this.project().then(t,n)}catch(t){return this.project().catch(t)}finally(t){return this.project().finally(t)}reset(){this._reset(this.autoStart)}restart(){this._reset(!0)}_reset(t){this.running&&this.reject("Resetting previous invocation"),this.clear(),this._result=void 0,this._error=void 0,this._executionState="waiting",this._resultState="none",t&&this.start()}};function P(e){return C(e)?e.element instanceof Element:!1}function l(e){return P(e)?e.element:i(e)?f(e):e}function f(e){return document.querySelector(e)}function y(e){return f(e)}function S(e){return f(e)}function v(e){for(e=l(e);e.lastChild;)e.lastChild.remove()}function L(e,t){e=l(e),v(e),e.append(B(t))}function V(e,t){e=l(e),e.title=t}function g(e,t,n){e=l(e);let r=o(n),a=r&&e.classList.contains(n);r&&a!==t&&e.classList.toggle(n)}function w(e,t,n,r){e=l(e),e.disabled=!t,L(e,n),V(e,r)}function B(e){return document.createTextNode(e)}var E=S("#newUserName"),T=S("#newUserEmail"),d=y("#submitNewUserButton");function m(){let e=T.value.length>0&&E.value.length>0;w(d,e,"Create",e?"Create new user":"Please enter username/email address"),g(d,e,"btn-danger"),g(d,!e,"btn-outline-danger")}E.addEventListener("input",m);T.addEventListener("input",m);m();
