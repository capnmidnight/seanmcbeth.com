var jt=Object.defineProperty;var Wt=(t,e,n)=>e in t?jt(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var u=(t,e,n)=>(Wt(t,typeof e!="symbol"?e+"":e,n),n);function Yt(t){return t}function qe(t,e,n){let r=0,o=t.length,s=Math.floor((r+o)/2),f=!1;for(;r<o&&s<t.length;){let C=t[s],g=c(C)?null:n(C);i(g)&&e<g?o=s:(e===g&&(f=!0),r=s+1),s=Math.floor((r+o)/2)}return f||(s+=.5),s}function Te(t,e,n){n=n||Yt;let r=n(e);return qe(t,r,n)}function z(t,e){return t.splice(e,1)[0]}function H(t){return t.splice(0)}function te(t,e,n){t.splice(n,0,e)}function ne(t,e){let n=e!=null?1:0,r=Math.floor(Math.random()*(t.length+n))-n;return r<0?e:t[r]}function P(t,e){let n=t.indexOf(e);return n>-1?(z(t,n),!0):!1}function Xe(t,e,n,r){let o;return m(n)?o=n:w(n)&&(r=n),c(r)&&(r=!0),qt(t,e,o,r)}function qt(t,e,n,r){let o=Te(t,e,n),s=o%1===0;return o=o|0,(!s||r)&&te(t,e,o),o}var G=class{constructor(e){this.value=e;this._forward=new Array;this._reverse=new Array}connectSorted(e,n){i(n)?(Xe(this._forward,e,r=>n(r.value)),e._reverse.push(this)):this.connectTo(e)}connectTo(e){this.connectAt(e,this._forward.length)}connectAt(e,n){te(this._forward,e,n),e._reverse.push(this)}disconnectFrom(e){P(this._forward,e),P(e._reverse,this)}isConnectedTo(e){return this._forward.indexOf(e)>=0||this._reverse.indexOf(e)>=0}flatten(){let e=new Set,n=[this];for(;n.length>0;){let r=n.shift();i(r)&&!e.has(r)&&(e.add(r),n.push(...r._forward))}return Array.from(e)}get _isEntryPoint(){return this._reverse.length===0}get _isExitPoint(){return this._forward.length===0}get isDisconnected(){return this._isEntryPoint&&this._isExitPoint}get isConnected(){return!this._isExitPoint||!this._isEntryPoint}get isTerminus(){return this._isEntryPoint||this._isExitPoint}get isInternal(){return!this._isEntryPoint&&!this._isExitPoint}};var re=class extends G{connectTo(e){super.connectTo(e)}connectAt(e,n){super.connectAt(e,n)}connectSorted(e,n){super.connectSorted(e,n)}disconnectFrom(e){super.disconnectFrom(e)}isConnectedTo(e){return super.isConnectedTo(e)}flatten(){return super.flatten()}get connections(){return this._forward}get isEntryPoint(){return this._isEntryPoint}get isExitPoint(){return this._isExitPoint}};var Ze=class{constructor(e){this.items=new Map;this.defaultItems=new Array;if(i(e))for(let[n,r]of e)this.add(n,r)}add(e,n){if(c(e))this.defaultItems.push(n);else{let r=this.items.get(e);c(r)&&this.items.set(e,r=[]),r.push(n)}return this}entries(){return this.items.entries()}[Symbol.iterator](){return this.entries()}keys(){return this.items.keys()}*values(){for(let e of this.defaultItems)yield e;for(let e of this.items.values())for(let n of e)yield n}has(e){return i(e)?this.items.has(e):this.defaultItems.length>0}get(e){return c(e)?this.defaultItems:this.items.get(e)||[]}count(e){if(c(e))return this.defaultItems.length;let n=this.get(e);return i(n)?n.length:0}get size(){let e=this.defaultItems.length;for(let n of this.items.values())e+=n.length;return e}delete(e){return c(e)?H(this.defaultItems).length>0:this.items.delete(e)}remove(e,n){if(c(e))P(this.defaultItems,n);else{let r=this.items.get(e);i(r)&&(P(r,n),r.length===0&&this.items.delete(e))}}clear(){this.items.clear(),H(this.defaultItems)}};var oe=class{constructor(){this.listeners=new Map;this.listenerOptions=new Map}addEventListener(e,n,r){if(m(n)){let o=this.listeners.get(e);o||(o=new Array,this.listeners.set(e,o)),o.find(s=>s===n)||(o.push(n),r&&this.listenerOptions.set(n,r))}}removeEventListener(e,n){if(m(n)){let r=this.listeners.get(e);r&&this.removeListener(r,n)}}clearEventListeners(e){for(let[n,r]of this.listeners)if(c(e)||e===n){for(let o of r)this.removeEventListener(e,o);H(r),this.listeners.delete(n)}}removeListener(e,n){let r=e.findIndex(o=>o===n);r>=0&&(z(e,r),this.listenerOptions.has(n)&&this.listenerOptions.delete(n))}dispatchEvent(e){let n=this.listeners.get(e.type);if(n)for(let r of n){let o=this.listenerOptions.get(r);i(o)&&!w(o)&&o.once&&this.removeListener(n,r),r.call(this,e)}return!e.defaultPrevented}};var V=class{constructor(e,n,r=!0){this._resolve=null;this._reject=null;this._result=null;this._error=null;this._started=!1;this._finished=!1;this.resolve=null;this.reject=null;let o=ie,s=ie;m(e)&&(o=e),m(n)&&(s=n),w(e)?r=e:w(n)&&(r=n),this.resolve=f=>{i(this._resolve)&&this._resolve(f)},this.reject=f=>{i(this._reject)&&this._reject(f)},this.promise=new Promise((f,C)=>{this._resolve=g=>{o(g)&&(this._result=g,this._finished=!0,f(g))},this._reject=g=>{s(g)&&(this._error=g,this._finished=!0,C(g))}}),r&&this.start()}get result(){if(i(this.error))throw this.error;return this._result}get error(){return this._error}get started(){return this._started}get finished(){return this._finished}start(){this._started=!0}get[Symbol.toStringTag](){return this.promise.toString()}then(e,n){return this.promise.then(e,n)}catch(e){return this.promise.catch(e)}finally(e){return this.promise.finally(e)}};function Je(t,e){return"on"+e in t}function we(t,e,n,...r){c(r)&&(r=[]);let o;if(D(n)?r.unshift(n):M(n)&&(o=n),!(t instanceof oe)){if(!Je(t,e))throw new K(`Target does not have a ${e} rejection event`);for(let x of r)if(!Je(t,x))throw new K(`Target does not have a ${x} rejection event`)}let s=new V;if(M(o)){let x=setTimeout(s.reject,o,`'${e}' has timed out.`);s.finally(clearTimeout.bind(globalThis,x))}let f=(x,Ye)=>{t.addEventListener(x,Ye),s.finally(()=>t.removeEventListener(x,Ye))},C=x=>s.resolve(x),g=x=>s.reject(x);f(e,C);for(let x of r)f(x,g);return s}var Qe=class{constructor(e,n,r){this.callback=null;this.promise=new Promise((o,s)=>{this.callback=(...f)=>{e(...f)?o(n(...f)):s(r(...f))}})}get[Symbol.toStringTag](){return this.promise.toString()}then(e,n){return this.promise.then(e,n)}catch(e){return this.promise.catch(e)}finally(e){return this.promise.finally(e)}};var K=class extends Error{constructor(n,r=null){super(n);this.innerError=r}};var Jt=/OculusBrowser\/(\d+)\.(\d+)\.(\d+)/i,se=navigator.userAgent.match(Jt),ue=!!se,Do=ue&&{major:parseFloat(se[1]),minor:parseFloat(se[2]),patch:parseFloat(se[3])},Fo=ue&&/pacific/i.test(navigator.userAgent),Uo=ue&&/quest/i.test(navigator.userAgent),zo=ue&&/quest 2/i.test(navigator.userAgent);var Go=!("Document"in globalThis);var Qt=298.257223563,en=6378137;var ye=1/Qt,le=1-ye,a=ye/(2-ye),$o=en/(1+a)*(1+a*a/4+a*a*a*a/64),ae=Math.sqrt(1-le*le),E=1-le*le,jo=ae*ae/(1-ae*ae),Wo=1-E*(.25+E*(3/64+5*E/256)),Yo=E*(3/8+E*(3/32+45*E/1024)),qo=E*E*(15/256+E*45/1024),Xo=E*E*E*(35/3072),Zo=[a/2-2*a*a/3+37*a*a*a/96,a*a/48+a*a*a/15,17*a*a*a/480],Jo=[2*a-2*a*a/3,7*a*a/3-8*a*a*a/5,56*a*a*a/15];function ie(){return!0}var Ti=2*Math.PI;function $(t,e,n){return typeof t===e||t instanceof n}function m(t){return $(t,"function",Function)}function D(t){return $(t,"string",String)}function w(t){return $(t,"boolean",Boolean)}function M(t){return $(t,"number",Number)}function _(t){return i(t)&&$(t,"object",Object)}function Se(t,e){throw new Error((e||"Unexpected object: ")+t)}function c(t){return t==null}function i(t){return!c(t)}function Ce(t,e){let n=globalThis,r=n[t];if(c(r)){if(c(e))throw new Error(`No value ${t} found`);r=e(),n[t]=r}return r}var on="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZ";function tt(t,e){if(t<0)throw new Error("Length must be greater than 0");c(e)&&(e=on);let n="";for(let r=0;r<t;++r){let o=Math.floor(Math.random()*e.length);n+=e[o]}return n}function Me(t){return i(t)&&t.length>0?parseFloat(t):null}var rt=class{constructor(e,n){this._url=null;this._base=void 0;this._protocol=null;this._host=null;this._hostName=null;this._userName=null;this._password=null;this._port=null;this._pathName=null;this._hash=null;this._query=new Map;e!==void 0&&(this._url=new URL(e,n),this.rehydrate())}rehydrate(){i(this._protocol)&&this._protocol!==this._url.protocol&&(this._url.protocol=this._protocol),i(this._host)&&this._host!==this._url.host&&(this._url.host=this._host),i(this._hostName)&&this._hostName!==this._url.hostname&&(this._url.hostname=this._hostName),i(this._userName)&&this._userName!==this._url.username&&(this._url.username=this._userName),i(this._password)&&this._password!==this._url.password&&(this._url.password=this._password),i(this._port)&&this._port.toFixed(0)!==this._url.port&&(this._url.port=this._port.toFixed(0)),i(this._pathName)&&this._pathName!==this._url.pathname&&(this._url.pathname=this._pathName),i(this._hash)&&this._hash!==this._url.hash&&(this._url.hash=this._hash);for(let[e,n]of this._query)this._url.searchParams.set(e,n);this._protocol=this._url.protocol,this._host=this._url.host,this._hostName=this._url.hostname,this._userName=this._url.username,this._password=this._url.password,this._port=Me(this._url.port),this._pathName=this._url.pathname,this._hash=this._url.hash,this._url.searchParams.forEach((e,n)=>this._query.set(n,e))}refresh(){if(this._url===null){if(i(this._protocol)&&(i(this._host)||i(this._hostName))){if(i(this._host))return this._url=new URL(`${this._protocol}//${this._host}`,this._base),this._port=Me(this._url.port),this.rehydrate(),!1;if(i(this._hostName))return this._url=new URL(`${this._protocol}//${this._hostName}`,this._base),this.rehydrate(),!1}else if(i(this._pathName)&&i(this._base))return this._url=new URL(this._pathName,this._base),this.rehydrate(),!1}return i(this._url)}base(e){if(this._url!==null)throw new Error("Cannot redefine base after defining the protocol and domain");return this._base=e,this.refresh(),this}protocol(e){return this._protocol=e,this.refresh()&&(this._url.protocol=e),this}host(e){return this._host=e,this.refresh()&&(this._url.host=e,this._hostName=this._url.hostname,this._port=Me(this._url.port)),this}hostName(e){return this._hostName=e,this.refresh()&&(this._url.hostname=e,this._host=`${this._url.hostname}:${this._url.port}`),this}port(e){return this._port=e,this.refresh()&&(this._url.port=e.toFixed(0),this._host=`${this._url.hostname}:${this._url.port}`),this}userName(e){return this._userName=e,this.refresh()&&(this._url.username=e),this}password(e){return this._password=e,this.refresh()&&(this._url.password=e),this}path(e){return this._pathName=e,this.refresh()&&(this._url.pathname=e),this}pathPop(e){return e=e||/\/[^\/]+\/?$/,this.path(this._pathName.replace(e,""))}pathPush(e){let n=this._pathName;return n.endsWith("/")||(n+="/"),n+=e,this.path(n)}query(e,n){return this._query.set(e,n),this.refresh()&&this._url.searchParams.set(e,n),this}hash(e){return this._hash=e,this.refresh()&&(this._url.hash=e),this}toURL(){return this._url}toString(){return this._url.href}[Symbol.toStringTag](){return this.toString()}};function Re(t){let e=new Map;for(let[n,r]of t)e.set(r,n);return e}var sn=new Map([[1,"KiB"],[2,"MiB"],[3,"GiB"],[4,"TiB"]]),un=new Map([[1,"KB"],[2,"MB"],[3,"GB"],[4,"TB"]]),Iu=Re(sn),Ou=Re(un);var ot=304.79999999999995,Nu=ot*3,an=10*100,ln=ot*16.5,cn=ln*40,ku=an*1e3,Bu=cn*8,it=2.54*4,st=it*3,Hu=st*3,pn=st*16.5,fn=pn*40,Vu=100*1e3,Du=fn*8,Le=4*3,mn=Le*3,Pe=100/2.54,dn=Le*16.5,hn=dn*40,Fu=Pe*1e3,Uu=hn*8,zu=3*3,gn=100/it,xn=3*16.5,En=xn*40,Gu=gn*1e3,Ku=En*8,ut=Pe/Le,bn=16.5*40,$u=ut*1e3,ju=bn*8,vn=Pe/mn,Tn=16.5/3,wn=Tn*40,Wu=vn*1e3,Yu=wn*8,at=16.5/ut,lt=at*40,qu=lt*8,Xu=1e3/at,Zu=40*8,yn=1e3/lt,Ju=8/yn;var I=class{constructor(e,n,r,...o){this.key=e;this.value=n;this.bySetAttribute=r;this.tags=o.map(s=>s.toLocaleUpperCase()),Object.freeze(this)}applyToElement(e){let n=this.key.startsWith("data-");if(!(this.tags.length===0||this.tags.indexOf(e.tagName)>-1||n))console.warn(`Element ${e.tagName} does not support Attribute ${this.key}`);else if(n){let o=this.key.substring(5);e.dataset[o]=this.value}else this.key==="style"?Object.assign(e.style,this.value):this.key==="classList"?this.value.forEach(o=>e.classList.add(o)):this.bySetAttribute?e.setAttribute(this.key,this.value):this.key in e?e[this.key]=this.value:this.value===!1?e.removeAttribute(this.key):this.value===!0?e.setAttribute(this.key,""):e.setAttribute(this.key,this.value)}};function b(t){return new I("className",t,!1)}function R(t){return new I("id",t,!1)}function ct(t){return D(t)||(t=t.value),new I("type",t,!1,"button","input","command","embed","link","object","script","source","style","menu")}var l=class{constructor(e,n){this.key=e;this.value=n;this.name=e.replace(/[A-Z]/g,r=>`-${r.toLocaleLowerCase()}`)}applyToElement(e){e.style[this.key]=this.value}},_e=class{constructor(...e){this.rest=e}applyToElement(e){for(let n of this.rest)n.applyToElement(e)}};function ce(...t){return new _e(...t)}function F(t){return new l("backgroundColor",t)}function Oe(...t){return new l("backgroundImage",t.join(", "))}function Ae(t){return new l("border",t)}function pt(t){return new l("borderBottomLeftRadius",t)}function ft(t){return new l("borderBottomRightRadius",t)}function pe(t){return new l("borderRadius",t)}function mt(t){return new l("borderTopLeftRadius",t)}function dt(t){return new l("borderTopRightRadius",t)}function ht(t){return new l("boxShadow",t)}function j(t){return new l("color",t)}function O(t){return new l("display",t)}function fe(t){return new l("fontFamily",t)}function Ne(t){return new l("fontSize",t)}function ke(t){return new l("fontWeight",t)}function A(t){return new l("height",t)}function Be(t){return new l("left",t)}function He(t){return new l("margin",t)}function gt(t){return new l("marginLeft",t)}function xt(t){return new l("marginRight",t)}function Et(t){return new l("marginTop",t)}function Ve(t){return new l("overflow",t)}function W(...t){return new l("padding",t.join(" "))}function bt(t){return new l("pointerEvents",t)}function De(t){return new l("position",t)}function vt(t){return new l("textTransform",t)}function Y(t){return new l("top",t)}function Tt(t){return new l("transform",t)}function N(t){return new l("width",t)}function q(t){return new l("zIndex",M(t)?t.toFixed(0):t)}var Ie=class{constructor(e,n){this.selector=e;this.props=n}apply(e){let n=this.props.map(r=>`${r.name}: ${r.value};`).join("");e.insertRule(`${this.selector} {${n}}`,e.cssRules.length)}};function d(t,...e){return new Ie(t,e)}function wt(t){return _(t)?t.element instanceof Node:!1}function Sn(t){return _(t)&&"elements"in t&&t.elements instanceof Array}function Fe(t){return wt(t)?t.element:t}function Cn(t){return _(t)&&"applyToElement"in t&&m(t.applyToElement)}function X(t,...e){t=Fe(t);for(let n of e)i(n)&&(n instanceof Node?t.append(n):wt(n)?t.append(Fe(n)):Sn(n)?t.append(...n.elements.map(Fe)):Cn(n)?n.applyToElement(t):t.append(document.createTextNode(n.toLocaleString())));return t}function me(t){return document.querySelector(t)}function de(t,...e){let n=null;for(let r of e)if(r instanceof I&&r.key==="id"){n=document.getElementById(r.value);break}return n==null&&(n=document.createElement(t)),X(n,...e),n}function Mn(...t){return de("button",...t)}function yt(...t){return Mn(...t,ct("button"))}function v(...t){return de("div",...t)}function p(...t){return de("p",...t)}function St(...t){return de("span",...t)}function Ct(...t){let e=document.createElement("style");document.head.append(e);for(let n of t)n.apply(e.sheet);return e}var Z=class{constructor(e,n,r){this.name=e;this.callback=n;if(!m(n))throw new Error("A function instance is required for this parameter");this.opts=r,Object.freeze(this)}applyToElement(e){this.add(e)}add(e){e.addEventListener(this.name,this.callback,this.opts)}remove(e){e.removeEventListener(this.name,this.callback)}};function Mt(t,e){return new Z("click",t,e)}function Rt(t,e){return new Z("mouseout",t,e)}function Lt(t,e){return new Z("touchstart",t,e)}var Pt=["change","click","contextmenu","dblclick","mouseup","pointerup","reset","submit","touchend"];function _t(t,e){let n=e||(async()=>!0),r=async o=>{if(o.isTrusted&&await n()){for(let s of Pt)window.removeEventListener(s,r);await t()}};for(let o of Pt)window.addEventListener(o,r)}var Rn="AudioContext"in globalThis,Ot=Rn&&"AudioListener"in globalThis,Ja=Ot&&"setPosition"in AudioListener.prototype,Qa=Ot&&"positionX"in AudioListener.prototype,el=m(HTMLMediaElement.prototype.captureStream)||m(HTMLMediaElement.prototype.mozCaptureStream);var It=Ce("Juniper:Audio:connections",()=>new Map),At=Ce("Juniper:Audio:names",()=>new Map);function Ln(t,e){At.set(e,t)}function Pn(){let t=new Map;function e(n){t.has(n)||t.set(n,new re(n))}for(let n of At.keys())e(n);for(let[n,r]of It){e(n);for(let o of r)e(o)}for(let[n,r]of It){let o=t.get(n);for(let s of r)t.has(s)&&o.connectTo(t.get(s))}return Array.from(t.values())}globalThis.getAudioGraph=Pn;async function Nt(t){if(Ln("speakers",t.destination),t.state!=="running")if(t.state==="closed")await t.resume();else if(t.state==="suspended"){let e=we(t,"statechange");_t(()=>t.resume()),await e}else Se(t.state)}document.title="No More Jabber Yabs: The Game";Ct(d("html, body, .cloud, .cloud-bit, .frowny, .shadow, .boop, .beam, .subBeam, .endMessage, #scoreBox",De("absolute")),d("html, body",A("100%"),N("100%"),W(0),He(0),Ae(0),Ve("hidden")),d("body",fe("sans-serif"),F("hsl(200, 50%, 75%)"),Oe("linear-gradient(hsl(200, 50%, 50%), hsl(200, 20%, 75%) 75%, hsl(100, 75%, 50%) 75%, hsl(100, 100%, 20%))")),d("#scoreBox, .endMessage, .frowny, #instructions, #starter",Ne("24pt")),d("#scoreBox",O("none"),j("white"),Y(0),Be(0),W("1em")),d(".endMessage",O("none"),W("1em"),Y(0),q(9001),bt("none"),j("white")),d(".cloud-bit",F("white"),N("100px"),A("50px"),ft("25px"),pt("50px"),dt("12.5px"),mt("6.25px")),d(".frowny",fe("fixedsys, monospace"),W("5px"),Ae("solid 2px black"),pe("10px"),Tt("rotate(90deg)"),N("50px"),A("50px"),Ve("hidden")),d(".shadow",N("45px"),A("10px"),pe("5px"),Oe("radial-gradient(black, transparent)"),F("grey")),d(".boop",O("none"),j("white"),vt("uppercase"),fe("sans-serif"),ke("bold"),Ne("10pt"),q(9001)),d(".beam, .subBeam",O("none"),F("red"),ht("0 0 25px red"),Be("0")),d(".beam",Y("0"),N("50px"),A("50px"),pe("50%")),d(".subBeam",Y("50%"),A("2000px")),d("#instructions, #starter",De("relative"),O("none"),ke("bold"),gt("auto"),xt("auto"),Et("3em"),N("20em"),q(9001)));function he(){return St(b("pointDisplay"),0)}X(document.body,yt(R("starter"),"Start",Mt(()=>B.resume())),v(R("instructions"),"Go ahead, click and hold the mouse"),v(R("scoreBox"),"GET EM: ",he()),v(R("message0"),b("endMessage"),p("You have killed everyone. You did it. Just you. Noone else."),p("And why have you done this? Because you were ordered to? The pursuit of points?"),p("You got your points. All ",he()," of them. What will you do with them? There's noone left. And it's not like they took them as currency, anyway."),p("For no reason whatsoever, you have committed genocide against another race of people. Congratulations."),p("Hitler.")),v(R("message1"),b("endMessage"),p("You have killed almost everyone. Their bodies are strewn about on the ground they once called their home."),p("There is but one person left. Did you spare them out of mercy? Or have you left them, devoid of personal contact, alone, surrounded by the burned and rotting bodies of their former loved ones, to serve as witness to your terrible deeds?"),p("And why have you done this? Because you were ordered to? The pursuit of points?"),p("You got your points. All ",he(),"  of them. What will you do with them? There's noone left. And it's not like they took them as currency, anyway."),p("You are sick.")),v(R("message2"),b("endMessage"),p("You have killed almost everyone. Their bodies are strewn about on the ground they once called their home."),p("There are only two people left. Did you spare them out of mercy? Or have you left them, surrounded by the burned and rotting bodies of their former loved ones, to repopulate their world together, to serve as witness to your terrible deeds to future generations?"),p("And why have you done this? Because you were ordered to? The pursuit of points?"),p("You got your points. All ",he(),"  of them. What will you do with them? There's noone left. And it's not like they took them as currency, anyway."),p("I...I don't understand you.")),v(R("messageN"),b("endMessage"),ce(j("black")),p('"Hi there!"'),p("You blink. Did someone speak?"),p('"Down here!"'),p("It's the people below."),p('"We noticed you up there. What are you doing?"'),p("You reply, haltingly, that you do not know."),p('"Oh, well, okay. Cool beans. Later!"')));var U=Math.round(window.innerWidth/30),zt=Math.round(window.innerWidth/200),_n=2,kt=5e3,In=["#FFDFC4","#F0D5BE","#EECEB3","#E1B899","#E5C298","#FFDCB2","#E5B887","#E5A073","#E79E6D","#DB9065","#CE967C","#C67856","#BA6C49","#A57257","#F0C8C9","#DDA8A0","#B97C6D","#A8756C","#AD6452","#5C3836","#CB8442","#BD723C","#704139","#A3866A","#870400","#710101","#430000","#5B0001","#302E2E"],On=["ow!","yikes!","holy cow!","ouch!","that smarts!","ow!","yikes!","holy cow!","ouch!","that smarts!","ow!","yikes!","holy cow!","ouch!","that smarts!","mother puss-bucket!"],An=[":)",":o",":^",":.",":P",":D"],Nn=[":(",":(",":(",":(",":(",":(",":O"],Q=me("#instructions"),Bt=me("#starter"),ge=me("#scoreBox"),Ht=document.querySelectorAll(".pointDisplay"),ee=document.querySelectorAll(".endMessage"),B=new AudioContext,Gt=B.createGain(),k=new Array,Kt=new Array,J=new Map,kn=Math.pow(2,1/12),ve=!1,Ue=1,ze=null,Ge=0,Ke=1,Vt=-1,L=0,xe=0,Dt,Ft;function Bn(t){return 440*Math.pow(kn,t-49)}function T(t,e,n){let r=Kt[t];r&&(J.has(r)&&(clearTimeout(J.get(r)),J.delete(r)),r.gain.value=e,J.set(r,setTimeout(()=>{r.gain.value=0,J.delete(r)},n*1e3)))}function h(t,e){return t+Math.random()*(e-t)}function y(t,e){return Math.floor(h(t,e))}function Hn(t){let e=0;if(L>0?e=Math.floor(t/2e3%4)+Math.floor(t/1e3%2)/2:e=Math.floor(t/500%4)+Math.floor(t/250%3)/3,Vt!==e){let n=.2;if(tt,e>=y(0,4)&&(e=Math.floor(e),n/=2),L>0){let r=25-Math.floor(e*4)+y(-1,2)*3;T(r,.04,n),T(r+3,.04,n),T(r+7,.04,n)}else{let r=40+Math.floor(e*3)+y(-1,2)*4;T(r,.04,.05),T(r+y(3,5),.04,.05)}}Vt=e}function Ee(t){t=t||document.body,t.style.transform="translate("+h(-4,4)+"px,"+h(-4,4)+"px)"}function Vn(t){return t instanceof be}var be=class{constructor(){u(this,"element");u(this,"boop");u(this,"shadow");u(this,"alive");u(this,"hits");u(this,"onground");u(this,"x");u(this,"y");u(this,"z");u(this,"f");u(this,"dx");u(this,"dy");u(this,"df");u(this,"width");u(this,"height");u(this,"boopFor");u(this,"boopX");u(this,"boopY");u(this,"boopDX");u(this,"boopDY");this.alive=!0,this.hits=0,this.onground=!1,this.x=h(0,window.innerWidth),this.y=h(0,window.innerHeight/2),this.z=y(0,10),this.f=0,this.dx=h(-1,1),this.dy=0,this.df=h(.05,.1),this.element=v(b("frowny"),Rt(this.jump.bind(this,"boop")),Lt(this.jump.bind(this,"boop")),ce(F(ne(In)),q(this.z))),this.width=5,this.height=5,this.boop=v(b("boop"),"boop"),this.boopFor=0,this.boopX=0,this.boopY=0,this.boopDX=0,this.boopDY=0,this.shadow=v(b("shadow")),document.body.append(this.boop,this.shadow),this.render()}jump(e){this.onground&&(this.boop.innerHTML=e,this.dy=-5,this.onground=!1,this.boopX=this.x,this.boopY=this.y-125,this.boopDX=h(-.5,.5),this.boopDY=h(-.5,0),this.boopFor=100,T(30+3*y(0,5),.125,.05),ve=!0)}render(){this.boop.style.display=this.boopFor>0?"block":"none",this.boop.style.left=this.boopX+"px",this.boop.style.top=this.boopY+"px",this.boop.style.transform="scale("+(.5+this.boopFor/200)+")",this.shadow.style.left=this.element.style.left=this.x+"px",this.element.style.top=this.y+10*this.z-120+"px",this.shadow.style.top=10*this.z+window.innerHeight-120+"px";let e=Math.sqrt(Math.abs(this.dy))*10;this.element.style.paddingLeft=this.element.style.paddingRight=this.height+e+"px",this.element.style.paddingTop=this.element.style.paddingBottom=this.width-e+"px",this.alive&&this.f>1?(this.element.innerHTML=ne(L>0?Nn:An),this.f=0):this.alive||(this.element.innerHTML="X(")}update(e){this.boopFor-=e,this.boopX+=this.boopDX*e,this.boopY+=this.boopDY*e,this.x+=this.dx*e,this.y+=this.dy*e,this.f+=this.df*e,this.onground||(this.dy=this.dy+.1*e),(this.x<=0&&this.dx<0||this.x+this.element.clientWidth>=window.innerWidth&&this.dx>0)&&(this.dx*=-1),!this.onground&&this.y+this.element.clientHeight>=window.innerHeight&&this.dy>0&&(this.dy>2?this.dy*=-.5:(this.onground=!0,this.dy=0,this.alive||(this.dx=0)),T((L>0?10:20)+3*y(0,5),.125,.05),Ee())}},$e=class{constructor(){u(this,"element");u(this,"x");u(this,"y");u(this,"dx");this.element=document.createElement("div"),this.element.className="cloud";let e=y(4,7);for(let n=0;n<e;++n){let r=document.createElement("div");r.className="cloud-bit",r.style.top=h(-25,25)+"px",r.style.left=h(-50,50)+"px",this.element.appendChild(r)}this.x=h(0,window.innerWidth),this.y=h(0,window.innerHeight/4)+50,this.dx=h(-.25,.25),this.element.style.zIndex=(-this.y).toFixed(0),this.render()}render(){this.element.style.left=this.x+"px",this.element.style.top=this.y+"px"}update(e){this.x+=this.dx*e,(this.x<=0&&this.dx<0||this.x+this.element.clientWidth>=window.innerWidth&&this.dx>0)&&(this.dx*=-1)}},je=class{constructor(){u(this,"element");u(this,"subBeam");u(this,"x");u(this,"y");u(this,"t");u(this,"charging");u(this,"firing");u(this,"enabled");this.x=0,this.y=0,this.t=0,this.charging=!1,this.firing=!1,this.enabled=!0,this.element=document.createElement("div"),this.element.className="beam",this.subBeam=document.createElement("div"),this.subBeam.className="subBeam",this.element.appendChild(this.subBeam)}disable(){this.enabled=!1}update(e){if(this.charging&&this.t<100?(this.t+=e,this.t>=100&&(this.firing=!0,Ut&&clearTimeout(Ut))):!this.charging&&this.t>0&&(this.t-=e/4,this.t<=0&&(this.firing=!1)),this.firing){Ee(this.element);for(let n=0,r=this.t/10;n<r;++n)T(87-n,.02,e/100);for(let n=0;n<U;++n){let r=k[n];if(Vn(r)&&r.alive&&r.onground)if(this.x<=r.x+50&&this.x+50>=r.x){if(L===0){ge.style.display="block",document.body.style.backgroundImage="linear-gradient(hsl(0, 50%, 0%), hsl(0, 50%, 50%) 75%, hsl(0, 50%, 15%) 75%, hsl(0, 50%, 33%))";for(let o=0;o<zt;++o){let s=k[U+o].element;for(let f=0;f<s.children.length;++f){let C=s.children[f].style;C.backgroundColor="black"}}}++L;for(let o=0;o<Ht.length;++o)Ht[o].innerHTML=L.toFixed(0);Ee(r.element),++r.hits,r.hits>=_n?(r.alive=!1,++xe,L+=10,xe===U-2?Dt=setTimeout(()=>{ee[2].style.display="block",ge.style.display="none",this.disable()},kt):xe===U-1?(clearTimeout(Dt),Ft=setTimeout(()=>{ee[1].style.display="block",ge.style.display="none",this.disable()},kt)):xe===U&&(clearTimeout(Ft),ee[0].style.display="block",ge.style.display="none",this.disable())):r.element.style.transform+=" rotate(90deg)",r.jump(ne(On)),T(10+y(-1,2),.1,.05)}else this.x<=r.x+200&&this.x+200>=r.x&&(Ee(r.element),r.element.style.transform+=" rotate(90deg)")}}else if(this.charging){let n=Math.floor(this.t/10)+70;for(let r=70;r<n;++r)T(r,.02,e/100)}}render(){this.element.style.display=this.charging||this.firing?"block":"none",this.subBeam.style.display=this.firing?"block":"none",this.element.style.left=this.x+"px",this.element.style.top=this.y+"px";let e="hsl(0, 100%, "+this.t+"%)";this.element.style.backgroundColor=this.subBeam.style.backgroundColor=e,this.element.style.boxShadow=this.subBeam.style.boxShadow="0 0 25px "+e,this.subBeam.style.width=this.t+"%",this.subBeam.style.left=(100-this.t)/2+"%",this.subBeam.style.opacity=(this.t/100).toFixed(3)}start(e){B.resume(),ve=!0,this.x=e.clientX-10,this.y=e.clientY-10,this.enabled&&(this.charging=!0)}end(){this.element.style.display="none",this.charging=!1,this.firing||(this.t=0)}move(e){this.x=e.clientX-10,this.y=e.clientY-10}};function We(t){return k.push(t),X(document.body,t),t}for(let t=0;t<88;++t){let e=B.createGain();e.gain.value=0;let n=B.createOscillator();n.frequency.value=Bn(t+1),n.type="sawtooth",n.start(),n.connect(e),e.connect(Gt),Kt.push(e)}for(let t=0;t<U;++t)We(new be);for(let t=0;t<zt;++t)We(new $e);var S=We(new je);document.addEventListener("mousedown",S.start.bind(S),!1);document.addEventListener("mousemove",t=>{S.move(t),t.preventDefault()},!1);document.addEventListener("mouseup",S.end.bind(S),!1);document.addEventListener("touchstart",function(t){t.touches.length===1&&(S.start(t.touches[0]),t.preventDefault())},!1);document.addEventListener("touchmove",function(t){S.move(t.touches[0]),t.preventDefault()},!1);document.addEventListener("touchend",function(t){t.touches.length===0&&(S.end(),t.preventDefault())},!1);function $t(t){if(requestAnimationFrame($t),Hn(t),ze!=null){for(Ge+=(t-ze)/10;Ge>=Ke;){for(let e=0;e<k.length;++e)k[e].update(Ke);Ge-=Ke}for(let e=0;e<k.length;++e)k[e].render()}ze=t,ve&&Ue>0&&(Q.style.opacity=(parseFloat(Q.style.opacity)-.05).toFixed(3),Ue-=.05,Q.style.transform="scale("+Math.pow(Ue,.25)+")")}setTimeout(function(){ve=!0},5e3);var Ut=setTimeout(function(){ee[ee.length-1].style.display="block",S.disable()},15e3);(async function(){Gt.connect(B.destination),Q.style.opacity="1",Bt.style.display="block",await Nt(B),Bt.style.display="none",Q.style.display="block",requestAnimationFrame($t)})();
//# sourceMappingURL=index.min.js.map
