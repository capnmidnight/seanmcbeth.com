var Rn=Object.defineProperty;var wn=(t,e,n)=>e in t?Rn(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var o=(t,e,n)=>(wn(t,typeof e!="symbol"?e+"":e,n),n),Tt=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var ce=(t,e,n)=>(Tt(t,e,"read from private field"),n?n.call(t):e.get(t)),pe=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)},me=(t,e,n,r)=>(Tt(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n);function fe(t,e){return t.splice(e,1)[0]}function $(t){return t.splice(0)}function V(t,e){let n=t.indexOf(e);return n>-1?(fe(t,n),!0):!1}var He=class{constructor(e){o(this,"items",new Map);o(this,"defaultItems",new Array);if(i(e))for(let[n,r]of e)this.add(n,r)}add(e,n){if(h(e))this.defaultItems.push(n);else{let r=this.items.get(e);h(r)&&this.items.set(e,r=[]),r.push(n)}return this}entries(){return this.items.entries()}[Symbol.iterator](){return this.entries()}keys(){return this.items.keys()}*values(){for(let e of this.defaultItems)yield e;for(let e of this.items.values())for(let n of e)yield n}has(e){return i(e)?this.items.has(e):this.defaultItems.length>0}get(e){return h(e)?this.defaultItems:this.items.get(e)||[]}count(e){if(h(e))return this.defaultItems.length;let n=this.get(e);return i(n)?n.length:null}get size(){let e=this.defaultItems.length;for(let n of this.items.values())e+=n.length;return e}delete(e){return h(e)?$(this.defaultItems).length>0:this.items.delete(e)}remove(e,n){if(h(e))V(this.defaultItems,n);else{let r=this.items.get(e);i(r)&&(V(r,n),r.length===0&&this.items.delete(e))}}clear(){this.items.clear(),$(this.defaultItems)}};var A=class{constructor(e,n,r=!0){o(this,"promise");o(this,"_resolve",null);o(this,"_reject",null);o(this,"_result",null);o(this,"_error",null);o(this,"_started",!1);o(this,"_finished",!1);o(this,"resolve",null);o(this,"reject",null);let u=he,d=he;y(e)&&(u=e),y(n)&&(d=n),C(e)?r=e:C(n)&&(r=n),this.resolve=m=>{i(this._resolve)&&this._resolve(m)},this.reject=m=>{i(this._reject)&&this._reject(m)},this.promise=new Promise((m,I)=>{this._resolve=g=>{u(g)&&(this._result=g,this._finished=!0,m(g))},this._reject=g=>{d(g)&&(this._error=g,this._finished=!0,I(g))}}),r&&this.start()}get result(){if(i(this.error))throw this.error;return this._result}get error(){return this._error}get started(){return this._started}get finished(){return this._finished}start(){this._started=!0}get[Symbol.toStringTag](){return this.promise.toString()}then(e,n){return this.promise.then(e,n)}catch(e){return this.promise.catch(e)}finally(e){return this.promise.finally(e)}};var Rt=class{constructor(e,n,r){o(this,"promise");o(this,"callback",null);this.promise=new Promise((u,d)=>{this.callback=(...m)=>{e(...m)?u(n(...m)):d(r(...m))}})}get[Symbol.toStringTag](){return this.promise.toString()}then(e,n){return this.promise.then(e,n)}catch(e){return this.promise.catch(e)}finally(e){return this.promise.finally(e)}};var Pn=/OculusBrowser\/(\d+)\.(\d+)\.(\d+)/i,de=navigator.userAgent.match(Pn),ge=!!de,zi=ge&&{major:parseFloat(de[1]),minor:parseFloat(de[2]),patch:parseFloat(de[3])},Gi=ge&&/pacific/i.test(navigator.userAgent),ji=ge&&/quest/i.test(navigator.userAgent),$i=ge&&/quest 2/i.test(navigator.userAgent);var qi=!("Document"in globalThis);var In=298.257223563,Cn=6378137;var Ke=1/In,be=1-Ke,a=Ke/(2-Ke),Yi=Cn/(1+a)*(1+a*a/4+a*a*a*a/64),Ee=Math.sqrt(1-be*be),x=1-be*be,Xi=Ee*Ee/(1-Ee*Ee),Ji=1-x*(.25+x*(3/64+5*x/256)),Zi=x*(3/8+x*(3/32+45*x/1024)),Qi=x*x*(15/256+x*45/1024),es=x*x*x*(35/3072),ts=[a/2-2*a*a/3+37*a*a*a/96,a*a/48+a*a*a/15,17*a*a*a/480],ns=[2*a-2*a*a/3,7*a*a/3-8*a*a*a/5,56*a*a*a/15];function he(){return!0}var Os=2*Math.PI;function wt(t,e,n){return(1-n)*t+n*e}function xe(t,e,n){return typeof t===e||t instanceof n}function y(t){return xe(t,"function",Function)}function C(t){return xe(t,"boolean",Boolean)}function F(t){return xe(t,"number",Number)}function L(t){return i(t)&&xe(t,"object",Object)}function h(t){return t==null}function i(t){return!h(t)}var Ue=class{constructor(){o(this,"t",0);o(this,"dt",0);o(this,"sdt",0);o(this,"fps",0)}set(e,n){this.t=e,this.dt=n,this.sdt=wt(this.sdt,n,.01),n>0&&(this.fps=1e3/n)}},Te=class extends Ue{constructor(){super(),Object.seal(this)}};var Y,W=class{constructor(e){o(this,"timer",null);o(this,"onTick");o(this,"lt",-1);o(this,"tickHandlers",new Array);pe(this,Y,null);this.targetFPS=e;let n=new Te,r=0;this.onTick=u=>{this.lt>=0&&(r=u-this.lt,n.set(u,r),this.tick(n)),this.lt=u}}get targetFPS(){return ce(this,Y)}set targetFPS(e){me(this,Y,e)}addTickHandler(e){this.tickHandlers.push(e)}removeTickHandler(e){V(this.tickHandlers,e)}tick(e){for(let n of this.tickHandlers)n(e)}restart(){this.stop(),this.start()}get isRunning(){return this.timer!=null}stop(){this.timer=null,this.lt=-1}get targetFrameTime(){return 1e3/this.targetFPS}};Y=new WeakMap;function ze(t){return i(t)&&t.length>0?parseFloat(t):null}var St=class{constructor(e,n){o(this,"_url",null);o(this,"_base");o(this,"_protocol",null);o(this,"_host",null);o(this,"_hostName",null);o(this,"_userName",null);o(this,"_password",null);o(this,"_port",null);o(this,"_pathName",null);o(this,"_hash",null);o(this,"_query",new Map);e!==void 0&&(this._url=new URL(e,n),this.rehydrate())}rehydrate(){i(this._protocol)&&this._protocol!==this._url.protocol&&(this._url.protocol=this._protocol),i(this._host)&&this._host!==this._url.host&&(this._url.host=this._host),i(this._hostName)&&this._hostName!==this._url.hostname&&(this._url.hostname=this._hostName),i(this._userName)&&this._userName!==this._url.username&&(this._url.username=this._userName),i(this._password)&&this._password!==this._url.password&&(this._url.password=this._password),i(this._port)&&this._port.toFixed(0)!==this._url.port&&(this._url.port=this._port.toFixed(0)),i(this._pathName)&&this._pathName!==this._url.pathname&&(this._url.pathname=this._pathName),i(this._hash)&&this._hash!==this._url.hash&&(this._url.hash=this._hash);for(let[e,n]of this._query)this._url.searchParams.set(e,n);this._protocol=this._url.protocol,this._host=this._url.host,this._hostName=this._url.hostname,this._userName=this._url.username,this._password=this._url.password,this._port=ze(this._url.port),this._pathName=this._url.pathname,this._hash=this._url.hash,this._url.searchParams.forEach((e,n)=>this._query.set(n,e))}refresh(){if(this._url===null){if(i(this._protocol)&&(i(this._host)||i(this._hostName))){if(i(this._host))return this._url=new URL(`${this._protocol}//${this._host}`,this._base),this._port=ze(this._url.port),this.rehydrate(),!1;if(i(this._hostName))return this._url=new URL(`${this._protocol}//${this._hostName}`,this._base),this.rehydrate(),!1}else if(i(this._pathName)&&i(this._base))return this._url=new URL(this._pathName,this._base),this.rehydrate(),!1}return i(this._url)}base(e){if(this._url!==null)throw new Error("Cannot redefine base after defining the protocol and domain");return this._base=e,this.refresh(),this}protocol(e){return this._protocol=e,this.refresh()&&(this._url.protocol=e),this}host(e){return this._host=e,this.refresh()&&(this._url.host=e,this._hostName=this._url.hostname,this._port=ze(this._url.port)),this}hostName(e){return this._hostName=e,this.refresh()&&(this._url.hostname=e,this._host=`${this._url.hostname}:${this._url.port}`),this}port(e){return this._port=e,this.refresh()&&(this._url.port=e.toFixed(0),this._host=`${this._url.hostname}:${this._url.port}`),this}userName(e){return this._userName=e,this.refresh()&&(this._url.username=e),this}password(e){return this._password=e,this.refresh()&&(this._url.password=e),this}path(e){return this._pathName=e,this.refresh()&&(this._url.pathname=e),this}pathPop(e){return e=e||/\/[^\/]+\/?$/,this.path(this._pathName.replace(e,""))}pathPush(e){let n=this._pathName;return n.endsWith("/")||(n+="/"),n+=e,this.path(n)}query(e,n){return this._query.set(e,n),this.refresh()&&this._url.searchParams.set(e,n),this}hash(e){return this._hash=e,this.refresh()&&(this._url.hash=e),this}toURL(){return this._url}toString(){return this._url.href}[Symbol.toStringTag](){return this.toString()}};function Ge(t){let e=new Map;for(let[n,r]of t)e.set(r,n);return e}var kn=new Map([[1,"KiB"],[2,"MiB"],[3,"GiB"],[4,"TiB"]]),Bn=new Map([[1,"KB"],[2,"MB"],[3,"GB"],[4,"TB"]]),qa=Ge(kn),Wa=Ge(Bn);var Mt=304.79999999999995,Xa=Mt*3,Vn=10*100,An=Mt*16.5,Fn=An*40,Ja=Vn*1e3,Za=Fn*8,Pt=2.54*4,It=Pt*3,Qa=It*3,Hn=It*16.5,Kn=Hn*40,el=100*1e3,tl=Kn*8,je=4*3,Un=je*3,$e=100/2.54,zn=je*16.5,Gn=zn*40,nl=$e*1e3,rl=Gn*8,ol=3*3,jn=100/Pt,$n=3*16.5,qn=$n*40,il=jn*1e3,sl=qn*8,Ct=$e/je,Wn=16.5*40,ul=Ct*1e3,al=Wn*8,Yn=$e/Un,Xn=16.5/3,Jn=Xn*40,ll=Yn*1e3,cl=Jn*8,Lt=16.5/Ct,Ot=Lt*40,pl=Ot*8,ml=1e3/Lt,fl=40*8,Zn=1e3/Ot,hl=8/Zn;var H=class{constructor(e,n,r,...u){this.key=e;this.value=n;this.bySetAttribute=r;this.tags=u.map(d=>d.toLocaleUpperCase()),Object.freeze(this)}applyToElement(e){let n=this.key.startsWith("data-");if(!(this.tags.length===0||this.tags.indexOf(e.tagName)>-1||n))console.warn(`Element ${e.tagName} does not support Attribute ${this.key}`);else if(n){let u=this.key.substring(5);e.dataset[u]=this.value}else this.key==="style"?Object.assign(e.style,this.value):this.key==="classList"?this.value.forEach(u=>e.classList.add(u)):this.bySetAttribute?e.setAttribute(this.key,this.value):this.key in e?e[this.key]=this.value:this.value===!1?e.removeAttribute(this.key):this.value===!0?e.setAttribute(this.key,""):e.setAttribute(this.key,this.value)}};function R(t){return new H("className",t,!1)}function O(t){return new H("id",t,!1)}var c=class{constructor(e,n){this.key=e;this.value=n;this.name=e.replace(/[A-Z]/g,r=>`-${r.toLocaleLowerCase()}`)}applyToElement(e){e.style[this.key]=this.value}},qe=class{constructor(...e){this.rest=e}applyToElement(e){for(let n of this.rest)n.applyToElement(e)}};function ve(...t){return new qe(...t)}function K(t){return new c("backgroundColor",t)}function Ye(...t){return new c("backgroundImage",t.join(", "))}function Xe(t){return new c("border",t)}function Nt(t){return new c("borderBottomLeftRadius",t)}function Dt(t){return new c("borderBottomRightRadius",t)}function ye(t){return new c("borderRadius",t)}function kt(t){return new c("borderTopLeftRadius",t)}function Bt(t){return new c("borderTopRightRadius",t)}function Vt(t){return new c("boxShadow",t)}function X(t){return new c("color",t)}function U(t){return new c("display",t)}function Re(t){return new c("fontFamily",t)}function Je(t){return new c("fontSize",t)}function Ze(t){return new c("fontWeight",t)}function N(t){return new c("height",t)}function Qe(t){return new c("left",t)}function et(t){return new c("margin",t)}function At(t){return new c("marginLeft",t)}function Ft(t){return new c("marginRight",t)}function Ht(t){return new c("marginTop",t)}function tt(t){return new c("overflow",t)}function J(...t){return new c("padding",t.join(" "))}function Kt(t){return new c("pointerEvents",t)}function nt(t){return new c("position",t)}function Ut(t){return new c("textTransform",t)}function Z(t){return new c("top",t)}function zt(t){return new c("transform",t)}function D(t){return new c("width",t)}function Q(t){return new c("zIndex",F(t)?t.toFixed(0):t)}var We=class{constructor(e,n){this.selector=e;this.props=n}apply(e){let n=this.props.map(r=>`${r.name}: ${r.value};`).join("");e.insertRule(`${this.selector} {${n}}`,e.cssRules.length)}};function E(t,...e){return new We(t,e)}function Gt(t){return L(t)?t.element instanceof Node:!1}function Qn(t){return L(t)&&"elements"in t&&t.elements instanceof Array}function rt(t){return Gt(t)?t.element:t}function er(t){return L(t)&&"applyToElement"in t&&y(t.applyToElement)}function ee(t,...e){t=rt(t);for(let n of e)i(n)&&(n instanceof Node?t.append(n):Gt(n)?t.append(rt(n)):Qn(n)?t.append(...n.elements.map(rt)):er(n)?n.applyToElement(t):t.append(document.createTextNode(n.toLocaleString())));return t}function ot(t){return document.querySelector(t)}function it(t,...e){let n=null;for(let r of e)if(r instanceof H&&r.key==="id"){n=document.getElementById(r.value);break}return n==null&&(n=document.createElement(t)),ee(n,...e),n}function w(...t){return it("div",...t)}function p(...t){return it("p",...t)}function jt(...t){return it("span",...t)}function $t(...t){let e=document.createElement("style");document.head.append(e);for(let n of t)n.apply(e.sheet);return e}var we=class{constructor(e,n,r){this.name=e;this.callback=n;if(!y(n))throw new Error("A function instance is required for this parameter");this.opts=r,Object.freeze(this)}applyToElement(e){this.add(e)}add(e){e.addEventListener(this.name,this.callback,this.opts)}remove(e){e.removeEventListener(this.name,this.callback)}};function qt(t,e){return new we("mouseout",t,e)}function Wt(t,e){return new we("touchstart",t,e)}function _e(t,e){return t.splice(e,1)[0]}function te(t){return t.splice(0)}function Se(t,e){let n=e!=null?1:0,r=Math.floor(Math.random()*(t.length+n))-n;return r<0?e:t[r]}function z(t,e){let n=t.indexOf(e);return n>-1?(_e(t,n),!0):!1}var st=class{constructor(e){this.items=new Map;this.defaultItems=new Array;if(s(e))for(let[n,r]of e)this.add(n,r)}add(e,n){if(f(e))this.defaultItems.push(n);else{let r=this.items.get(e);f(r)&&this.items.set(e,r=[]),r.push(n)}return this}entries(){return this.items.entries()}[Symbol.iterator](){return this.entries()}keys(){return this.items.keys()}*values(){for(let e of this.defaultItems)yield e;for(let e of this.items.values())for(let n of e)yield n}has(e){return s(e)?this.items.has(e):this.defaultItems.length>0}get(e){return f(e)?this.defaultItems:this.items.get(e)||[]}count(e){if(f(e))return this.defaultItems.length;let n=this.get(e);return s(n)?n.length:null}get size(){let e=this.defaultItems.length;for(let n of this.items.values())e+=n.length;return e}delete(e){return f(e)?te(this.defaultItems).length>0:this.items.delete(e)}remove(e,n){if(f(e))z(this.defaultItems,n);else{let r=this.items.get(e);s(r)&&(z(r,n),r.length===0&&this.items.delete(e))}}clear(){this.items.clear(),te(this.defaultItems)}};var G=class{constructor(e,n,r=!0){this._resolve=null;this._reject=null;this._result=null;this._error=null;this._started=!1;this._finished=!1;this.resolve=null;this.reject=null;let u=Me,d=Me;k(e)&&(u=e),k(n)&&(d=n),ne(e)?r=e:ne(n)&&(r=n),this.resolve=m=>{s(this._resolve)&&this._resolve(m)},this.reject=m=>{s(this._reject)&&this._reject(m)},this.promise=new Promise((m,I)=>{this._resolve=g=>{u(g)&&(this._result=g,this._finished=!0,m(g))},this._reject=g=>{d(g)&&(this._error=g,this._finished=!0,I(g))}}),r&&this.start()}get result(){if(s(this.error))throw this.error;return this._result}get error(){return this._error}get started(){return this._started}get finished(){return this._finished}start(){this._started=!0}get[Symbol.toStringTag](){return this.promise.toString()}then(e,n){return this.promise.then(e,n)}catch(e){return this.promise.catch(e)}finally(e){return this.promise.finally(e)}};var Qt=class{constructor(e,n,r){this.callback=null;this.promise=new Promise((u,d)=>{this.callback=(...m)=>{e(...m)?u(n(...m)):d(r(...m))}})}get[Symbol.toStringTag](){return this.promise.toString()}then(e,n){return this.promise.then(e,n)}catch(e){return this.promise.catch(e)}finally(e){return this.promise.finally(e)}};var or=/OculusBrowser\/(\d+)\.(\d+)\.(\d+)/i,Pe=navigator.userAgent.match(or),Ie=!!Pe,hm=Ie&&{major:parseFloat(Pe[1]),minor:parseFloat(Pe[2]),patch:parseFloat(Pe[3])},dm=Ie&&/pacific/i.test(navigator.userAgent),gm=Ie&&/quest/i.test(navigator.userAgent),Em=Ie&&/quest 2/i.test(navigator.userAgent);var bm=!("Document"in globalThis);var ir=298.257223563,sr=6378137;var ut=1/ir,Le=1-ut,l=ut/(2-ut),Tm=sr/(1+l)*(1+l*l/4+l*l*l*l/64),Ce=Math.sqrt(1-Le*Le),T=1-Le*Le,vm=Ce*Ce/(1-Ce*Ce),ym=1-T*(.25+T*(3/64+5*T/256)),Rm=T*(3/8+T*(3/32+45*T/1024)),wm=T*T*(15/256+T*45/1024),_m=T*T*T*(35/3072),Sm=[l/2-2*l*l/3+37*l*l*l/96,l*l/48+l*l*l/15,17*l*l*l/480],Mm=[2*l-2*l*l/3,7*l*l/3-8*l*l*l/5,56*l*l*l/15];function Me(){return!0}var of=2*Math.PI;function tn(t,e,n){return(1-n)*t+n*e}function nn(t,e,n){return typeof t===e||t instanceof n}function k(t){return nn(t,"function",Function)}function ne(t){return nn(t,"boolean",Boolean)}function f(t){return t==null}function s(t){return!f(t)}var pr="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZ";function rn(t,e){if(t<0)throw new Error("Length must be greater than 0");f(e)&&(e=pr);let n="";for(let r=0;r<t;++r){let u=Math.floor(Math.random()*e.length);n+=e[u]}return n}var at=class{constructor(){this.t=0;this.dt=0;this.sdt=0;this.fps=0}set(e,n){this.t=e,this.dt=n,this.sdt=tn(this.sdt,n,.01),n>0&&(this.fps=1e3/n)}},Oe=class extends at{constructor(){super(),Object.seal(this)}};var oe,re=class{constructor(e){this.timer=null;this.lt=-1;this.tickHandlers=new Array;pe(this,oe,null);this.targetFPS=e;let n=new Oe,r=0;this.onTick=u=>{this.lt>=0&&(r=u-this.lt,n.set(u,r),this.tick(n)),this.lt=u}}get targetFPS(){return ce(this,oe)}set targetFPS(e){me(this,oe,e)}addTickHandler(e){this.tickHandlers.push(e)}removeTickHandler(e){z(this.tickHandlers,e)}tick(e){for(let n of this.tickHandlers)n(e)}restart(){this.stop(),this.start()}get isRunning(){return this.timer!=null}stop(){this.timer=null,this.lt=-1}get targetFrameTime(){return 1e3/this.targetFPS}};oe=new WeakMap;function lt(t){return s(t)&&t.length>0?parseFloat(t):null}var on=class{constructor(e,n){this._url=null;this._base=void 0;this._protocol=null;this._host=null;this._hostName=null;this._userName=null;this._password=null;this._port=null;this._pathName=null;this._hash=null;this._query=new Map;e!==void 0&&(this._url=new URL(e,n),this.rehydrate())}rehydrate(){s(this._protocol)&&this._protocol!==this._url.protocol&&(this._url.protocol=this._protocol),s(this._host)&&this._host!==this._url.host&&(this._url.host=this._host),s(this._hostName)&&this._hostName!==this._url.hostname&&(this._url.hostname=this._hostName),s(this._userName)&&this._userName!==this._url.username&&(this._url.username=this._userName),s(this._password)&&this._password!==this._url.password&&(this._url.password=this._password),s(this._port)&&this._port.toFixed(0)!==this._url.port&&(this._url.port=this._port.toFixed(0)),s(this._pathName)&&this._pathName!==this._url.pathname&&(this._url.pathname=this._pathName),s(this._hash)&&this._hash!==this._url.hash&&(this._url.hash=this._hash);for(let[e,n]of this._query)this._url.searchParams.set(e,n);this._protocol=this._url.protocol,this._host=this._url.host,this._hostName=this._url.hostname,this._userName=this._url.username,this._password=this._url.password,this._port=lt(this._url.port),this._pathName=this._url.pathname,this._hash=this._url.hash,this._url.searchParams.forEach((e,n)=>this._query.set(n,e))}refresh(){if(this._url===null){if(s(this._protocol)&&(s(this._host)||s(this._hostName))){if(s(this._host))return this._url=new URL(`${this._protocol}//${this._host}`,this._base),this._port=lt(this._url.port),this.rehydrate(),!1;if(s(this._hostName))return this._url=new URL(`${this._protocol}//${this._hostName}`,this._base),this.rehydrate(),!1}else if(s(this._pathName)&&s(this._base))return this._url=new URL(this._pathName,this._base),this.rehydrate(),!1}return s(this._url)}base(e){if(this._url!==null)throw new Error("Cannot redefine base after defining the protocol and domain");return this._base=e,this.refresh(),this}protocol(e){return this._protocol=e,this.refresh()&&(this._url.protocol=e),this}host(e){return this._host=e,this.refresh()&&(this._url.host=e,this._hostName=this._url.hostname,this._port=lt(this._url.port)),this}hostName(e){return this._hostName=e,this.refresh()&&(this._url.hostname=e,this._host=`${this._url.hostname}:${this._url.port}`),this}port(e){return this._port=e,this.refresh()&&(this._url.port=e.toFixed(0),this._host=`${this._url.hostname}:${this._url.port}`),this}userName(e){return this._userName=e,this.refresh()&&(this._url.username=e),this}password(e){return this._password=e,this.refresh()&&(this._url.password=e),this}path(e){return this._pathName=e,this.refresh()&&(this._url.pathname=e),this}pathPop(e){return e=e||/\/[^\/]+\/?$/,this.path(this._pathName.replace(e,""))}pathPush(e){let n=this._pathName;return n.endsWith("/")||(n+="/"),n+=e,this.path(n)}query(e,n){return this._query.set(e,n),this.refresh()&&this._url.searchParams.set(e,n),this}hash(e){return this._hash=e,this.refresh()&&(this._url.hash=e),this}toURL(){return this._url}toString(){return this._url.href}[Symbol.toStringTag](){return this.toString()}};function ct(t){let e=new Map;for(let[n,r]of t)e.set(r,n);return e}var mr=new Map([[1,"KiB"],[2,"MiB"],[3,"GiB"],[4,"TiB"]]),fr=new Map([[1,"KB"],[2,"MB"],[3,"GB"],[4,"TB"]]),Td=ct(mr),vd=ct(fr);var sn=304.79999999999995,Rd=sn*3,hr=10*100,dr=sn*16.5,gr=dr*40,wd=hr*1e3,_d=gr*8,un=2.54*4,an=un*3,Sd=an*3,Er=an*16.5,br=Er*40,Md=100*1e3,Pd=br*8,pt=4*3,xr=pt*3,mt=100/2.54,Tr=pt*16.5,vr=Tr*40,Id=mt*1e3,Cd=vr*8,Ld=3*3,yr=100/un,Rr=3*16.5,wr=Rr*40,Od=yr*1e3,Nd=wr*8,ln=mt/pt,_r=16.5*40,Dd=ln*1e3,kd=_r*8,Sr=mt/xr,Mr=16.5/3,Pr=Mr*40,Bd=Sr*1e3,Vd=Pr*8,cn=16.5/ln,pn=cn*40,Ad=pn*8,Fd=1e3/cn,Hd=40*8,Ir=1e3/pn,Kd=8/Ir;document.title="No More Jabber Yabs: The Game";$t(E("html, body, .cloud, .cloud-bit, .frowny, .shadow, .boop, .beam, .subBeam, .endMessage, #scoreBox",nt("absolute")),E("html, body",N("100%"),D("100%"),J(0),et(0),Xe(0),tt("hidden")),E("body",Re("sans-serif"),K("hsl(200, 50%, 75%)"),Ye("linear-gradient(hsl(200, 50%, 50%), hsl(200, 20%, 75%) 75%, hsl(100, 75%, 50%) 75%, hsl(100, 100%, 20%))")),E("#scoreBox, .endMessage, .frowny, #instructions",Je("24pt")),E("#scoreBox",U("none"),X("white"),Z(0),Qe(0),J("1em")),E(".endMessage",U("none"),J("1em"),Z(0),Q(9001),Kt("none"),X("white")),E(".cloud-bit",K("white"),D("100px"),N("50px"),Dt("25px"),Nt("50px"),Bt("12.5px"),kt("6.25px")),E(".frowny",Re("fixedsys, monospace"),J("5px"),Xe("solid 2px black"),ye("10px"),zt("rotate(90deg)"),D("50px"),N("50px"),tt("hidden")),E(".shadow",D("45px"),N("10px"),ye("5px"),Ye("radial-gradient(black, transparent)"),K("grey")),E(".boop",U("none"),X("white"),Ut("uppercase"),Re("sans-serif"),Ze("bold"),Je("10pt"),Q(9001)),E(".beam, .subBeam",U("none"),K("red"),Vt("0 0 25px red"),Qe("0")),E(".beam",Z("0"),D("50px"),N("50px"),ye("50%")),E(".subBeam",Z("50%"),N("2000px")),E("#instructions",nt("relative"),Ze("bold"),At("auto"),Ft("auto"),Ht("3em"),D("20em"),Q(9001)));function Ne(){return jt(R("pointDisplay"),0)}ee(document.body,w(O("instructions"),"Go ahead, click and hold the mouse"),w(O("scoreBox"),"GET EM: ",Ne()),w(O("message0"),R("endMessage"),p("You have killed everyone. You did it. Just you. Noone else."),p("And why have you done this? Because you were ordered to? The pursuit of points?"),p("You got your points. All ",Ne()," of them. What will you do with them? There's noone left. And it's not like they took them as currency, anyway."),p("For no reason whatsoever, you have committed genocide against another race of people. Congratulations."),p("Hitler.")),w(O("message1"),R("endMessage"),p("You have killed almost everyone. Their bodies are strewn about on the ground they once called their home."),p("There is but one person left. Did you spare them out of mercy? Or have you left them, devoid of personal contact, alone, surrounded by the burned and rotting bodies of their former loved ones, to serve as witness to your terrible deeds?"),p("And why have you done this? Because you were ordered to? The pursuit of points?"),p("You got your points. All ",Ne(),"  of them. What will you do with them? There's noone left. And it's not like they took them as currency, anyway."),p("You are sick.")),w(O("message2"),R("endMessage"),p("You have killed almost everyone. Their bodies are strewn about on the ground they once called their home."),p("There are only two people left. Did you spare them out of mercy? Or have you left them, surrounded by the burned and rotting bodies of their former loved ones, to repopulate their world together, to serve as witness to your terrible deeds to future generations?"),p("And why have you done this? Because you were ordered to? The pursuit of points?"),p("You got your points. All ",Ne(),"  of them. What will you do with them? There's noone left. And it's not like they took them as currency, anyway."),p("I...I don't understand you.")),w(O("messageN"),R("endMessage"),ve(X("black")),p('"Hi there!"'),p("You blink. Did someone speak?"),p('"Down here!"'),p("It's the people below."),p('"We noticed you up there. What are you doing?"'),p("You reply, haltingly, that you do not know."),p('"Oh, well, okay. Cool beans. Later!"')));var j=Math.round(window.innerWidth/30),bn=Math.round(window.innerWidth/200),Cr=2,mn=5e3,Lr=["#FFDFC4","#F0D5BE","#EECEB3","#E1B899","#E5C298","#FFDCB2","#E5B887","#E5A073","#E79E6D","#DB9065","#CE967C","#C67856","#BA6C49","#A57257","#F0C8C9","#DDA8A0","#B97C6D","#A8756C","#AD6452","#5C3836","#CB8442","#BD723C","#704139","#A3866A","#870400","#710101","#430000","#5B0001","#302E2E"],Or=["ow!","yikes!","holy cow!","ouch!","that smarts!","ow!","yikes!","holy cow!","ouch!","that smarts!","ow!","yikes!","holy cow!","ouch!","that smarts!","mother puss-bucket!"],Nr=[":)",":o",":^",":.",":P",":D"],Dr=[":(",":(",":(",":(",":(",":(",":O"],Be=ot("#instructions"),De=ot("#scoreBox"),fn=document.querySelectorAll(".pointDisplay"),ae=document.querySelectorAll(".endMessage"),le=new AudioContext,xn=le.createGain(),B=new Array,Tn=new Array,ie=new Map;xn.connect(le.destination);var Fe=!1,ft=1,ht=null,dt=0,gt=1,hn=-1,P=0,ke=0,dn,gn;Be.style.opacity="1";var kr=Math.pow(2,1/12);function Br(t){return 440*Math.pow(kr,t-49)}for(v=0;v<88;++v)se=le.createGain(),se.gain.value=0,ue=le.createOscillator(),ue.frequency.value=Br(v+1),ue.type="sawtooth",ue.start(),ue.connect(se),se.connect(xn),Tn.push(se);var se,ue,v;function _(t,e,n){var r=Tn[t];r&&(ie.has(r)&&(clearTimeout(ie.get(r)),ie.delete(r)),r.gain.value=e,ie.set(r,setTimeout(()=>{r.gain.value=0,ie.delete(r)},n*1e3)))}function b(t,e){return t+Math.random()*(e-t)}function S(t,e){return Math.floor(b(t,e))}function Vr(t){var e=0;if(P>0?e=Math.floor(t/2e3%4)+Math.floor(t/1e3%2)/2:e=Math.floor(t/500%4)+Math.floor(t/250%3)/3,hn!==e){var n=.2;if(rn,e>=S(0,4)&&(e=Math.floor(e),n/=2),P>0){var r=25-Math.floor(e*4)+S(-1,2)*3;_(r,.04,n),_(r+3,.04,n),_(r+7,.04,n)}else{var r=40+Math.floor(e*3)+S(-1,2)*4;_(r,.04,.05),_(r+S(3,5),.04,.05)}}hn=e}function Ve(t){t=t||document.body,t.style.transform="translate("+b(-4,4)+"px,"+b(-4,4)+"px)"}function xt(t){return B.push(t),ee(document.body,t),t}function Ar(t){return t instanceof Ae}var Ae=class{constructor(){o(this,"element");o(this,"boop");o(this,"shadow");o(this,"alive");o(this,"hits");o(this,"onground");o(this,"x");o(this,"y");o(this,"z");o(this,"f");o(this,"dx");o(this,"dy");o(this,"df");o(this,"width");o(this,"height");o(this,"boopFor");o(this,"boopX");o(this,"boopY");o(this,"boopDX");o(this,"boopDY");this.alive=!0,this.hits=0,this.onground=!1,this.x=b(0,window.innerWidth),this.y=b(0,window.innerHeight/2),this.z=S(0,10),this.f=0,this.dx=b(-1,1),this.dy=0,this.df=b(.05,.1),this.element=w(R("frowny"),qt(this.jump.bind(this,"boop")),Wt(this.jump.bind(this,"boop")),ve(K(Se(Lr)),Q(this.z))),this.width=5,this.height=5,this.boop=w(R("boop"),"boop"),this.boopFor=0,this.boopX=0,this.boopY=0,this.boopDX=0,this.boopDY=0,this.shadow=w(R("shadow")),document.body.append(this.boop,this.shadow),this.render()}jump(e){this.onground&&(this.boop.innerHTML=e,this.dy=-5,this.onground=!1,this.boopX=this.x,this.boopY=this.y-125,this.boopDX=b(-.5,.5),this.boopDY=b(-.5,0),this.boopFor=100,_(30+3*S(0,5),.125,.05),Fe=!0)}render(){this.boop.style.display=this.boopFor>0?"block":"none",this.boop.style.left=this.boopX+"px",this.boop.style.top=this.boopY+"px",this.boop.style.transform="scale("+(.5+this.boopFor/200)+")",this.shadow.style.left=this.element.style.left=this.x+"px",this.element.style.top=this.y+10*this.z-120+"px",this.shadow.style.top=10*this.z+window.innerHeight-120+"px";var e=Math.sqrt(Math.abs(this.dy))*10;this.element.style.paddingLeft=this.element.style.paddingRight=this.height+e+"px",this.element.style.paddingTop=this.element.style.paddingBottom=this.width-e+"px",this.alive&&this.f>1?(this.element.innerHTML=Se(P>0?Dr:Nr),this.f=0):this.alive||(this.element.innerHTML="X(")}update(e){this.boopFor-=e,this.boopX+=this.boopDX*e,this.boopY+=this.boopDY*e,this.x+=this.dx*e,this.y+=this.dy*e,this.f+=this.df*e,this.onground||(this.dy=this.dy+.1*e),(this.x<=0&&this.dx<0||this.x+this.element.clientWidth>=window.innerWidth&&this.dx>0)&&(this.dx*=-1),!this.onground&&this.y+this.element.clientHeight>=window.innerHeight&&this.dy>0&&(this.dy>2?this.dy*=-.5:(this.onground=!0,this.dy=0,this.alive||(this.dx=0)),_((P>0?10:20)+3*S(0,5),.125,.05),Ve())}},Et=class{constructor(){o(this,"element");o(this,"x");o(this,"y");o(this,"dx");this.element=document.createElement("div"),this.element.className="cloud";for(var e=S(4,7),n=0;n<e;++n){var r=document.createElement("div");r.className="cloud-bit",r.style.top=b(-25,25)+"px",r.style.left=b(-50,50)+"px",this.element.appendChild(r)}this.x=b(0,window.innerWidth),this.y=b(0,window.innerHeight/4)+50,this.dx=b(-.25,.25),this.element.style.zIndex=(-this.y).toFixed(0),this.render()}render(){this.element.style.left=this.x+"px",this.element.style.top=this.y+"px"}update(e){this.x+=this.dx*e,(this.x<=0&&this.dx<0||this.x+this.element.clientWidth>=window.innerWidth&&this.dx>0)&&(this.dx*=-1)}},bt=class{constructor(){o(this,"element");o(this,"subBeam");o(this,"x");o(this,"y");o(this,"t");o(this,"charging");o(this,"firing");o(this,"enabled");this.x=0,this.y=0,this.t=0,this.charging=!1,this.firing=!1,this.enabled=!0,this.element=document.createElement("div"),this.element.className="beam",this.subBeam=document.createElement("div"),this.subBeam.className="subBeam",this.element.appendChild(this.subBeam)}disable(){this.enabled=!1}update(e){if(this.charging&&this.t<100?(this.t+=e,this.t>=100&&(this.firing=!0,En&&clearTimeout(En))):!this.charging&&this.t>0&&(this.t-=e/4,this.t<=0&&(this.firing=!1)),this.firing){Ve(this.element);for(var n=0,r=this.t/10;n<r;++n)_(87-n,.02,e/100);for(var n=0;n<j;++n){var u=B[n];if(Ar(u)&&u.alive&&u.onground)if(this.x<=u.x+50&&this.x+50>=u.x){if(P===0){De.style.display="block",document.body.style.backgroundImage="linear-gradient(hsl(0, 50%, 0%), hsl(0, 50%, 50%) 75%, hsl(0, 50%, 15%) 75%, hsl(0, 50%, 33%))";for(var d=0;d<bn;++d)for(var m=B[j+d].element,I=0;I<m.children.length;++I){var g=m.children[I].style;g.backgroundColor="black"}}++P;for(var d=0;d<fn.length;++d)fn[d].innerHTML=P.toFixed(0);Ve(u.element),++u.hits,u.hits>=Cr?(u.alive=!1,++ke,P+=10,ke===j-2?dn=setTimeout(()=>{ae[2].style.display="block",De.style.display="none",this.disable()},mn):ke===j-1?(clearTimeout(dn),gn=setTimeout(()=>{ae[1].style.display="block",De.style.display="none",this.disable()},mn)):ke===j&&(clearTimeout(gn),ae[0].style.display="block",De.style.display="none",this.disable())):u.element.style.transform+=" rotate(90deg)",u.jump(Se(Or)),_(10+S(-1,2),.1,.05)}else this.x<=u.x+200&&this.x+200>=u.x&&(Ve(u.element),u.element.style.transform+=" rotate(90deg)")}}else if(this.charging)for(var yn=Math.floor(this.t/10)+70,n=70;n<yn;++n)_(n,.02,e/100)}render(){this.element.style.display=this.charging||this.firing?"block":"none",this.subBeam.style.display=this.firing?"block":"none",this.element.style.left=this.x+"px",this.element.style.top=this.y+"px";var e="hsl(0, 100%, "+this.t+"%)";this.element.style.backgroundColor=this.subBeam.style.backgroundColor=e,this.element.style.boxShadow=this.subBeam.style.boxShadow="0 0 25px "+e,this.subBeam.style.width=this.t+"%",this.subBeam.style.left=(100-this.t)/2+"%",this.subBeam.style.opacity=(this.t/100).toFixed(3)}start(e){le.resume(),Fe=!0,this.x=e.clientX-10,this.y=e.clientY-10,this.enabled&&(this.charging=!0)}end(){this.element.style.display="none",this.charging=!1,this.firing||(this.t=0)}move(e){this.x=e.clientX-10,this.y=e.clientY-10}};for(v=0;v<j;++v)xt(new Ae);var v;for(v=0;v<bn;++v)xt(new Et);var v,M=xt(new bt);document.addEventListener("mousedown",M.start.bind(M),!1);document.addEventListener("mousemove",t=>{M.move(t),t.preventDefault()},!1);document.addEventListener("mouseup",M.end.bind(M),!1);document.addEventListener("touchstart",function(t){t.touches.length===1&&(M.start(t.touches[0]),t.preventDefault())},!1);document.addEventListener("touchmove",function(t){M.move(t.touches[0]),t.preventDefault()},!1);document.addEventListener("touchend",function(t){t.touches.length===0&&(M.end(),t.preventDefault())},!1);function vn(t){if(requestAnimationFrame(vn),Vr(t),ht!=null){for(dt+=(t-ht)/10;dt>=gt;){for(var e=0;e<B.length;++e)B[e].update(gt);dt-=gt}for(var e=0;e<B.length;++e)B[e].render()}ht=t,Fe&&ft>0&&(Be.style.opacity=(parseFloat(Be.style.opacity)-.05).toFixed(3),ft-=.05,Be.style.transform="scale("+Math.pow(ft,.25)+")")}setTimeout(function(){Fe=!0},5e3);var En=setTimeout(function(){ae[ae.length-1].style.display="block",M.disable()},15e3);requestAnimationFrame(vn);
//# sourceMappingURL=index.min.js.map
