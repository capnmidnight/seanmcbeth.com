function k(){return!0}var Oe=["change","click","contextmenu","dblclick","mouseup","pointerup","reset","submit","touchend"];function Re(e,t){let n=t||k,r=async o=>{if(o.isTrusted&&await n()){for(let i of Oe)window.removeEventListener(i,r);await e()}};for(let o of Oe)window.addEventListener(o,r)}function D(e,t,n){return typeof e===t||e instanceof n}function l(e){return D(e,"function",Function)}function B(e){return D(e,"string",String)}function b(e){return D(e,"boolean",Boolean)}function V(e){return D(e,"number",Number)}function de(e){return a(e)&&D(e,"object",Object)}function De(e,t){throw new Error((t||"Unexpected object: ")+e)}function f(e){return e==null}function a(e){return!f(e)}function Y(e,t,n){e.splice(n,0,t)}function q(e,t){return e.splice(t,1)[0]}function fe(e,t){let n=e.indexOf(t);return n>-1?(q(e,n),!0):!1}function vt(e){return e}function Et(e,t,n){let r=0,o=e.length,i=Math.floor((r+o)/2),h=!1;for(;r<o&&i<e.length;){let A=e[i],R=f(A)?null:n(A);a(R)&&t<R?o=i:(t===R&&(h=!0),r=i+1),i=Math.floor((r+o)/2)}return h||(i+=.5),i}function Ne(e,t,n){n=n||vt;let r=n(t);return Et(e,r,n)}function me(e,t,n,r){let o;return l(n)?o=n:b(n)&&(r=n),f(r)&&(r=!0),yt(e,t,o,r)}function yt(e,t,n,r){let o=Ne(e,t,n),i=o%1===0;return o=o|0,(!i||r)&&Y(e,t,o),o}var X=class{constructor(t){this.value=t;this._forward=new Array;this._reverse=new Array}connectSorted(t,n){a(n)?(me(this._forward,t,r=>n(r.value)),me(t._reverse,this,r=>n(r.value))):this.connectTo(t)}connectTo(t){this.connectAt(t,this._forward.length)}connectAt(t,n){Y(this._forward,t,n),t._reverse.push(this)}disconnectFrom(t){fe(this._forward,t),fe(t._reverse,this)}isConnectedTo(t){return this._forward.indexOf(t)>=0||this._reverse.indexOf(t)>=0}flatten(){let t=new Set,n=[this];for(;n.length>0;){let r=n.shift();a(r)&&!t.has(r)&&(t.add(r),n.push(...r._forward))}return Array.from(t)}get _isEntryPoint(){return this._reverse.length===0}get _isExitPoint(){return this._forward.length===0}get isDisconnected(){return this._isEntryPoint&&this._isExitPoint}get isConnected(){return!this._isExitPoint||!this._isEntryPoint}get isTerminus(){return this._isEntryPoint||this._isExitPoint}get isInternal(){return!this._isEntryPoint&&!this._isExitPoint}};var Z=class extends X{connectTo(t){super.connectTo(t)}connectAt(t,n){super.connectAt(t,n)}connectSorted(t,n){super.connectSorted(t,n)}disconnectFrom(t){super.disconnectFrom(t)}isConnectedTo(t){return super.isConnectedTo(t)}flatten(){return super.flatten()}get connections(){return this._forward}get isEntryPoint(){return this._isEntryPoint}get isExitPoint(){return this._isExitPoint}};var N=class extends Error{constructor(n,r=null){super(n);this.innerError=r}};function H(e){return e.splice(0)}var J=class{constructor(){this.listeners=new Map;this.listenerOptions=new Map}addEventListener(t,n,r){if(l(n)){let o=this.listeners.get(t);o||(o=new Array,this.listeners.set(t,o)),o.find(i=>i===n)||(o.push(n),r&&this.listenerOptions.set(n,r))}}removeEventListener(t,n){if(l(n)){let r=this.listeners.get(t);r&&this.removeListener(r,n)}}clearEventListeners(t){for(let[n,r]of this.listeners)if(f(t)||t===n){for(let o of r)this.removeEventListener(t,o);H(r),this.listeners.delete(n)}}removeListener(t,n){let r=t.findIndex(o=>o===n);r>=0&&(q(t,r),this.listenerOptions.has(n)&&this.listenerOptions.delete(n))}dispatchEvent(t){let n=this.listeners.get(t.type);if(n)for(let r of n){let o=this.listenerOptions.get(r);a(o)&&!b(o)&&o.once&&this.removeListener(n,r),r.call(this,t)}return!t.defaultPrevented}};var Q=class{constructor(t,n,r=!0){this.onThens=new Array;this.onCatches=new Array;this._result=void 0;this._error=void 0;this._started=!1;this._errored=!1;this._finished=!1;l(t)?this.resolveTest=t:this.resolveTest=k,l(n)?this.rejectTest=n:this.rejectTest=k,b(t)?this.autoStart=t:b(n)?this.autoStart=n:a(r)?this.autoStart=r:this.autoStart=!1,this.resolve=o=>{if(this.running&&this.resolveTest(o)){this._result=o;for(let i of this.onThens)i(o);this.clear(),this._finished=!0}},this.reject=o=>{if(this.running&&this.rejectTest(o)){this._error=o,this._errored=!0;for(let i of this.onCatches)i(o);this.clear(),this._finished=!0}},this.autoStart&&this.start()}clear(){H(this.onThens),H(this.onCatches)}start(){this._started=!0}get result(){if(a(this.error))throw this.error;return this._result}get error(){return this._error}get started(){return this._started}get finished(){return this._finished}get running(){return this.started&&!this.finished}get errored(){return this._errored}get[Symbol.toStringTag](){return this.toString()}project(){return new Promise((t,n)=>{this.finished?this.errored?n(this.error):t(this.result):(this.onThens.push(t),this.onCatches.push(n))})}then(t,n){return this.project().then(t,n)}catch(t){return this.project().catch(t)}finally(t){return this.project().finally(t)}reset(){this.running&&this.reject("Resetting previous invocation"),this.clear(),this._result=void 0,this._error=void 0,this._errored=!1,this._finished=!1,this._started=!1,this.autoStart&&this.start()}};function Fe(e,t){return"on"+t in e}function ge(e,t,n,...r){f(r)&&(r=[]);let o;if(B(n)?r.unshift(n):V(n)&&(o=n),!(e instanceof J)){if(!Fe(e,t))throw new N(`Target does not have a ${t} rejection event`);for(let d of r)if(!Fe(e,d))throw new N(`Target does not have a ${d} rejection event`)}let i=new Q;if(V(o)){let d=setTimeout(i.reject,o,`'${t}' has timed out.`);i.finally(clearTimeout.bind(globalThis,d))}let h=(d,Ie)=>{e.addEventListener(d,Ie),i.finally(()=>e.removeEventListener(d,Ie))},A=d=>i.resolve(d),R=d=>i.reject(d);h(t,A);for(let d of r)h(d,R);return i}function xe(e,t){let n=globalThis,r=n[e];if(f(r)){if(f(t))throw new Error(`No value ${e} found`);r=t(),n[e]=r}return r}var Ct="AudioContext"in globalThis,$e=Ct&&"AudioListener"in globalThis,Vn=$e&&"setPosition"in AudioListener.prototype,Hn=$e&&"positionX"in AudioListener.prototype,In=l(HTMLMediaElement.prototype.captureStream)||l(HTMLMediaElement.prototype.mozCaptureStream);var Ge=xe("Juniper:Audio:connections",()=>new Map),ze=xe("Juniper:Audio:names",()=>new Map);function Tt(e,t){ze.set(t,e)}function Lt(){let e=new Map;function t(n){e.has(n)||e.set(n,new Z(n))}for(let n of ze.keys())t(n);for(let[n,r]of Ge){t(n);for(let o of r)t(o)}for(let[n,r]of Ge){let o=e.get(n);for(let i of r)e.has(i)&&o.connectTo(e.get(i))}return Array.from(e.values())}globalThis.getAudioGraph=Lt;async function je(e){if(Tt("speakers",e.destination),e.state!=="running")if(e.state==="closed")await e.resume();else if(e.state==="suspended"){let t=ge(e,"statechange");Re(()=>e.resume()),await t}else De(e.state)}var y=class{constructor(t,n,r,...o){this.key=t;this.value=n;this.bySetAttribute=r;this.tags=o.map(i=>i.toLocaleUpperCase()),Object.freeze(this)}applyToElement(t){let n=this.key.startsWith("data-");if(!(this.tags.length===0||this.tags.indexOf(t.tagName)>-1||n))console.warn(`Element ${t.tagName} does not support Attribute ${this.key}`);else if(n){let o=this.key.substring(5);t.dataset[o]=this.value}else this.key==="style"?Object.assign(t.style,this.value):this.key==="classList"?this.value.forEach(o=>t.classList.add(o)):this.bySetAttribute?t.setAttribute(this.key,this.value):this.key in t?t[this.key]=this.value:this.value===!1?t.removeAttribute(this.key):this.value===!0?t.setAttribute(this.key,""):t.setAttribute(this.key,this.value)}};function m(e){return new y("className",e,!1)}function v(e){return new y("id",e,!1)}function We(e){return B(e)||(e=e.value),new y("type",e,!1,"button","input","command","embed","link","object","script","source","style","menu")}var s=class{constructor(t,n){this.key=t;this.value=n;this.name=t.replace(/[A-Z]/g,r=>`-${r.toLocaleLowerCase()}`)}applyToElement(t){t.style[this.key]=this.value}},he=class{constructor(...t){this.rest=t}applyToElement(t){for(let n of this.rest)n.applyToElement(t)}};function ee(...e){return new he(...e)}function I(e){return new s("backgroundColor",e)}function we(...e){return new s("backgroundImage",e.join(", "))}function Se(e){return new s("border",e)}function _e(e){return new s("borderBottomLeftRadius",e)}function Ke(e){return new s("borderBottomRightRadius",e)}function te(e){return new s("borderRadius",e)}function Ue(e){return new s("borderTopLeftRadius",e)}function Ye(e){return new s("borderTopRightRadius",e)}function qe(e){return new s("boxShadow",e)}function F(e){return new s("color",e)}function C(e){return new s("display",e)}function ne(e){return new s("fontFamily",e)}function ve(e){return new s("fontSize",e)}function Ee(e){return new s("fontWeight",e)}function T(e){return new s("height",e)}function ye(e){return new s("left",e)}function Ce(...e){return new s("margin",e.join(" "))}function Xe(e){return new s("marginLeft",e)}function Ze(e){return new s("marginRight",e)}function Je(e){return new s("marginTop",e)}function Te(...e){return new s("overflow",e.join(" "))}function G(...e){return new s("padding",e.join(" "))}function Qe(e){return new s("pointerEvents",e)}function Le(e){return new s("position",e)}function et(e){return new s("textTransform",e)}function $(e){return new s("top",e)}function tt(e){return new s("transform",e)}function L(e){return new s("width",e)}function z(e){return new s("zIndex",V(e)?e.toFixed(0):e)}var be=class{constructor(t,n){this.selector=t;this.props=n}apply(t){let n=this.props.map(r=>`${r.name}: ${r.value};`).join("");t.insertRule(`${this.selector} {${n}}`,t.cssRules.length)}};function c(e,...t){return new be(e,t)}function rt(e){return de(e)?e.element instanceof HTMLElement:!1}function nt(e){return rt(e)?e.element:e}function Mt(e){return de(e)&&"applyToElement"in e&&l(e.applyToElement)}function j(e,...t){e=nt(e);for(let n of t)a(n)&&(n instanceof Node?e.append(n):rt(n)?e.append(nt(n)):Mt(n)?n.applyToElement(e):e.append(document.createTextNode(n.toLocaleString())));return e}function re(e){return document.querySelector(e)}function oe(e,...t){let n=null;for(let r of t)if(r instanceof y&&r.key==="id"){n=document.getElementById(r.value);break}return n==null&&(n=document.createElement(e)),j(n,...t),n}function Pt(...e){return oe("button",...e)}function ot(...e){return Pt(...e,We("button"))}function g(...e){return oe("div",...e)}function u(...e){return oe("p",...e)}function it(...e){return oe("span",...e)}function st(...e){let t=document.createElement("style");document.head.append(t);for(let n of e)n.apply(t.sheet);return t}var W=class{constructor(t,n,r){this.name=t;this.callback=n;if(!l(n))throw new Error("A function instance is required for this parameter");this.opts=r,Object.freeze(this)}applyToElement(t){this.add(t)}add(t){t.addEventListener(this.name,this.callback,this.opts)}remove(t){t.removeEventListener(this.name,this.callback)}};function ut(e,t){return new W("click",e,t)}function at(e,t){return new W("mouseout",e,t)}function lt(e,t){return new W("touchstart",e,t)}function ie(e,t){let n=t!=null?1:0,r=Math.floor(Math.random()*(e.length+n))-n;return r<0?t:e[r]}document.title="No More Jabber Yabs: The Game";st(c("html, body, .cloud, .cloud-bit, .frowny, .shadow, .boop, .beam, .subBeam, .endMessage, #scoreBox",Le("absolute")),c("html, body",T("100%"),L("100%"),G(0),Ce(0),Se(0),Te("hidden")),c("body",ne("sans-serif"),I("hsl(200, 50%, 75%)"),we("linear-gradient(hsl(200, 50%, 50%), hsl(200, 20%, 75%) 75%, hsl(100, 75%, 50%) 75%, hsl(100, 100%, 20%))")),c("#scoreBox, .endMessage, .frowny, #instructions, #starter",ve("24pt")),c("#scoreBox",C("none"),F("white"),$("5em"),ye(0),G("1em")),c(".endMessage",C("none"),G("1em"),$(0),z(9001),Qe("none"),F("white")),c(".cloud-bit",I("white"),L("100px"),T("50px"),Ke("25px"),_e("50px"),Ye("12.5px"),Ue("6.25px")),c(".frowny",ne("fixedsys, monospace"),G("5px"),Se("solid 2px black"),te("10px"),tt("rotate(90deg)"),L("50px"),T("50px"),Te("hidden")),c(".shadow",L("45px"),T("10px"),te("5px"),we("radial-gradient(black, transparent)"),I("grey")),c(".boop",C("none"),F("white"),et("uppercase"),ne("sans-serif"),Ee("bold"),ve("10pt"),z(9001)),c(".beam, .subBeam",C("none"),I("red"),qe("0 0 25px red"),ye("0")),c(".beam",$("0"),L("50px"),T("50px"),te("50%")),c(".subBeam",$("50%"),T("2000px")),c("#instructions, #starter",Le("relative"),C("none"),Ee("bold"),Xe("auto"),Ze("auto"),Je("3em"),L("20em"),z(9001)));function se(){return it(m("pointDisplay"),0)}j(document.body,ot(v("starter"),"Start",ut(()=>P.resume())),g(v("instructions"),"Go ahead, click and hold the mouse"),g(v("scoreBox"),"GET EM: ",se()),g(v("message0"),m("endMessage"),u("You have killed everyone. You did it. Just you. Noone else."),u("And why have you done this? Because you were ordered to? The pursuit of points?"),u("You got your points. All ",se()," of them. What will you do with them? There's noone left. And it's not like they took them as currency, anyway."),u("For no reason whatsoever, you have committed genocide against another race of people. Congratulations."),u("Hitler.")),g(v("message1"),m("endMessage"),u("You have killed almost everyone. Their bodies are strewn about on the ground they once called their home."),u("There is but one person left. Did you spare them out of mercy? Or have you left them, devoid of personal contact, alone, surrounded by the burned and rotting bodies of their former loved ones, to serve as witness to your terrible deeds?"),u("And why have you done this? Because you were ordered to? The pursuit of points?"),u("You got your points. All ",se(),"  of them. What will you do with them? There's noone left. And it's not like they took them as currency, anyway."),u("You are sick.")),g(v("message2"),m("endMessage"),u("You have killed almost everyone. Their bodies are strewn about on the ground they once called their home."),u("There are only two people left. Did you spare them out of mercy? Or have you left them, surrounded by the burned and rotting bodies of their former loved ones, to repopulate their world together, to serve as witness to your terrible deeds to future generations?"),u("And why have you done this? Because you were ordered to? The pursuit of points?"),u("You got your points. All ",se(),"  of them. What will you do with them? There's noone left. And it's not like they took them as currency, anyway."),u("I...I don't understand you.")),g(v("messageN"),m("endMessage"),ee(F("black")),u('"Hi there!"'),u("You blink. Did someone speak?"),u('"Down here!"'),u("It's the people below."),u('"We noticed you up there. What are you doing?"'),u("You reply, haltingly, that you do not know."),u('"Oh, well, okay. Cool beans. Later!"')));var O=Math.round(window.innerWidth/30),xt=Math.round(window.innerWidth/200),At=2,ct=5e3,kt=["#FFDFC4","#F0D5BE","#EECEB3","#E1B899","#E5C298","#FFDCB2","#E5B887","#E5A073","#E79E6D","#DB9065","#CE967C","#C67856","#BA6C49","#A57257","#F0C8C9","#DDA8A0","#B97C6D","#A8756C","#AD6452","#5C3836","#CB8442","#BD723C","#704139","#A3866A","#870400","#710101","#430000","#5B0001","#302E2E"],Bt=["ow!","yikes!","holy cow!","ouch!","that smarts!","ow!","yikes!","holy cow!","ouch!","that smarts!","ow!","yikes!","holy cow!","ouch!","that smarts!","mother puss-bucket!"],Vt=[":)",":o",":^",":.",":P",":D"],Ht=[":(",":(",":(",":(",":(",":(",":O"],K=re("#instructions"),ht=re("#starter"),ue=re("#scoreBox"),pt=document.querySelectorAll(".pointDisplay"),U=document.querySelectorAll(".endMessage"),P=new AudioContext,bt=P.createGain(),M=new Array,wt=new Array,_=new Map,It=Math.pow(2,1/12),pe=!1,Me=1,Pe=null,Ae=0,ke=1,dt=-1,E=0,ae=0,ft,mt;function Ot(e){return 440*Math.pow(It,e-49)}function x(e,t,n){let r=wt[e];r&&(_.has(r)&&(clearTimeout(_.get(r)),_.delete(r)),r.gain.value=t,_.set(r,setTimeout(()=>{r.gain.value=0,_.delete(r)},n*1e3)))}function p(e,t){return e+Math.random()*(t-e)}function w(e,t){return Math.floor(p(e,t))}function Rt(e){let t=0;if(E>0?t=Math.floor(e/2e3%4)+Math.floor(e/1e3%2)/2:t=Math.floor(e/500%4)+Math.floor(e/250%3)/3,dt!==t){let n=.2;if(t>=w(0,4)&&(t=Math.floor(t),n/=2),E>0){let r=25-Math.floor(t*4)+w(-1,2)*3;x(r,.04,n),x(r+3,.04,n),x(r+7,.04,n)}else{let r=40+Math.floor(t*3)+w(-1,2)*4;x(r,.04,.05),x(r+w(3,5),.04,.05)}}dt=t}function le(e){e=e||document.body,e.style.transform="translate("+p(-4,4)+"px,"+p(-4,4)+"px)"}function Dt(e){return e instanceof ce}var ce=class{constructor(){this.alive=!0,this.hits=0,this.onground=!1,this.x=p(0,window.innerWidth),this.y=p(0,window.innerHeight/2),this.z=w(0,10),this.f=0,this.dx=p(-1,1),this.dy=0,this.df=p(.05,.1),this.element=g(m("frowny"),at(this.jump.bind(this,"boop")),lt(this.jump.bind(this,"boop")),ee(I(ie(kt)),z(this.z))),this.width=5,this.height=5,this.boop=g(m("boop"),"boop"),this.boopFor=0,this.boopX=0,this.boopY=0,this.boopDX=0,this.boopDY=0,this.shadow=g(m("shadow")),document.body.append(this.boop,this.shadow),this.render()}jump(t){this.onground&&(this.boop.innerHTML=t,this.dy=-5,this.onground=!1,this.boopX=this.x,this.boopY=this.y-125,this.boopDX=p(-.5,.5),this.boopDY=p(-.5,0),this.boopFor=100,x(30+3*w(0,5),.125,.05),pe=!0)}render(){this.boop.style.display=this.boopFor>0?"block":"none",this.boop.style.left=this.boopX+"px",this.boop.style.top=this.boopY+"px",this.boop.style.transform="scale("+(.5+this.boopFor/200)+")",this.shadow.style.left=this.element.style.left=this.x+"px",this.element.style.top=this.y+10*this.z-120+"px",this.shadow.style.top=10*this.z+window.innerHeight-120+"px";let t=Math.sqrt(Math.abs(this.dy))*10;this.element.style.paddingLeft=this.element.style.paddingRight=this.height+t+"px",this.element.style.paddingTop=this.element.style.paddingBottom=this.width-t+"px",this.alive&&this.f>1?(this.element.innerHTML=ie(E>0?Ht:Vt),this.f=0):this.alive||(this.element.innerHTML="X(")}update(t){this.boopFor-=t,this.boopX+=this.boopDX*t,this.boopY+=this.boopDY*t,this.x+=this.dx*t,this.y+=this.dy*t,this.f+=this.df*t,this.onground||(this.dy=this.dy+.1*t),(this.x<=0&&this.dx<0||this.x+this.element.clientWidth>=window.innerWidth&&this.dx>0)&&(this.dx*=-1),!this.onground&&this.y+this.element.clientHeight>=window.innerHeight&&this.dy>0&&(this.dy>2?this.dy*=-.5:(this.onground=!0,this.dy=0,this.alive||(this.dx=0)),x((E>0?10:20)+3*w(0,5),.125,.05),le())}},Be=class{constructor(){this.element=document.createElement("div"),this.element.className="cloud";let t=w(4,7);for(let n=0;n<t;++n){let r=document.createElement("div");r.className="cloud-bit",r.style.top=p(-25,25)+"px",r.style.left=p(-50,50)+"px",this.element.appendChild(r)}this.x=p(0,window.innerWidth),this.y=p(0,window.innerHeight/4)+50,this.dx=p(-.25,.25),this.element.style.zIndex=(-this.y).toFixed(0),this.render()}render(){this.element.style.left=this.x+"px",this.element.style.top=this.y+"px"}update(t){this.x+=this.dx*t,(this.x<=0&&this.dx<0||this.x+this.element.clientWidth>=window.innerWidth&&this.dx>0)&&(this.dx*=-1)}},Ve=class{constructor(){this.x=0,this.y=0,this.t=0,this.charging=!1,this.firing=!1,this.enabled=!0,this.element=document.createElement("div"),this.element.className="beam",this.subBeam=document.createElement("div"),this.subBeam.className="subBeam",this.element.appendChild(this.subBeam)}disable(){this.enabled=!1}update(t){if(this.charging&&this.t<100?(this.t+=t,this.t>=100&&(this.firing=!0,gt&&clearTimeout(gt))):!this.charging&&this.t>0&&(this.t-=t/4,this.t<=0&&(this.firing=!1)),this.firing){le(this.element);for(let n=0,r=this.t/10;n<r;++n)x(87-n,.02,t/100);for(let n=0;n<O;++n){let r=M[n];if(Dt(r)&&r.alive&&r.onground)if(this.x<=r.x+50&&this.x+50>=r.x){if(E===0){ue.style.display="block",document.body.style.backgroundImage="linear-gradient(hsl(0, 50%, 0%), hsl(0, 50%, 50%) 75%, hsl(0, 50%, 15%) 75%, hsl(0, 50%, 33%))";for(let o=0;o<xt;++o){let i=M[O+o].element;for(let h=0;h<i.children.length;++h){let A=i.children[h].style;A.backgroundColor="black"}}}++E;for(let o=0;o<pt.length;++o)pt[o].innerHTML=E.toFixed(0);le(r.element),++r.hits,r.hits>=At?(r.alive=!1,++ae,E+=10,ae===O-2?ft=setTimeout(()=>{U[2].style.display="block",ue.style.display="none",this.disable()},ct):ae===O-1?(clearTimeout(ft),mt=setTimeout(()=>{U[1].style.display="block",ue.style.display="none",this.disable()},ct)):ae===O&&(clearTimeout(mt),U[0].style.display="block",ue.style.display="none",this.disable())):r.element.style.transform+=" rotate(90deg)",r.jump(ie(Bt)),x(10+w(-1,2),.1,.05)}else this.x<=r.x+200&&this.x+200>=r.x&&(le(r.element),r.element.style.transform+=" rotate(90deg)")}}else if(this.charging){let n=Math.floor(this.t/10)+70;for(let r=70;r<n;++r)x(r,.02,t/100)}}render(){this.element.style.display=this.charging||this.firing?"block":"none",this.subBeam.style.display=this.firing?"block":"none",this.element.style.left=this.x+"px",this.element.style.top=this.y+"px";let t="hsl(0, 100%, "+this.t+"%)";this.element.style.backgroundColor=this.subBeam.style.backgroundColor=t,this.element.style.boxShadow=this.subBeam.style.boxShadow="0 0 25px "+t,this.subBeam.style.width=this.t+"%",this.subBeam.style.left=(100-this.t)/2+"%",this.subBeam.style.opacity=(this.t/100).toFixed(3)}start(t){P.resume(),pe=!0,this.x=t.clientX-10,this.y=t.clientY-10,this.enabled&&(this.charging=!0)}end(){this.element.style.display="none",this.charging=!1,this.firing||(this.t=0)}move(t){this.x=t.clientX-10,this.y=t.clientY-10}};function He(e){return M.push(e),j(document.body,e),e}for(let e=0;e<88;++e){let t=P.createGain();t.gain.value=0;let n=P.createOscillator();n.frequency.value=Ot(e+1),n.type="sawtooth",n.start(),n.connect(t),t.connect(bt),wt.push(t)}for(let e=0;e<O;++e)He(new ce);for(let e=0;e<xt;++e)He(new Be);var S=He(new Ve);document.addEventListener("mousedown",S.start.bind(S),!1);document.addEventListener("mousemove",e=>{S.move(e),e.preventDefault()},!1);document.addEventListener("mouseup",S.end.bind(S),!1);document.addEventListener("touchstart",function(e){e.touches.length===1&&(S.start(e.touches[0]),e.preventDefault())},!1);document.addEventListener("touchmove",function(e){S.move(e.touches[0]),e.preventDefault()},!1);document.addEventListener("touchend",function(e){e.touches.length===0&&(S.end(),e.preventDefault())},!1);function St(e){if(requestAnimationFrame(St),Rt(e),Pe!=null){for(Ae+=(e-Pe)/10;Ae>=ke;){for(let t=0;t<M.length;++t)M[t].update(ke);Ae-=ke}for(let t=0;t<M.length;++t)M[t].render()}Pe=e,pe&&Me>0&&(K.style.opacity=(parseFloat(K.style.opacity)-.05).toFixed(3),Me-=.05,K.style.transform="scale("+Math.pow(Me,.25)+")")}bt.connect(P.destination);K.style.opacity="1";ht.style.display="block";(async function(){await je(P),ht.style.display="none",K.style.display="block",requestAnimationFrame(St),setTimeout(function(){pe=!0},5e3)})();var gt=setTimeout(function(){U[U.length-1].style.display="block",S.disable()},15e3);
